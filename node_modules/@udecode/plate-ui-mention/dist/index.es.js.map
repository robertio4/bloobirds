{"version":3,"file":"index.es.js","sources":["../src/MentionCombobox/MentionCombobox.tsx","../src/MentionElement/MentionElement.styles.ts","../src/MentionElement/MentionElement.tsx","../src/MentionInputElement/MentionInputElement.styles.ts","../src/MentionInputElement/MentionInputElement.tsx"],"sourcesContent":["import React from 'react';\nimport { Data, NoData } from '@udecode/plate-combobox';\nimport { getPluginOptions, usePlateEditorRef } from '@udecode/plate-core';\nimport {\n  ELEMENT_MENTION,\n  getMentionOnSelectItem,\n  MentionPlugin,\n} from '@udecode/plate-mention';\nimport { Combobox, ComboboxProps } from '@udecode/plate-ui-combobox';\n\nexport interface MentionComboboxProps<TData extends Data = NoData>\n  extends Partial<ComboboxProps<TData>> {\n  pluginKey?: string;\n}\n\nexport const MentionCombobox = <TData extends Data = NoData>({\n  pluginKey = ELEMENT_MENTION,\n  id = pluginKey,\n  ...props\n}: MentionComboboxProps<TData>) => {\n  const editor = usePlateEditorRef();\n\n  const { trigger } = getPluginOptions<MentionPlugin>(editor, pluginKey);\n\n  return (\n    <Combobox\n      id={id}\n      trigger={trigger!}\n      controlled\n      onSelectItem={getMentionOnSelectItem({\n        key: pluginKey,\n      })}\n      {...props}\n    />\n  );\n};\n","import { Value } from '@udecode/plate-core';\nimport { createStyles } from '@udecode/plate-styled-components';\nimport { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { MentionElementStyleProps } from './MentionElement.types';\n\nexport const getMentionElementStyles = <V extends Value>(\n  props: MentionElementStyleProps<V>\n) =>\n  createStyles(\n    { prefixClassNames: 'MentionElement', ...props },\n    {\n      root: [\n        tw`my-0 mx-px align-baseline inline-block`,\n        props.selected && props.focused && tw`boxShadow[0 0 0 2px #B4D5FF]`,\n        css`\n          padding: 3px 3px 2px;\n          border-radius: 4px;\n          background-color: #eee;\n          font-size: 0.9em;\n        `,\n      ],\n    }\n  );\n","import React from 'react';\nimport { getHandler, Value } from '@udecode/plate-core';\nimport { getRootProps } from '@udecode/plate-styled-components';\nimport { useFocused, useSelected } from 'slate-react';\nimport { getMentionElementStyles } from './MentionElement.styles';\nimport { MentionElementProps } from './MentionElement.types';\n\nexport const MentionElement = <V extends Value>(\n  props: MentionElementProps<V>\n) => {\n  const {\n    attributes,\n    children,\n    nodeProps,\n    element,\n    prefix,\n    onClick,\n    renderLabel,\n  } = props;\n\n  const rootProps = getRootProps(props);\n\n  const selected = useSelected();\n  const focused = useFocused();\n\n  const styles = getMentionElementStyles({ ...props, selected, focused });\n\n  return (\n    <span\n      {...attributes}\n      data-slate-value={element.value}\n      className={styles.root.className}\n      css={styles.root.css}\n      contentEditable={false}\n      onClick={getHandler(onClick, element)}\n      {...rootProps}\n      {...nodeProps}\n    >\n      {prefix}\n      {renderLabel ? renderLabel(element) : element.value}\n      {children}\n    </span>\n  );\n};\n","import { Value } from '@udecode/plate-core';\nimport { createStyles } from '@udecode/plate-styled-components';\nimport tw, { css } from 'twin.macro';\nimport { MentionInputElementStyleProps } from './MentionInputElement.types';\n\nexport const getMentionInputElementStyles = <V extends Value>(\n  props: MentionInputElementStyleProps<V>\n) =>\n  createStyles(\n    { prefixClassNames: 'MentionInputElement', ...props },\n    {\n      root: [\n        tw`my-0 mx-px align-baseline inline-block`,\n        props.selected && props.focused && tw`boxShadow[0 0 0 2px #B4D5FF]`,\n        css`\n          padding: 3px 3px 2px;\n          border-radius: 4px;\n          background-color: #eee;\n          font-size: 0.9em;\n        `,\n      ],\n    }\n  );\n","import React from 'react';\nimport { getHandler, Value } from '@udecode/plate-core';\nimport { getRootProps } from '@udecode/plate-styled-components';\nimport { useFocused, useSelected } from 'slate-react';\nimport { getMentionInputElementStyles } from './MentionInputElement.styles';\nimport { MentionInputElementProps } from './MentionInputElement.types';\n\nexport const MentionInputElement = <V extends Value>(\n  props: MentionInputElementProps<V>\n) => {\n  const { attributes, children, nodeProps, element, as, onClick } = props;\n\n  const rootProps = getRootProps(props);\n\n  const selected = useSelected();\n  const focused = useFocused();\n\n  const styles = getMentionInputElementStyles({\n    ...props,\n    selected,\n    focused,\n  });\n\n  return (\n    <span\n      {...attributes}\n      as={as}\n      data-slate-value={element.value}\n      className={styles.root.className}\n      css={styles.root.css}\n      onClick={getHandler(onClick, element)}\n      {...rootProps}\n      {...nodeProps}\n    >\n      {children}\n    </span>\n  );\n};\n"],"names":["MentionCombobox","pluginKey","ELEMENT_MENTION","id","props","editor","usePlateEditorRef","trigger","getPluginOptions","getMentionOnSelectItem","key","getMentionElementStyles","createStyles","prefixClassNames","root","selected","focused","css","MentionElement","attributes","children","nodeProps","element","prefix","onClick","renderLabel","rootProps","getRootProps","useSelected","useFocused","styles","value","className","getHandler","getMentionInputElementStyles","MentionInputElement","as"],"mappings":"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"}