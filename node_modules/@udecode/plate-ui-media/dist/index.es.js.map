{"version":3,"file":"index.es.js","sources":["../../../../../node_modules/rollup-plugin-node-globals/src/global.js","../../../../../node_modules/process-es6/browser.js","../../../../../node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","../src/mediaFloatingOptions.ts","../src/ImageElement/ImageElement.styles.ts","../src/MediaEmbedElement/MediaEmbedElement.styles.ts","../../../../button/dist/index.es.js","../../../button/dist/index.es.js","../src/MediaEmbedElement/PlateFloatingMedia.tsx","../src/MediaEmbedElement/MediaEmbedElement.tsx","../src/ImageElement/ImageElement.tsx","../src/ImageToolbarButton/ImageToolbarButton.tsx","../src/MediaEmbedToolbarButton/MediaEmbedToolbarButton.tsx"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","function getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\n\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (platform == null) {\n      console.error(['Floating UI: `platform` property was not passed to config. If you', 'want to use Floating UI on the web, install @floating-ui/dom', 'instead of the /core package. Otherwise, you can create your own', '`platform`: https://floating-ui.com/docs/platform'].join(' '));\n    }\n\n    if (middleware.filter(_ref => {\n      let {\n        name\n      } = _ref;\n      return name === 'autoPlacement' || name === 'flip';\n    }).length > 1) {\n      throw new Error(['Floating UI: duplicate `flip` and/or `autoPlacement`', 'middleware detected. This will lead to an infinite loop. Ensure only', 'one of either has been passed to the `middleware` array.'].join(' '));\n    }\n  }\n\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n\n  for (let i = 0; i < middleware.length; i++) {\n    const {\n      name,\n      fn\n    } = middleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = { ...middlewareData,\n      [name]: { ...middlewareData[name],\n        ...data\n      }\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (resetCount > 50) {\n        console.warn(['Floating UI: The middleware lifecycle appears to be running in an', 'infinite loop. This is usually caused by a `reset` continually', 'being returned without a break condition.'].join(' '));\n      }\n    }\n\n    if (reset && resetCount <= 50) {\n      resetCount++;\n\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n\n      i = -1;\n      continue;\n    }\n  }\n\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return { ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(middlewareArguments, options) {\n  var _await$platform$isEle;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = middlewareArguments;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = options;\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect: elementContext === 'floating' ? { ...rects.floating,\n      x,\n      y\n    } : rects.reference,\n    offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n    strategy\n  }) : rects[elementContext]);\n  return {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered\n * to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n\n  async fn(middlewareArguments) {\n    // Since `element` is required, we don't Partial<> the type\n    const {\n      element,\n      padding = 0\n    } = options != null ? options : {};\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform\n    } = middlewareArguments;\n\n    if (element == null) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn('Floating UI: No `element` was passed to the `arrow` middleware.');\n      }\n\n      return {};\n    }\n\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const alignment = getAlignment(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const minProp = axis === 'y' ? 'top' : 'left';\n    const maxProp = axis === 'y' ? 'bottom' : 'right';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n\n    if (clientSize === 0) {\n      clientSize = rects.floating[length];\n    }\n\n    const centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds\n\n    const min = paddingObject[minProp];\n    const max = clientSize - arrowDimensions[length] - paddingObject[maxProp];\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min, center, max); // Make sure that arrow points at the reference\n\n    const alignmentPadding = alignment === 'start' ? paddingObject[minProp] : paddingObject[maxProp];\n    const shouldAddOffset = alignmentPadding > 0 && center !== offset && rects.reference[length] <= rects.floating[length];\n    const alignmentOffset = shouldAddOffset ? center < min ? min - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset\n      }\n    };\n  }\n\n});\n\nconst hash$1 = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, matched => hash$1[matched]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, matched => hash[matched]);\n}\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n\n    return true;\n  });\n}\n\n/**\n * Automatically chooses the `placement` which has the most space available.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'autoPlacement',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _middlewareData$autoP3, _middlewareData$autoP4, _placementsSortedByLe;\n\n      const {\n        x,\n        y,\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        alignment = null,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const placements = getPlacementList(alignment, autoAlignment, allowedPlacements);\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const currentIndex = (_middlewareData$autoP = (_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.index) != null ? _middlewareData$autoP : 0;\n      const currentPlacement = placements[currentIndex];\n\n      if (currentPlacement == null) {\n        return {};\n      }\n\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))); // Make `computeCoords` start from the right place\n\n      if (placement !== currentPlacement) {\n        return {\n          x,\n          y,\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...((_middlewareData$autoP3 = (_middlewareData$autoP4 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP4.overflows) != null ? _middlewareData$autoP3 : []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1]; // There are more placements to check\n\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n\n      const placementsSortedByLeastOverflow = allOverflows.slice().sort((a, b) => a.overflows[0] - b.overflows[0]);\n      const placementThatFitsOnAllSides = (_placementsSortedByLe = placementsSortedByLeastOverflow.find(_ref => {\n        let {\n          overflows\n        } = _ref;\n        return overflows.every(overflow => overflow <= 0);\n      })) == null ? void 0 : _placementsSortedByLe.placement;\n      const resetPlacement = placementThatFitsOnAllSides != null ? placementThatFitsOnAllSides : placementsSortedByLeastOverflow[0].placement;\n\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\n/**\n * Changes the placement of the floating element to one that will fit if the\n * initially specified `placement` does not.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'flip',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$flip;\n\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const side = getSide(placement);\n      const isBasePlacement = side === initialPlacement;\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n        overflows.push(overflow[main], overflow[cross]);\n      }\n\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }]; // One or more sides is overflowing\n\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip$, _middlewareData$flip2;\n\n        const nextIndex = ((_middlewareData$flip$ = (_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) != null ? _middlewareData$flip$ : 0) + 1;\n        const nextPlacement = placements[nextIndex];\n\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        let resetPlacement = 'bottom';\n\n        switch (fallbackStrategy) {\n          case 'bestFit':\n            {\n              var _overflowsData$map$so;\n\n              const placement = (_overflowsData$map$so = overflowsData.map(d => [d, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0].placement;\n\n              if (placement) {\n                resetPlacement = placement;\n              }\n\n              break;\n            }\n\n          case 'initialPlacement':\n            resetPlacement = initialPlacement;\n            break;\n        }\n\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (_temp) {\n  let {\n    strategy = 'referenceHidden',\n    ...detectOverflowOptions\n  } = _temp === void 0 ? {} : _temp;\n  return {\n    name: 'hide',\n\n    async fn(middlewareArguments) {\n      const {\n        rects\n      } = middlewareArguments;\n\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        default:\n          {\n            return {};\n          }\n      }\n    }\n\n  };\n};\n\nasync function convertValueToCoords(middlewareArguments, value) {\n  const {\n    placement,\n    platform,\n    elements\n  } = middlewareArguments;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = typeof value === 'function' ? value(middlewareArguments) : value; // eslint-disable-next-line prefer-const\n\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n/**\n * Displaces the floating element from its reference element.\n * @see https://floating-ui.com/docs/offset\n */\n\nconst offset = function (value) {\n  if (value === void 0) {\n    value = 0;\n  }\n\n  return {\n    name: 'offset',\n    options: value,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y\n      } = middlewareArguments;\n      const diffCoords = await convertValueToCoords(middlewareArguments, value);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Shifts the floating element in order to keep it in view when it will overflow\n * a clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'shift',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n\n      const limitedCoords = limiter.fn({ ...middlewareArguments,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return { ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n\n  };\n};\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    options,\n\n    fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = middlewareArguments;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = typeof offset === 'function' ? offset({ ...rects,\n        placement\n      }) : offset;\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2, _middlewareData$offse3, _middlewareData$offse4;\n\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? (_middlewareData$offse = (_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) != null ? _middlewareData$offse : 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : (_middlewareData$offse3 = (_middlewareData$offse4 = middlewareData.offset) == null ? void 0 : _middlewareData$offse4[crossAxis]) != null ? _middlewareData$offse3 : 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n\n  };\n};\n\n/**\n * Provides data to change the size of the floating element. For instance,\n * prevent it from overflowing its clipping boundary or match the width of the\n * reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'size',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        apply,\n        ...detectOverflowOptions\n      } = options;\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      let heightSide;\n      let widthSide;\n\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n\n      const xMin = max(overflow.left, 0);\n      const xMax = max(overflow.right, 0);\n      const yMin = max(overflow.top, 0);\n      const yMax = max(overflow.bottom, 0);\n      const dimensions = {\n        availableHeight: rects.floating.height - (['left', 'right'].includes(placement) ? 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom)) : overflow[heightSide]),\n        availableWidth: rects.floating.width - (['top', 'bottom'].includes(placement) ? 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right)) : overflow[widthSide])\n      };\n      const prevDimensions = await platform.getDimensions(elements.floating);\n      apply == null ? void 0 : apply({ ...middlewareArguments,\n        ...dimensions\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n\n      if (prevDimensions.width !== nextDimensions.width || prevDimensions.height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'inline',\n    options,\n\n    async fn(middlewareArguments) {\n      var _await$platform$getCl;\n\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = middlewareArguments; // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n\n      const {\n        padding = 2,\n        x,\n        y\n      } = options;\n      const fallback = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n        rect: rects.reference,\n        offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n        strategy\n      }) : rects.reference);\n      const clientRects = (_await$platform$getCl = await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) != null ? _await$platform$getCl : [];\n      const paddingObject = getSideObjectFromPadding(padding);\n\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          var _clientRects$find;\n\n          // Find the first rect in which the point is fully inside\n          return (_clientRects$find = clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom)) != null ? _clientRects$find : fallback;\n        } // There are 2 or more connected rects\n\n\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n\n        return fallback;\n      }\n\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { flip, offset, shift } from '@floating-ui/react-dom-interactions';\nimport { PopoverProps } from '@udecode/plate-floating';\n\nexport const mediaFloatingOptions: PopoverProps['floatingOptions'] = {\n  middleware: [\n    offset(-6),\n    flip({\n      padding: 96,\n    }),\n    shift(),\n  ],\n};\n","import { ResizableProps } from '@udecode/plate-media/dist/resizable/Resizable';\nimport { createStyles } from '@udecode/plate-styled-components';\nimport { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport {\n  ImageElementPropsCaption,\n  ImageElementStyleProps,\n} from './ImageElement.types';\n\nexport const getResizableCss = ({\n  focused,\n  selected,\n  align,\n}: {\n  focused?: boolean;\n  selected?: boolean;\n  align?: ResizableProps['align'];\n} = {}) => {\n  const handle = css`\n    ${tw`flex flex-col justify-center absolute select-none w-6 h-full top-0 z-10`}\n\n    ::after {\n      ${tw`opacity-0`};\n      ${focused && selected && tw`opacity-100`};\n      ${tw`group-hover:opacity-100`};\n      ${tw`flex`};\n      ${tw`bg-gray-400`};\n\n      content: ' ';\n      width: 3px;\n      height: 64px;\n      border-radius: 6px;\n    }\n\n    :hover,\n    :focus,\n    :active {\n      ::after {\n        ${tw`bg-blue-500`};\n      }\n    }\n  `;\n\n  const resizable = [\n    align === 'center' && tw`mx-auto`,\n    align === 'right' && tw`ml-auto`,\n  ];\n\n  const handleLeft = [...handle, tw`-left-3 -ml-3 pl-3`];\n  const handleRight = [...handle, tw`items-end -right-3 -mr-3 pr-3`];\n\n  return {\n    resizable,\n    handleLeft,\n    handleRight,\n  };\n};\n\nexport const getCaptionCss = ({\n  align,\n  caption,\n}: {\n  align?: ResizableProps['align'];\n  caption?: ImageElementPropsCaption;\n} = {}) => {\n  return {\n    figcaption: [\n      align === 'center' && tw`mx-auto`,\n      align === 'right' && tw`ml-auto`,\n    ],\n    caption: [\n      tw`w-full border-none focus:outline-none mt-2 p-0 resize-none`,\n      caption?.align === 'center' && tw`text-center`,\n      caption?.align === 'right' && tw`text-right`,\n      css`\n        font: inherit;\n        color: inherit;\n        background-color: inherit;\n\n        :focus {\n          ::placeholder {\n            opacity: 0;\n          }\n        }\n      `,\n    ],\n  };\n};\n\nexport const getImageElementStyles = (props: ImageElementStyleProps) => {\n  const {\n    focused,\n    selected,\n    align = 'center',\n    caption = {\n      align: 'center',\n    },\n  } = props;\n\n  return createStyles(\n    { prefixClassNames: 'ImageElement', ...props },\n    {\n      root: [tw`py-2.5`],\n\n      figure: [tw`m-0 relative`],\n\n      img: [\n        tw`block max-w-full px-0 cursor-pointer w-full`,\n        tw`borderRadius[3px] object-cover`,\n        focused && selected && tw`boxShadow[0 0 0 1px rgb(59,130,249)]`,\n      ],\n\n      ...getCaptionCss({ caption, align }),\n      ...getResizableCss({ selected, focused, align }),\n    }\n  );\n};\n","import { createStyles } from '@udecode/plate-styled-components';\nimport { css } from 'styled-components';\nimport tw from 'twin.macro';\nimport { getCaptionCss, getResizableCss } from '../ImageElement/index';\nimport { MediaEmbedElementProps } from './MediaEmbedElement.types';\n\nexport const getMediaEmbedElementStyles = (\n  props: MediaEmbedElementProps & {\n    selected: boolean;\n    focused: boolean;\n    readOnly: boolean;\n    isHoveringDelete?: boolean;\n    visibleToolbar?: boolean;\n    provider?: string;\n  }\n) => {\n  const { selected, readOnly, provider, focused } = props;\n\n  let boxShadow: string | undefined;\n\n  if (!readOnly && selected) {\n    boxShadow = `0 0 0 1px rgb(59 130 249)`;\n  }\n\n  const providersPadding = {\n    youtube: '56.2061%',\n    vimeo: '75%',\n    youku: '56.25%',\n    dailymotion: '56.0417%',\n    coub: '51.25%',\n  };\n  const providerPadding: string =\n    provider !== 'twitter'\n      ? (provider && providersPadding[provider]) || '56.0417%'\n      : undefined;\n\n  const resizable = getResizableCss({\n    align: 'center',\n    focused,\n    selected,\n  });\n\n  return createStyles(\n    { prefixClassNames: 'MediaEmbedElement', ...props },\n    {\n      root: tw`relative py-2.5`,\n      figure: [\n        tw`m-0 relative w-full`,\n        provider === 'twitter' &&\n          css`\n            .twitter-tweet {\n              margin: 0 auto !important;\n              padding: 2px;\n              box-shadow: ${boxShadow};\n            }\n          `,\n      ],\n      iframeWrapper: css`\n        padding-bottom: ${providerPadding};\n      `,\n      iframe: [\n        tw`absolute top-0 left-0 w-full h-full`,\n        css`\n          border-radius: 3px;\n          box-shadow: ${boxShadow};\n        `,\n      ],\n\n      ...getCaptionCss({\n        align: 'center',\n        caption: {\n          align: 'center',\n        },\n      }),\n      ...resizable,\n      handleRight: [\n        ...resizable.handleRight,\n        provider === 'twitter' && tw`-mr-4`,\n      ],\n    }\n  );\n};\n","import { createComponentAs, createElementAs } from '@udecode/plate-core';\n\nconst Button = createComponentAs(props => createElementAs('button', props));\n\nexport { Button };\n//# sourceMappingURL=index.es.js.map\n","import _styled, { css } from 'styled-components';\nimport React, { forwardRef } from 'react';\nimport { Button } from '@udecode/plate-button';\nimport { useEditorRef, findNodePath, removeNodes, focusEditor } from '@udecode/plate-core';\n\nconst plateButtonCss = [{\n  \"position\": \"relative\",\n  \"display\": \"inline-flex\",\n  \"justifyContent\": \"center\",\n  \"alignItems\": \"center\",\n  \"textAlign\": \"center\",\n  \"maxWidth\": \"100%\",\n  \"padding\": \"0px\"\n}, {\n  \"borderWidth\": \"0px\",\n  \"fontWeight\": \"500\",\n  \"cursor\": \"pointer\"\n}, {\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(255, 255, 255, var(--tw-bg-opacity))\",\n  \":hover\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(243, 244, 246, var(--tw-bg-opacity))\"\n  },\n  \":active\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(229, 231, 235, var(--tw-bg-opacity))\"\n  }\n}, {\n  \"paddingLeft\": \"0.625rem\",\n  \"paddingRight\": \"0.625rem\",\n  \"paddingTop\": \"0.25rem\",\n  \"paddingBottom\": \"0.25rem\"\n}, css([\"font-family:inherit;font-size:14px;border-radius:3px;color:inherit;:active{color:inherit;}:visited{color:inherit;}\"])];\nconst primaryButtonCss = [plateButtonCss, {\n  \"--tw-bg-opacity\": \"1\",\n  \"backgroundColor\": \"rgba(59, 130, 246, var(--tw-bg-opacity))\",\n  \"--tw-text-opacity\": \"1\",\n  \"color\": \"rgba(255, 255, 255, var(--tw-text-opacity))\",\n  \":hover\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(37, 99, 235, var(--tw-bg-opacity))\"\n  },\n  \":active\": {\n    \"--tw-bg-opacity\": \"1\",\n    \"backgroundColor\": \"rgba(29, 78, 216, var(--tw-bg-opacity))\",\n    \"--tw-text-opacity\": \"1\",\n    \"color\": \"rgba(255, 255, 255, var(--tw-text-opacity))\"\n  }\n}];\nconst PlateButton = ({\n  size,\n  px,\n  py,\n  css: _css,\n  ...props\n}) => /*#__PURE__*/React.createElement(_StyledButton, props);\n\nvar _StyledButton = _styled(Button).withConfig({\n  displayName: \"PlateButton___StyledButton\",\n  componentId: \"sc-wfqywr-0\"\n})([\"\", \"\"], plateButtonCss);\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nconst Icon = /*#__PURE__*/forwardRef((props, ref) => {\n  const {\n    children,\n    iconVerticalAlign,\n    size,\n    title,\n    ...otherProps\n  } = props;\n  const iconProps = {\n    height: props.height !== undefined ? props.height : size,\n    width: props.width !== undefined ? props.width : size,\n    'aria-hidden': title == null ? 'true' : undefined,\n    focusable: 'false',\n    role: title != null ? 'img' : undefined,\n    ...otherProps\n  };\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, iconProps, {\n    ref: ref\n  }), title && /*#__PURE__*/React.createElement(\"title\", {\n    key: \"icon-title\"\n  }, title), children);\n});\nconst StyledIcon = _styled(Icon).withConfig({\n  displayName: \"StyledIcon\",\n  componentId: \"sc-1lmwuuu-0\"\n})([\"display:inline-block;vertical-align:\", \";overflow:hidden;height:100%;\"], props => props.iconVerticalAlign);\n\nconst DeleteIcon = props => /*#__PURE__*/React.createElement(StyledIcon, _extends({\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}));\n\nconst RemoveNodeButton = ({\n  element,\n  ...props\n}) => {\n  const editor = useEditorRef();\n  return /*#__PURE__*/React.createElement(_StyledPlateButton, _extends({\n    onClick: () => {\n      const path = findNodePath(editor, element);\n      removeNodes(editor, {\n        at: path\n      });\n      focusEditor(editor, editor.selection);\n    }\n  }, props, {\n    $_css: [{\n      \"paddingTop\": \"0.25rem\",\n      \"paddingBottom\": \"0.25rem\",\n      \"paddingLeft\": \"0px\",\n      \"paddingRight\": \"0px\"\n    }, `\n        width: 24px;\n        height: 24px;\n      `]\n  }), /*#__PURE__*/React.createElement(DeleteIcon, null));\n};\n\nvar _StyledPlateButton = _styled(PlateButton).withConfig({\n  displayName: \"RemoveNodeButton___StyledPlateButton\",\n  componentId: \"sc-nzabn0-0\"\n})([\"\", \"\"], p => p.$_css);\n\nconst ChevronDownIcon = props => /*#__PURE__*/React.createElement(_StyledStyledIcon, _extends({\n  viewBox: \"0 0 24 24\",\n  focusable: \"false\",\n  \"aria-hidden\": \"true\"\n}, props), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}));\n\nvar _StyledStyledIcon = _styled(StyledIcon).withConfig({\n  displayName: \"ChevronDownIcon___StyledStyledIcon\",\n  componentId: \"sc-1mognml-0\"\n})({\n  \"display\": \"inline\",\n  \"textAlign\": \"center\",\n  \"userSelect\": \"none\",\n  \"overflow\": \"hidden\",\n  \"pointerEvents\": \"none\",\n  \"maxWidth\": \"100%\",\n  \"maxHeight\": \"100%\",\n  \"height\": \"100%\",\n  \"verticalAlign\": \"middle\"\n});\n\nexport { ChevronDownIcon, DeleteIcon, PlateButton, RemoveNodeButton, StyledIcon, plateButtonCss, primaryButtonCss };\n//# sourceMappingURL=index.es.js.map\n","import React from 'react';\nimport { useElement } from '@udecode/plate-core';\nimport { LinkIcon } from '@udecode/plate-link';\nimport { FloatingMedia, useFloatingMediaSelectors } from '@udecode/plate-media';\nimport { plateButtonCss, RemoveNodeButton } from '@udecode/plate-ui-button';\nimport {\n  floatingButtonCss,\n  FloatingIconWrapper,\n  floatingInputCss,\n  FloatingInputWrapper,\n  floatingRootCss,\n  floatingRowCss,\n  FloatingVerticalDivider,\n} from '@udecode/plate-ui-toolbar';\n\nexport const PlateFloatingMedia = ({ pluginKey }: { pluginKey?: string }) => {\n  const isEditing = useFloatingMediaSelectors().isEditing();\n  const element = useElement();\n\n  return (\n    <div css={floatingRootCss}>\n      {!isEditing ? (\n        <div css={floatingRowCss}>\n          <FloatingMedia.EditButton css={plateButtonCss}>\n            Edit link\n          </FloatingMedia.EditButton>\n\n          <FloatingVerticalDivider />\n\n          <RemoveNodeButton element={element} css={floatingButtonCss} />\n        </div>\n      ) : (\n        <div tw=\"flex flex-col w-[330px]\">\n          <FloatingInputWrapper>\n            <FloatingIconWrapper>\n              <LinkIcon width={18} />\n            </FloatingIconWrapper>\n\n            <FloatingMedia.UrlInput\n              css={floatingInputCss}\n              placeholder=\"Paste the embed link...\"\n              pluginKey={pluginKey}\n            />\n          </FloatingInputWrapper>\n        </div>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Box } from '@udecode/plate-core';\nimport { ElementPopover } from '@udecode/plate-floating';\nimport {\n  Caption,\n  ELEMENT_MEDIA_EMBED,\n  Media,\n  MediaEmbed,\n  useMediaStore,\n} from '@udecode/plate-media';\nimport { useFocused, useReadOnly, useSelected } from 'slate-react';\nimport { mediaFloatingOptions } from '../mediaFloatingOptions';\nimport { getMediaEmbedElementStyles } from './MediaEmbedElement.styles';\nimport { MediaEmbedElementProps } from './MediaEmbedElement.types';\nimport { PlateFloatingMedia } from './PlateFloatingMedia';\n\nexport const MediaEmbedElement = (props: MediaEmbedElementProps) => {\n  const { children, nodeProps } = props;\n\n  const { as, ...rootProps } = props;\n\n  const focused = useFocused();\n  const selected = useSelected();\n  const readOnly = useReadOnly();\n\n  const { provider } = useMediaStore().get.urlData();\n\n  const styles = getMediaEmbedElementStyles({\n    ...props,\n    provider,\n    selected,\n    focused,\n    readOnly,\n  });\n\n  return (\n    <ElementPopover\n      content={<PlateFloatingMedia pluginKey={ELEMENT_MEDIA_EMBED} />}\n      floatingOptions={mediaFloatingOptions}\n    >\n      <Media.Root {...rootProps} css={styles.root.css}>\n        <figure\n          css={styles.figure?.css}\n          className=\"group\"\n          contentEditable={false}\n        >\n          <Media.Resizable\n            // @ts-ignore\n            css={styles.resizable?.css}\n            className={styles.resizable?.className}\n            maxWidth={provider === 'twitter' ? 550 : '100%'}\n            minWidth={provider === 'twitter' ? 300 : 100}\n            handleComponent={{\n              left: (\n                <Box\n                  css={[styles.handleLeft?.css]}\n                  className={styles.handleLeft?.className}\n                />\n              ),\n              right: (\n                <Box\n                  css={styles.handleRight?.css}\n                  className={styles.handleRight?.className}\n                />\n              ),\n            }}\n          >\n            <div\n              css={styles.iframeWrapper?.css}\n              className={styles.iframeWrapper?.className}\n            >\n              <MediaEmbed\n                css={styles.iframe?.css}\n                className={styles.iframe?.className}\n                {...nodeProps}\n              />\n            </div>\n          </Media.Resizable>\n\n          <Caption.Root\n            css={styles.figcaption?.css}\n            className={styles.figcaption?.className}\n          >\n            <Caption.Textarea\n              css={styles.caption?.css}\n              className={styles.caption?.className}\n              placeholder=\"Write a caption...\"\n            />\n          </Caption.Root>\n        </figure>\n\n        {children}\n      </Media.Root>\n    </ElementPopover>\n  );\n};\n","/* eslint-disable jsx-a11y/alt-text */\nimport React from 'react';\nimport { Box } from '@udecode/plate-core';\nimport { ElementPopover } from '@udecode/plate-floating';\nimport { Caption, ELEMENT_IMAGE, Image, Media } from '@udecode/plate-media';\nimport { useFocused, useReadOnly, useSelected } from 'slate-react';\nimport { PlateFloatingMedia } from '../MediaEmbedElement/index';\nimport { mediaFloatingOptions } from '../mediaFloatingOptions';\nimport { getImageElementStyles } from './ImageElement.styles';\nimport { ImageElementProps } from './ImageElement.types';\n\nexport const ImageElement = (props: ImageElementProps) => {\n  const {\n    children,\n    nodeProps,\n    caption = {},\n    resizableProps,\n    align = 'center',\n    ignoreReadOnly = false,\n  } = props;\n\n  const { as, ...rootProps } = props;\n\n  const focused = useFocused();\n  const selected = useSelected();\n  const readOnly = useReadOnly();\n\n  const styles = getImageElementStyles({ ...props, align, focused, selected });\n\n  return (\n    <ElementPopover\n      content={<PlateFloatingMedia pluginKey={ELEMENT_IMAGE} />}\n      floatingOptions={mediaFloatingOptions}\n    >\n      <Media.Root {...rootProps} css={styles.root.css}>\n        <figure\n          css={styles.figure?.css}\n          className={`group ${styles.figure?.className}`}\n          contentEditable={false}\n        >\n          <Media.Resizable\n            // @ts-ignore\n            css={styles.resizable?.css}\n            className={styles.resizable?.className}\n            handleComponent={{\n              left: (\n                <Box\n                  css={[styles.handleLeft?.css]}\n                  className={styles.handleLeft?.className}\n                />\n              ),\n              right: (\n                <Box\n                  css={styles.handleRight?.css}\n                  className={styles.handleRight?.className}\n                />\n              ),\n            }}\n            align={align}\n            readOnly={!ignoreReadOnly && readOnly}\n            {...resizableProps}\n          >\n            <Image\n              css={styles.img?.css}\n              className={styles.img?.className}\n              {...nodeProps}\n            />\n          </Media.Resizable>\n\n          {!caption.disabled && (\n            <Caption.Root\n              css={styles.figcaption?.css}\n              className={styles.figcaption?.className}\n            >\n              <Caption.Textarea\n                css={styles.caption?.css}\n                className={styles.caption?.className}\n                placeholder={caption.placeholder ?? 'Write a caption...'}\n                readOnly={(!ignoreReadOnly && readOnly) || !!caption.readOnly}\n              />\n            </Caption.Root>\n          )}\n        </figure>\n\n        {children}\n      </Media.Root>\n    </ElementPopover>\n  );\n};\n","import React from 'react';\nimport {\n  focusEditor,\n  useEventPlateId,\n  usePlateEditorRef,\n} from '@udecode/plate-core';\nimport { insertImage } from '@udecode/plate-media';\nimport { ToolbarButton, ToolbarButtonProps } from '@udecode/plate-ui-toolbar';\n\nexport interface ImageToolbarButtonProps extends ToolbarButtonProps {\n  /**\n   * Default onClick is getting the image url by calling this promise before inserting the image.\n   */\n  getImageUrl?: () => Promise<string>;\n}\n\nexport const ImageToolbarButton = ({\n  id,\n  getImageUrl,\n  ...props\n}: ImageToolbarButtonProps) => {\n  const editor = usePlateEditorRef(useEventPlateId(id));\n\n  return (\n    <ToolbarButton\n      tooltip={{ content: 'Image' }}\n      onClick={async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let url;\n        if (getImageUrl) {\n          url = await getImageUrl();\n        } else {\n          url = window.prompt('Enter the URL of the image:');\n        }\n        if (!url) return;\n\n        insertImage(editor, url);\n        focusEditor(editor);\n      }}\n      {...props}\n    />\n  );\n};\n","import React from 'react';\nimport {\n  focusEditor,\n  useEventPlateId,\n  usePlateEditorRef,\n} from '@udecode/plate-core';\nimport { insertMediaEmbed } from '@udecode/plate-media';\nimport { ToolbarButton, ToolbarButtonProps } from '@udecode/plate-ui-toolbar';\n\nexport interface MediaEmbedToolbarButtonProps extends ToolbarButtonProps {\n  /**\n   * Default onClick is getting the embed url by calling this promise before inserting the embed.\n   */\n  getEmbedUrl?: () => Promise<string>;\n}\n\nexport const MediaEmbedToolbarButton = ({\n  id,\n  getEmbedUrl,\n  ...props\n}: MediaEmbedToolbarButtonProps) => {\n  const editor = usePlateEditorRef(useEventPlateId(id));\n\n  return (\n    <ToolbarButton\n      tooltip={{ content: 'Embed' }}\n      onClick={async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let url;\n        if (getEmbedUrl) {\n          url = await getEmbedUrl();\n        } else {\n          url = window.prompt('Enter the URL of the embed:');\n        }\n        if (!url) return;\n\n        insertMediaEmbed(editor, { url });\n        focusEditor(editor);\n      }}\n      {...props}\n    />\n  );\n};\n"],"names":["global","mediaFloatingOptions","middleware","offset","flip","padding","shift","getResizableCss","focused","selected","align","handle","css","resizable","handleLeft","handleRight","getCaptionCss","caption","figcaption","getImageElementStyles","props","createStyles","prefixClassNames","root","figure","img","getMediaEmbedElementStyles","readOnly","provider","boxShadow","providersPadding","youtube","vimeo","youku","dailymotion","coub","providerPadding","undefined","iframeWrapper","iframe","Button","createComponentAs","createElementAs","plateButtonCss","PlateButton","size","px","py","_css","React","PlateFloatingMedia","pluginKey","isEditing","useFloatingMediaSelectors","element","useElement","_StyledDiv","floatingRootCss","floatingRowCss","floatingButtonCss","floatingInputCss","MediaEmbedElement","children","nodeProps","as","rootProps","useFocused","useSelected","useReadOnly","useMediaStore","get","urlData","styles","ELEMENT_MEDIA_EMBED","_StyledFigure","_StyledMediaResizable","className","left","_StyledBox","right","_StyledBox2","_extends","_StyledCaptionRoot","_StyledCaptionTextarea","ImageElement","resizableProps","ignoreReadOnly","ELEMENT_IMAGE","disabled","placeholder","ImageToolbarButton","id","getImageUrl","editor","usePlateEditorRef","useEventPlateId","content","e","preventDefault","stopPropagation","url","window","prompt","insertImage","focusEditor","MediaEmbedToolbarButton","getEmbedUrl","insertMediaEmbed"],"mappings":"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"}