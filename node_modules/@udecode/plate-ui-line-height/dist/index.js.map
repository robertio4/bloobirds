{"version":3,"file":"index.js","sources":["../src/LineHeightToolbarButton/LineHeightToolbarDropdown.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport {\n  focusEditor,\n  getPluginInjectProps,\n  isCollapsed,\n  someNode,\n  useEventPlateId,\n  usePlateEditorState,\n} from '@udecode/plate-core';\nimport { KEY_LINE_HEIGHT, setLineHeight } from '@udecode/plate-line-height';\nimport {\n  ToolbarButton,\n  ToolbarButtonProps,\n  ToolbarDropdown,\n} from '@udecode/plate-ui-toolbar';\n\nexport const LineHeightToolbarDropdown = ({\n  id,\n  ...props\n}: ToolbarButtonProps) => {\n  const editor = usePlateEditorState(useEventPlateId(id));\n\n  const [open, setOpen] = React.useState(false);\n\n  const { validNodeValues } = getPluginInjectProps(editor, KEY_LINE_HEIGHT);\n\n  const onToggle = useCallback(() => {\n    setOpen(!open);\n  }, [open, setOpen]);\n\n  const selectHandler = useCallback(\n    (lineHeight) => {\n      if (editor) {\n        focusEditor(editor);\n\n        setLineHeight(editor, {\n          value: lineHeight,\n        });\n      }\n    },\n    [editor]\n  );\n\n  return (\n    <ToolbarDropdown\n      control={\n        <ToolbarButton\n          active={\n            isCollapsed(editor?.selection) &&\n            someNode(editor!, {\n              match: (n) => n[KEY_LINE_HEIGHT] !== undefined,\n            })\n          }\n          {...props}\n        />\n      }\n      open={open}\n      onOpen={onToggle}\n      onClose={onToggle}\n    >\n      {validNodeValues &&\n        validNodeValues.map((lineHeight) => (\n          <div\n            style={{ cursor: 'pointer' }}\n            key={lineHeight}\n            onClick={() => selectHandler(lineHeight)}\n          >\n            {lineHeight}\n          </div>\n        ))}\n    </ToolbarDropdown>\n  );\n};\n"],"names":["LineHeightToolbarDropdown","id","props","editor","usePlateEditorState","useEventPlateId","open","setOpen","React","useState","validNodeValues","getPluginInjectProps","KEY_LINE_HEIGHT","onToggle","useCallback","selectHandler","lineHeight","focusEditor","setLineHeight","value","ToolbarDropdown","ToolbarButton","isCollapsed","selection","someNode","match","n","undefined","map","cursor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBO,MAAMA,yBAAyB,GAAG,CAAC;EACxCC,EADwC;EAExC,GAAGC,KAAAA;AAFqC,CAAD,KAGf;EACxB,MAAMC,MAAM,GAAGC,6BAAmB,CAACC,yBAAe,CAACJ,EAAD,CAAhB,CAAlC,CAAA;EAEA,MAAM,CAACK,IAAD,EAAOC,OAAP,CAAA,GAAkBC,yBAAK,CAACC,QAAN,CAAe,KAAf,CAAxB,CAAA;EAEA,MAAM;AAAEC,IAAAA,eAAAA;AAAF,GAAA,GAAsBC,8BAAoB,CAACR,MAAD,EAASS,+BAAT,CAAhD,CAAA;AAEA,EAAA,MAAMC,QAAQ,GAAGC,iBAAW,CAAC,MAAM;IACjCP,OAAO,CAAC,CAACD,IAAF,CAAP,CAAA;AACD,GAF2B,EAEzB,CAACA,IAAD,EAAOC,OAAP,CAFyB,CAA5B,CAAA;AAIA,EAAA,MAAMQ,aAAa,GAAGD,iBAAW,CAC9BE,UAAD,IAAgB;AACd,IAAA,IAAIb,MAAJ,EAAY;MACVc,qBAAW,CAACd,MAAD,CAAX,CAAA;MAEAe,6BAAa,CAACf,MAAD,EAAS;AACpBgB,QAAAA,KAAK,EAAEH,UAAAA;AADa,OAAT,CAAb,CAAA;AAGD,KAAA;AACF,GAT8B,EAU/B,CAACb,MAAD,CAV+B,CAAjC,CAAA;AAaA,EAAA,oBACEK,wCAACY,8BAAD,EAAA;IACE,OAAO,eACLZ,wCAACa,4BAAD,EAAA,QAAA,CAAA;AACE,MAAA,MAAM,EACJC,qBAAW,CAACnB,MAAD,aAACA,MAAD,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAACA,MAAM,CAAEoB,SAAT,CAAX,IACAC,kBAAQ,CAACrB,MAAD,EAAU;AAChBsB,QAAAA,KAAK,EAAGC,CAAD,IAAOA,CAAC,CAACd,+BAAD,CAAD,KAAuBe,SAAAA;OAD/B,CAAA;AAHZ,KAAA,EAOMzB,KAPN,CAFJ,CAAA;AAYE,IAAA,IAAI,EAAEI,IAZR;AAaE,IAAA,MAAM,EAAEO,QAbV;AAcE,IAAA,OAAO,EAAEA,QAAAA;AAdX,GAAA,EAgBGH,eAAe,IACdA,eAAe,CAACkB,GAAhB,CAAqBZ,UAAD,iBAClBR,yBAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AACE,IAAA,KAAK,EAAE;AAAEqB,MAAAA,MAAM,EAAE,SAAA;KADnB;AAEE,IAAA,GAAG,EAAEb,UAFP;AAGE,IAAA,OAAO,EAAE,MAAMD,aAAa,CAACC,UAAD,CAAA;GAE3BA,EAAAA,UALH,CADF,CAjBJ,CADF,CAAA;AA6BD;;;;"}