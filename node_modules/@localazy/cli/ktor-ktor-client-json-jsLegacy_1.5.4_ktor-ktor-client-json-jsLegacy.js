!function(t,e){if("function"==typeof define&&define.amd)define(["exports","kotlin","ktor-ktor-http-jsLegacy","ktor-ktor-client-core-jsLegacy","ktor-ktor-io-jsLegacy","ktor-ktor-utils-jsLegacy"],e);else if("object"==typeof exports)e(module.exports,require("./kotlin_1.4.32_kotlin.js"),require("./ktor-ktor-http-jsLegacy_1.5.4_ktor-ktor-http-jsLegacy.js"),require("./ktor-ktor-client-core-jsLegacy_1.5.4_ktor-ktor-client-core-jsLegacy.js"),require("./ktor-ktor-io-jsLegacy_1.5.4_ktor-ktor-io-jsLegacy.js"),require("./ktor-ktor-utils-jsLegacy_1.5.4_ktor-ktor-utils-jsLegacy.js"));else{if("undefined"==typeof kotlin)throw new Error("Error loading module 'ktor-ktor-client-json-jsLegacy'. Its dependency 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to 'ktor-ktor-client-json-jsLegacy'.");if(void 0===this["ktor-ktor-http-jsLegacy"])throw new Error("Error loading module 'ktor-ktor-client-json-jsLegacy'. Its dependency 'ktor-ktor-http-jsLegacy' was not found. Please, check whether 'ktor-ktor-http-jsLegacy' is loaded prior to 'ktor-ktor-client-json-jsLegacy'.");if(void 0===this["ktor-ktor-client-core-jsLegacy"])throw new Error("Error loading module 'ktor-ktor-client-json-jsLegacy'. Its dependency 'ktor-ktor-client-core-jsLegacy' was not found. Please, check whether 'ktor-ktor-client-core-jsLegacy' is loaded prior to 'ktor-ktor-client-json-jsLegacy'.");if(void 0===this["ktor-ktor-io-jsLegacy"])throw new Error("Error loading module 'ktor-ktor-client-json-jsLegacy'. Its dependency 'ktor-ktor-io-jsLegacy' was not found. Please, check whether 'ktor-ktor-io-jsLegacy' is loaded prior to 'ktor-ktor-client-json-jsLegacy'.");if(void 0===this["ktor-ktor-utils-jsLegacy"])throw new Error("Error loading module 'ktor-ktor-client-json-jsLegacy'. Its dependency 'ktor-ktor-utils-jsLegacy' was not found. Please, check whether 'ktor-ktor-utils-jsLegacy' is loaded prior to 'ktor-ktor-client-json-jsLegacy'.");t["ktor-ktor-client-json-jsLegacy"]=e(void 0===this["ktor-ktor-client-json-jsLegacy"]?{}:this["ktor-ktor-client-json-jsLegacy"],kotlin,this["ktor-ktor-http-jsLegacy"],this["ktor-ktor-client-core-jsLegacy"],this["ktor-ktor-io-jsLegacy"],this["ktor-ktor-utils-jsLegacy"])}}(this,function(t,l,e,o,i,r){"use strict";var n=e.io.ktor.http.ContentType,s=l.kotlin.text.startsWith_7epoxm$,c=l.kotlin.text.endsWith_7epoxm$,a=l.Kind.CLASS,p=e.io.ktor.http.ContentTypeMatcher,h=l.kotlin.collections.mutableListOf_i5x0yv$,u=l.kotlin.collections.toList_7wnvza$,y=o.io.ktor.client.request.HttpRequestPipeline,k=o.io.ktor.client.request.accept_fohfhi$,d=l.kotlin.Unit,$=e.io.ktor.http.contentType_jzzg3d$,_=e.io.ktor.http,f=o.io.ktor.client.utils,j=l.equals,m=l.kotlin.coroutines.intrinsics.COROUTINE_SUSPENDED,g=l.kotlin.coroutines.CoroutineImpl,O=o.io.ktor.client.statement.HttpResponsePipeline,q=i.io.ktor.utils.io.ByteReadChannel,N=e.io.ktor.http.contentType_v1wgmc$,R=i.io.ktor.utils.io.readRemaining_3dmw3p$,H=o.io.ktor.client.statement.HttpResponseContainer,I=r.io.ktor.util.AttributeKey,e=l.Kind.OBJECT,i=o.io.ktor.client.features.HttpClientFeature,v=l.kotlin.collections.listOf_mh5how$,w=l.kotlin.IllegalArgumentException_init_pdl1vj$,F=l.kotlin.collections.addAll_ye1y7v$,L=l.kotlin.collections.Collection,r=l.Kind.INTERFACE,K=l.kotlin.collections.first_2p1efm$,o=l.kotlin.collections.ArrayList_init_287e2$;function C(){}function T(t,e,o){A(),void 0===e&&(e=v(n.Application.Json)),void 0===o&&(o=v(new C)),this.serializer=t,this.acceptContentTypes=e,this.receiveContentTypeMatchers_0=o}function x(){this.serializer=null,this._acceptContentTypes_0=h([n.Application.Json]),this._receiveContentTypeMatchers_0=h([new C])}function b(){(P=this).key_nhnsxd$_0=new I("Json")}function E(t,e,o,i,r){g.call(this,r),this.$controller=i,this.exceptionState_0=1,this.local$closure$feature=t,this.local$tmp$=void 0,this.local$contentType=void 0,this.local$$receiver=e,this.local$payload=o}function S(t,e,o,i,r){g.call(this,r),this.$controller=i,this.exceptionState_0=1,this.local$closure$feature=t,this.local$info=void 0,this.local$body=void 0,this.local$tmp$=void 0,this.local$tmp$_0=void 0,this.local$$receiver=e,this.local$f=o}C.prototype.contains_9v5yzd$=function(t){return!!n.Application.Json.match_9v5yzd$(t)||(t=t.withoutParameters().toString(),s(t,"application/")&&c(t,"+json"))},C.$metadata$={kind:a,simpleName:"JsonContentTypeMatcher",interfaces:[p]},Object.defineProperty(x.prototype,"acceptContentTypes",{configurable:!0,get:function(){return this._acceptContentTypes_0},set:function(t){if(t.isEmpty())throw w("At least one content type should be provided to acceptContentTypes".toString());this._acceptContentTypes_0.clear(),this._acceptContentTypes_0.addAll_brywnq$(t)}}),Object.defineProperty(x.prototype,"receiveContentTypeMatchers",{configurable:!0,get:function(){return this._receiveContentTypeMatchers_0},set:function(t){if(t.isEmpty())throw w("At least one content type should be provided to acceptContentTypes".toString());this._receiveContentTypeMatchers_0.clear(),this._receiveContentTypeMatchers_0.addAll_brywnq$(t)}}),x.prototype.accept_r40bgu$=function(t){F(this._acceptContentTypes_0,t)},x.prototype.receive_9llxf9$=function(t){this._receiveContentTypeMatchers_0.add_11rb$(t)},x.$metadata$={kind:a,simpleName:"Config",interfaces:[]},T.prototype.canHandle_3vupc4$=function(t){var e,o,i=this.acceptContentTypes;t:do{if(l.isType(i,L)&&i.isEmpty()){e=!1;break}for(o=i.iterator();o.hasNext();){var r=o.next();if(t.match_9v5yzd$(r)){e=!0;break t}}}while(e=!1,0);var n,s,c=e,a=this.receiveContentTypeMatchers_0;if(!c){t:do{if(l.isType(a,L)&&a.isEmpty()){n=!1;break}for(s=a.iterator();s.hasNext();)if(s.next().contains_9v5yzd$(t)){n=!0;break t}}while(n=!1,0);c=n}return c},Object.defineProperty(b.prototype,"key",{configurable:!0,get:function(){return this.key_nhnsxd$_0}}),b.prototype.prepare_oh3mgy$$default=function(t){var e=new x,t=(t(e),e);return new T(null!=(e=t.serializer)?e:M(),u(t.acceptContentTypes),t.receiveContentTypeMatchers)},E.$metadata$={kind:l.Kind.CLASS,simpleName:null,interfaces:[g]},((E.prototype=Object.create(g.prototype)).constructor=E).prototype.doResume=function(){do{try{switch(this.state_0){case 0:for(var t=this.local$closure$feature.acceptContentTypes.iterator();t.hasNext();){var e=t.next();k(this.local$$receiver.context,e)}if(this.local$tmp$=$(this.local$$receiver.context),null==this.local$tmp$)return;this.state_0=2;continue;case 1:throw this.exception_0;case 2:if(this.local$contentType=this.local$tmp$,this.local$closure$feature.canHandle_3vupc4$(this.local$contentType)){this.state_0=3;continue}return;case 3:this.local$$receiver.context.headers.remove_61zpoe$(_.HttpHeaders.ContentType);var o=j(this.local$payload,d)||l.isType(this.local$payload,Object.getPrototypeOf(f.EmptyContent).constructor)?f.EmptyContent:this.local$closure$feature.serializer.write_ydd6c4$(this.local$payload,this.local$contentType);if(this.state_0=4,this.result_0=this.local$$receiver.proceedWith_trkh7z$(o,this),this.result_0===m)return m;continue;case 4:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}}while(1)},S.$metadata$={kind:l.Kind.CLASS,simpleName:null,interfaces:[g]},((S.prototype=Object.create(g.prototype)).constructor=S).prototype.doResume=function(){do{try{switch(this.state_0){case 0:if(this.local$info=this.local$f.component1(),this.local$body=this.local$f.component2(),l.isType(this.local$body,q)){this.state_0=2;continue}return;case 1:throw this.exception_0;case 2:if(this.local$tmp$=N(this.local$$receiver.context.response),null==this.local$tmp$)return;this.state_0=3;continue;case 3:var t=this.local$tmp$;if(this.local$closure$feature.canHandle_3vupc4$(t)){this.state_0=4;continue}return;case 4:if(this.local$tmp$_0=this.local$closure$feature.serializer,this.state_0=5,this.result_0=R(this.local$body,this),this.result_0===m)return m;continue;case 5:var e=this.local$tmp$_0.read_2ktxo1$(this.local$info,this.result_0),o=new H(this.local$info,e);if(this.state_0=6,this.result_0=this.local$$receiver.proceedWith_trkh7z$(o,this),this.result_0===m)return m;continue;case 6:return this.result_0;default:throw this.state_0=1,new Error("State Machine Unreachable execution")}}catch(t){if(1===this.state_0)throw this.exceptionState_0=this.state_0,t;this.state_0=this.exceptionState_0,this.exception_0=t}}while(1)},b.prototype.install_wojrb5$=function(t,e){var r,n;e.requestPipeline.intercept_h71y74$(y.Phases.Transform,(r=t,function(t,e,o,i){t=new E(r,t,e,this,o);return i?t:t.doResume(null)})),e.responsePipeline.intercept_h71y74$(O.Phases.Transform,(n=t,function(t,e,o,i){t=new S(n,t,e,this,o);return i?t:t.doResume(null)}))},b.$metadata$={kind:e,simpleName:"Feature",interfaces:[i]};var z,P=null;function A(){return null===P&&new b,P}function J(){}function M(){return K(z)}T.$metadata$={kind:a,simpleName:"JsonFeature",interfaces:[]},J.prototype.write_za3rmp$=function(t){return this.write_ydd6c4$(t,n.Application.Json)},J.$metadata$={kind:r,simpleName:"JsonSerializer",interfaces:[]};p=t.io||(t.io={}),e=p.ktor||(p.ktor={}),a=e.client||(e.client={}),r=a.features||(a.features={}),p=r.json||(r.json={});return p.JsonContentTypeMatcher=C,T.Config=x,Object.defineProperty(T,"Feature",{get:A}),p.JsonFeature_init_gooyo8$=function(t,e){return e=e||Object.create(T.prototype),T.call(e,t,v(n.Application.Json)),e},p.JsonFeature_init_46m83n$=function(t,e){var o;return e=e||Object.create(T.prototype),T.call(e,null!=(o=t.serializer)?o:M(),t.acceptContentTypes,t.receiveContentTypeMatchers),e},p.JsonFeature=T,p.Json_ok8fqq$=function(t,e){t.install_xlxg29$(A(),e)},p.JsonSerializer=J,p.defaultSerializer=M,Object.defineProperty(p,"serializersStore",{get:function(){return z}}),b.prototype.prepare_oh3mgy$=i.prototype.prepare_oh3mgy$,z=o(),l.defineModule("ktor-ktor-client-json-jsLegacy",t),t});