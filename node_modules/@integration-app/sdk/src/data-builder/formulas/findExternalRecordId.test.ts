import { getFormula } from '.'
import { buildData } from '..'
import { DataBuilderFormulaFindExternalRecordId } from './findExternalRecordId'

describe('data-builder/formulas/findExternalRecordId', () => {
  const args = {
    dataLinkTable: {
      key: 'contacts',
    },
    recordId: '1234',
  }

  it('should parse $findExternalRecordId formulas', () => {
    expect(
      getFormula({
        $findExternalRecordId: args,
      }),
    ).toEqual(new DataBuilderFormulaFindExternalRecordId(args))
  })

  it('should resolve into the formula itself', () => {
    expect(
      buildData({
        $findExternalRecordId: args,
      }),
    ).toEqual({
      $findExternalRecordId: args,
    })
  })
})
