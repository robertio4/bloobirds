import '.'
import { DataBuilderContext } from '../context'
import { getValueByLocator } from './base'

describe('getValueByLocator', () => {
  it('should return value at object property locator', () => {
    const context = new DataBuilderContext({
      a: {
        b: {
          c: 'd',
        },
      },
    })
    expect(getValueByLocator(context, '$.a.b.c')).toEqual('d')
  })

  it('should return value at array locator', () => {
    const context = new DataBuilderContext(['a', 'b', 'c'])
    expect(getValueByLocator(context, '$[1]')).toEqual('b')
  })

  it('should return false value', () => {
    const context = new DataBuilderContext({ b: false })
    expect(getValueByLocator(context, '$.b')).toEqual(false)
  })
})
