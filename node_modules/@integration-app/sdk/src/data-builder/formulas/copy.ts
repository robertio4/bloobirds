import { DataBuilderFormulaType, processValue } from '.'
import { DataBuilderContext } from '../context'
import { DataBuilderFormulaBase } from './base'

export class DataBuilderFormulaCopy extends DataBuilderFormulaBase {
  constructor(public locator: string) {
    super(DataBuilderFormulaType.COPY, locator)
  }

  getValue(context: DataBuilderContext) {
    return {
      $copy: processValue(this.locator, context),
    }
  }

  getSchema() {
    return null
  }
}
