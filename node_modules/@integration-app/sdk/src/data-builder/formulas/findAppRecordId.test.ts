import { getFormula } from '.'
import { buildData } from '..'
import { DataBuilderFormulaFindAppRecordId } from './findAppRecordId'

describe('data-builder/formulas/findAppRecordId', () => {
  const args = {
    dataLinkTable: {
      key: 'contacts',
    },
    recordId: '1234',
  }

  it('should parse $findAppRecordId formulas', () => {
    expect(
      getFormula({
        $findAppRecordId: args,
      }),
    ).toEqual(new DataBuilderFormulaFindAppRecordId(args))
  })

  it('should resolve into the formula itself', () => {
    expect(
      buildData({
        $findAppRecordId: args,
      }),
    ).toEqual({
      $findAppRecordId: args,
    })
  })
})
