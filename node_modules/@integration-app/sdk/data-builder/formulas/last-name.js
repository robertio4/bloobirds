"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DataBuilderFormulaLastName = void 0;
const tslib_1 = require("tslib");
const _1 = require(".");
const base_1 = require("./base");
const humanparser_1 = tslib_1.__importDefault(require("humanparser"));
const __1 = require("..");
class DataBuilderFormulaLastName extends base_1.DataBuilderFormulaBase {
    constructor(value) {
        super(_1.DataBuilderFormulaType.LAST_NAME, value);
        this.value = value;
    }
    getValue(context) {
        var _a;
        const value = (0, _1.processValue)(this.value, context);
        const { lastName } = humanparser_1.default.parseName((_a = value === null || value === void 0 ? void 0 : value.toString()) !== null && _a !== void 0 ? _a : '');
        return lastName;
    }
    getSchema() {
        return { type: 'string' };
    }
    toString(variablesSchema) {
        return `ExtractLastName(${(0, __1.valueToString)(this.value, variablesSchema)})`;
    }
}
exports.DataBuilderFormulaLastName = DataBuilderFormulaLastName;
//# sourceMappingURL=last-name.js.map