{"version":3,"file":"index.js","sources":["../src/utils/activityTimeline.utils.ts","../../../../node_modules/style-inject/dist/style-inject.es.js","../src/components/activityTimelineItem/components/cardIcons.tsx","../src/components/activityTimelineItem/components/emailDetailsDropdown.tsx","../src/components/activityTimelineItem/activityTimelineItem.tsx","../src/components/activityTimelineItem/components/descriptionComponent.tsx","../src/components/activityTimelineItem/components/iconComponent.tsx","../src/components/activityTimelineItem/components/rightIconComponent.tsx","../src/components/activityTimelineItem/components/subtitleComponent.tsx","../src/components/activityTimelineItem/newActivityTimelineItem.tsx","../src/components/activityTooltipBlock/activityTooltipBlock.tsx"],"sourcesContent":["import { UseTranslationResponse } from 'react-i18next';\n\nimport { ColorType } from '@bloobirds-it/flamingo-ui';\nimport { getI18nSpacetimeLng } from '@bloobirds-it/internationalization';\nimport { serialize } from '@bloobirds-it/rich-text-editor';\nimport {\n  ACTIVITY_DIRECTION,\n  ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  BobjectId,\n  BobjectTypes,\n  CADENCE_TYPES_VALUES_LOGIC_ROLE,\n  DIRECTION_VALUES_LOGIC_ROLE,\n  GroupedActivityInterface,\n} from '@bloobirds-it/types';\nimport {\n  getUserTimeZone,\n  isDifferentYearThanCurrent,\n  isToday,\n  removeHtmlTags,\n} from '@bloobirds-it/utils';\nimport { TFunction } from 'i18next';\n\nconst getCadenceActivityText = (cadenceValueLR: CADENCE_TYPES_VALUES_LOGIC_ROLE, t: TFunction) => {\n  switch (cadenceValueLR) {\n    case CADENCE_TYPES_VALUES_LOGIC_ROLE.STARTED:\n    case CADENCE_TYPES_VALUES_LOGIC_ROLE.CONFIGURE:\n    default:\n      return t('activityTimelineItem.item.startedCadence');\n    case CADENCE_TYPES_VALUES_LOGIC_ROLE.RESCHEDULE:\n      return t('activityTimelineItem.item.rescheduledCadence');\n    case CADENCE_TYPES_VALUES_LOGIC_ROLE.STOPPED:\n      return t('activityTimelineItem.item.stoppedCadence');\n    case CADENCE_TYPES_VALUES_LOGIC_ROLE.ENDED:\n      return t('activityTimelineItem.item.endedCadence');\n  }\n};\n\nexport function getSyncName(activityType: GroupedActivityInterface['activityType']) {\n  switch (activityType) {\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL:\n      return 'email';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING:\n      return 'meeting';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL:\n      return 'call';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n      return 'message';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE:\n      return 'note';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND:\n      return 'activity';\n  }\n}\n\nexport function getActivityTypeColor(\n  activityTypeLogicRole: ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  activityDirection: DIRECTION_VALUES_LOGIC_ROLE,\n  customTaskIconColor,\n): ColorType {\n  const isOutgoing = activityDirection === DIRECTION_VALUES_LOGIC_ROLE.OUTGOING;\n  switch (activityTypeLogicRole) {\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL:\n      return isOutgoing ? 'lightestTangerine' : 'tangerine';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING:\n      return 'lightestMeeting';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL:\n      return activityDirection === DIRECTION_VALUES_LOGIC_ROLE.MISSED\n        ? 'lightestMeeting'\n        : 'lightestCall';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n      return 'verySoftBloobirds';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE:\n      return 'banana';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND:\n      return 'lightestBanana';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CADENCE:\n      return 'verySoftPurple';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CHANGED_FROM:\n      return 'verySoftPurple';\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CUSTOM_TASK:\n      return customTaskIconColor;\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.STATUS:\n      return 'lightPeanut';\n  }\n}\n\nexport function getActivitySubject(activity, t, customTaskName): string {\n  const activityTypeLogicRole = activity.activityType;\n  let activitySubject = activity.subject;\n  switch (activityTypeLogicRole) {\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL:\n      if (\n        activitySubject?.includes('\"type\":\"p\"') &&\n        typeof activitySubject === 'string' &&\n        typeof JSON.parse(activitySubject) === 'object'\n      ) {\n        activitySubject = removeHtmlTags(serialize(activitySubject));\n      }\n      return activitySubject || t('common.noSubject');\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING:\n      return activity.meetingTitle ? activity.meetingTitle : t('common.meetingArranged');\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL:\n      //TODO meh\n      return t(\n        'activityTimelineItem.item.' +\n          ACTIVITY_DIRECTION[activity.direction?.split('__').at(-1)] +\n          'Call',\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n      return activity.body\n        ? t('activityTimelineItem.item.linkedinConversation')\n        : t('activityTimelineItem.item.manuallyLoggedActivity');\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE: {\n      const activityTitle = activity.meetingTitle;\n      const activityLeadName = activity.leadName;\n      return typeof activityTitle === 'string'\n        ? removeHtmlTags(activityTitle)\n        : activityLeadName\n        ? activityLeadName + ' ' + t('common.note').toLowerCase()\n        : t('common.note');\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND:\n      return t('activityTimelineItem.item.inboundActivity');\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CADENCE: {\n      const activityCadenceStatus = getCadenceActivityText(activity.cadenceType, t);\n      return activityCadenceStatus ? activityCadenceStatus : '';\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CUSTOM_TASK:\n      return customTaskName;\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.STATUS: {\n      const activityStatusUpdate = activity.statusTitle;\n      return activityStatusUpdate ? activityStatusUpdate : t('common.statusUpdate');\n    }\n  }\n}\n\nexport const getBobjectNameProps = (activity: GroupedActivityInterface) => {\n  const opportunityName = activity.opportunityName;\n  const activityLeadName = activity.leadName;\n  const activityCompanyName = activity.companyName;\n  //leadInfo\n  const activityEmailMetadata = activity.emailMetadata;\n  const activityEmailInfo = activityEmailMetadata ? JSON.parse(activityEmailMetadata) : {};\n  const activityLeadEmail = activity.leadEmail;\n\n  const activityEmailLeads: Array<string> = [];\n  if (activityEmailMetadata) {\n    if (activityEmailInfo?.to?.length > 0) {\n      activityEmailInfo.to.map((to: { name: string; email: string }) => {\n        if (to.name && to.name !== activityLeadName) activityEmailLeads.push(to.name);\n        else if (to.email && to.email !== activityLeadEmail)\n          activityEmailLeads.push(to.email.split('@')[0]);\n      });\n    }\n    if (activityEmailInfo?.cc?.length > 0) {\n      activityEmailInfo.cc.map((cc: { name: string; email: string }) => {\n        if (cc.name && cc.name !== activityLeadName) activityEmailLeads.push(cc.name);\n        else if (cc.email && cc.email !== activityLeadEmail)\n          activityEmailLeads.push(cc.email.split('@')[0]);\n      });\n    }\n  }\n  let activityBobjectName = '';\n  let activityBobjectType = BobjectTypes.Lead;\n\n  if (activityLeadName) {\n    activityBobjectName = activityLeadName;\n    if (activityEmailLeads?.length > 0) {\n      activityBobjectName += ', ' + activityEmailLeads.join(', ');\n    }\n  } else if (activityEmailLeads?.length > 0) {\n    activityBobjectName += activityEmailLeads.join(', ');\n  } else if (opportunityName) {\n    activityBobjectName = opportunityName;\n    activityBobjectType = BobjectTypes.Opportunity;\n  } else if (activityCompanyName) {\n    activityBobjectName = activityCompanyName;\n    activityBobjectType = BobjectTypes.Company;\n  }\n\n  return { activityBobjectName, activityBobjectType };\n};\n\nexport function getTimeToShow(\n  activityTime: Date,\n  trans: UseTranslationResponse<'translation', undefined>,\n) {\n  const { t, i18n } = trans;\n  const isDifferentYear = isDifferentYearThanCurrent(activityTime);\n  const isThisDay = isToday(activityTime, getUserTimeZone());\n\n  return getI18nSpacetimeLng(i18n?.language, new Date(activityTime)).format(\n    isDifferentYear ? t('dates.shortYear') : isThisDay ? '{time-24}' : t('dates.shortMonth'),\n  );\n}\n\nexport function forgeIdFieldsFromIdValue(idValue: BobjectId['value']) {\n  const [accountId, typeName, objectId] = idValue.split('/');\n  return {\n    accountId,\n    typeName,\n    objectId,\n    value: idValue,\n  } as BobjectId;\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  CardButton,\n  Dropdown,\n  Icon,\n  IconButton,\n  Text,\n  Tooltip,\n  useVisible,\n} from '@bloobirds-it/flamingo-ui';\nimport { LightAttachmentItem } from '@bloobirds-it/light-attachment-list';\nimport {\n  ACTIVITY_FIELDS_LOGIC_ROLE,\n  Bobject,\n  BobjectTypes,\n  DataModelResponse,\n  GroupedActivityInterface\n} from \"@bloobirds-it/types\";\nimport { getTextFromLogicRole, toHoursAndMinutes } from '@bloobirds-it/utils';\n\nimport styles from '../activityTimelineItem.module.css';\nimport { useDataModel } from \"@bloobirds-it/hooks\";\n\nexport const AttachmentsDropdown = React.forwardRef(\n  ({\n    attachedFiles,\n    betterAttachments,\n  }: {\n    attachedFiles: any;\n    betterAttachments?: { name: string; url: string; id: string }[];\n  }) => {\n    const anchorRef = useRef();\n    const { ref, visible, setVisible } = useVisible(false, anchorRef);\n    const { t } = useTranslation();\n\n    function toggleVisible(event: React.MouseEvent<HTMLElement, MouseEvent>) {\n      event.stopPropagation();\n      event.preventDefault();\n      setVisible(!visible);\n    }\n\n    const hasBetterAttachments = betterAttachments && betterAttachments?.length > 0;\n\n    return (\n      <Dropdown\n        ref={ref}\n        visible={visible}\n        anchor={\n          <Tooltip title={t('activityTimelineItem.attachmentsDropdown.tooltip')} position=\"top\">\n            <IconButton\n              name=\"paperclip\"\n              /*@ts-ignore*/\n              ref={anchorRef}\n              size={12}\n              color=\"bloobirds\"\n              onClick={event => toggleVisible(event)}\n              className={styles.attachmentClip}\n            />\n          </Tooltip>\n        }\n        width={214}\n      >\n        <div className={styles.attachmentDropdown}>\n          {hasBetterAttachments\n            ? betterAttachments.map(\n                file =>\n                  !!file && (\n                    <LightAttachmentItem\n                      key={file.id}\n                      name={file.name}\n                      url={file.url}\n                      id={file.id}\n                    />\n                  ),\n              )\n            : attachedFiles.map(\n                attachment =>\n                  !!attachment && <LightAttachmentItem key={attachment} name={attachment} />,\n              )}\n        </div>\n      </Dropdown>\n    );\n  },\n);\n\nexport const MeetingDurationInfo = ({ meetingDuration }: { meetingDuration: number }) => (\n  <div className={styles.meetingDurationInfo}>\n    <Icon name=\"clock\" color=\"bloobirds\" size={12} />\n    <Text size=\"xs\" color=\"bloobirds\">\n      {meetingDuration && toHoursAndMinutes(meetingDuration)}\n    </Text>\n  </div>\n);\n\nexport const BobjectName = ({\n  activityBobjectName,\n  activityBobjectType = BobjectTypes.Lead,\n  ellipsis = undefined,\n}: {\n  activityBobjectName: string;\n  activityBobjectType?: BobjectTypes;\n  ellipsis?: string;\n}) =>\n  activityBobjectName ? (\n    <div className={styles.leadName} style={{ maxWidth: ellipsis }}>\n      <Icon\n        name={\n          activityBobjectType === BobjectTypes.Opportunity\n            ? 'fileOpportunity'\n            : activityBobjectType === BobjectTypes.Company\n            ? 'company'\n            : 'person'\n        }\n        color=\"bloobirds\"\n        size={12}\n      />\n      <Text size=\"xxs\" color=\"bloobirds\" className={styles.ellipsis}>\n        {activityBobjectName}\n      </Text>\n    </div>\n  ) : (\n    <></>\n  );\n\nexport const EmailIcons = ({ activity }: { activity: Bobject }) => {\n  const { t } = useTranslation();\n  const openedTimes = getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.EMAIL_TIMES_OPENED);\n  const clickedTimes = getTextFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.EMAIL_TIMES_CLICKED,\n  );\n  const replyTimes = getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.EMAIL_TIMES_REPLIED);\n  const hasBeenOpened = +openedTimes > 0;\n  const hasBeenClicked = +clickedTimes > 0;\n  const hasBeenReplied = +replyTimes > 0;\n\n  return (\n    <>\n      {hasBeenOpened && (\n        <Tooltip\n          title={t('activityTimelineItem.emailIcons.tooltip', {\n            openedTimes,\n            clickedTimes,\n          })}\n          position=\"top\"\n        >\n          <Icon name={hasBeenClicked ? 'checkDouble' : 'check'} color=\"bloobirds\" size={12} />\n        </Tooltip>\n      )}\n      {hasBeenReplied && (\n        <Tooltip title={t('activityTimelineItem.emailIcons.hasBeenReplied')} position=\"top\">\n          <Icon name=\"reply\" color=\"bloobirds\" size={12} />\n        </Tooltip>\n      )}\n    </>\n  );\n};\n\nexport const NewEmailIcons = ({ activity }: { activity: GroupedActivityInterface }) => {\n  const { t } = useTranslation();\n  const openedTimes = activity.emailTimesOpen;\n  const clickedTimes = activity.emailTimesClick;\n  const replyTimes = activity.emailTimesReply;\n  const hasBeenOpened = +openedTimes > 0;\n  const hasBeenClicked = +clickedTimes > 0;\n  const hasBeenReplied = +replyTimes > 0;\n\n  return (\n    <>\n      {hasBeenOpened && (\n        <Tooltip\n          title={t('activityTimelineItem.emailIcons.tooltip', {\n            openedTimes,\n            clickedTimes,\n          })}\n          position=\"top\"\n        >\n          <Icon name={hasBeenClicked ? 'checkDouble' : 'check'} color=\"bloobirds\" size={12} />\n        </Tooltip>\n      )}\n      {hasBeenReplied && (\n        <Tooltip title={t('activityTimelineItem.emailIcons.hasBeenReplied')} position=\"top\">\n          <Icon name=\"reply\" color=\"bloobirds\" size={12} />\n        </Tooltip>\n      )}\n    </>\n  );\n};\n\nexport const ReportedIconButton = ({\n  isReported,\n  actionsDisabled,\n  disableReport,\n  onClick,\n}: {\n  isReported: boolean;\n  actionsDisabled?: boolean;\n  disableReport?: boolean;\n  onClick: () => void;\n}) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'activityTimelineItem' });\n\n  return (\n    <div\n      className={styles.rightIconsContainer}\n      onClick={!actionsDisabled && !disableReport && onClick}\n    >\n      <Tooltip\n        title={\n          actionsDisabled\n            ? t('reportedIconButton.tooltipNoPermissions')\n            : isReported\n            ? t('reportedIconButton.tooltipReported')\n            : t('reportedIconButton.tooltipNotReported')\n        }\n        position=\"top\"\n      >\n        <CardButton\n          size=\"small\"\n          color={isReported ? 'verySoftMelon' : 'transparent'}\n          variant={isReported ? 'primary' : 'clear'}\n        >\n          <Icon size={12} color={isReported ? 'extraCall' : 'softPeanut'} name=\"thumbsUp\" />\n        </CardButton>\n      </Tooltip>\n    </div>\n  );\n};\n","import { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Dropdown, Icon, Text, useVisible } from '@bloobirds-it/flamingo-ui';\nimport { formatDateAsText } from '@bloobirds-it/utils';\n\nimport styles from './emailDetailsDropdown.module.css';\n\ninterface EmailValue {\n  name: string;\n  email: string;\n}\n\ninterface EmailDetailsDropdownProps {\n  metadata: Record<string, EmailValue[]>;\n  date: string;\n  subject: string;\n}\n\nexport const EmailDetailsDropdown = (props: EmailDetailsDropdownProps) => {\n  const { metadata, date, subject } = props;\n\n  const anchorRef = useRef();\n  const { visible, setVisible, ref } = useVisible(false, anchorRef);\n  const { t } = useTranslation();\n\n  const formattedDate = formatDateAsText({\n    text: date,\n    patternFormat: '{date} {month-short} {year}, {time}',\n    t,\n  });\n\n  return (\n    <Dropdown\n      anchor={\n        <div\n          onClick={e => {\n            setVisible(visible => !visible);\n            e.stopPropagation();\n          }}\n          ref={anchorRef}\n        >\n          <Icon name=\"chevronDown\" size={12} />\n        </div>\n      }\n      visible={visible}\n      ref={ref}\n      arrow={false}\n    >\n      <div className={styles.column}>\n        {metadata && (\n          <>\n            <Row label={`${t('common.from').toLowerCase()}:`} values={metadata.from} />\n            <Row label={t('common.to').toLowerCase()} values={metadata.to} />\n            {metadata.cc && metadata.cc.length > 0 && <Row label=\"cc:\" values={metadata.cc} />}\n            {metadata.bcc && metadata.bcc.length > 0 && <Row label=\"bcc:\" values={metadata.bcc} />}\n            <Row label={t('common.date').toLowerCase()} values={formattedDate} />\n            <Row label={t('common.subject').toLowerCase()} values={subject} />\n          </>\n        )}\n      </div>\n    </Dropdown>\n  );\n};\n\nconst Row = (props: { label: string; values: string | EmailValue[] }) => {\n  const { label, values } = props;\n  return (\n    <div className={styles.row}>\n      <div className={styles.label}>\n        <Text size=\"s\" color=\"softPeanut\">\n          {label}\n        </Text>\n      </div>\n      <div className={styles.value}>\n        {typeof values === 'string' ? (\n          <Text size=\"s\" color=\"peanut\">\n            {values || '-'}\n          </Text>\n        ) : values && values.length > 0 ? (\n          values.map(value => (\n            <Text size=\"s\" color=\"peanut\" key={`email-info-${label}-${value}`}>\n              {value.name ? `${value.name} <${value.email}>` : value.email}\n            </Text>\n          ))\n        ) : (\n          <Text size=\"s\" color=\"peanut\">\n            -\n          </Text>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  ColorType,\n  Icon,\n  IconButton,\n  IconType,\n  Text,\n  TimelineItem,\n  Tooltip,\n} from '@bloobirds-it/flamingo-ui';\nimport { QuickLogModalData, useCadences } from '@bloobirds-it/hooks';\nimport { InfoWarningSync } from '@bloobirds-it/misc';\nimport { serialize } from '@bloobirds-it/rich-text-editor';\nimport {\n  ACTIVITY_DIRECTION,\n  ACTIVITY_FIELDS_LOGIC_ROLE,\n  ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  Bobject,\n  BobjectTypes,\n  BOUNCED_EMAIL_VALUES_LOGIC_ROLE,\n  CADENCE_TYPES_VALUES_LOGIC_ROLE,\n  COMPANY_FIELDS_LOGIC_ROLE,\n  CustomTask,\n  DataModelResponse,\n  LEAD_FIELDS_LOGIC_ROLE,\n  MessagesEvents,\n  MIXPANEL_EVENTS,\n  OPPORTUNITY_FIELDS_LOGIC_ROLE,\n} from '@bloobirds-it/types';\nimport {\n  convertHtmlToString,\n  formatDateAsText,\n  getFieldByLogicRole,\n  getReferencedBobject,\n  getReferencedBobjectFromLogicRole,\n  getRelatedBobjectTypeName,\n  getTextFromLogicRole,\n  getUserTimeZone,\n  getValueFromLogicRole,\n  isDifferentYearThanCurrent,\n  isToday,\n  api,\n  removeHtmlTags,\n} from '@bloobirds-it/utils';\nimport clsx from 'clsx';\nimport { parseISO } from 'date-fns';\nimport mixpanel from 'mixpanel-browser';\n\nimport { getTimeToShow } from '../../utils/activityTimeline.utils';\nimport styles from './activityTimelineItem.module.css';\nimport {\n  AttachmentsDropdown,\n  BobjectName,\n  EmailIcons,\n  MeetingDurationInfo,\n  ReportedIconButton,\n} from './components/cardIcons';\nimport { EmailDetailsDropdown } from './components/emailDetailsDropdown';\n\ninterface ActivityInfo {\n  icon: IconType | JSX.Element;\n  color: ColorType;\n  iconColor?: ColorType;\n  subject: string;\n  subtitle?: string;\n  extraSubtitle?: JSX.Element;\n  description?: JSX.Element;\n  ellipsisOnSubject?: boolean;\n  date?: string;\n  backgroundColor?: ColorType;\n  rightIcon?: JSX.Element;\n  syncName?: string;\n}\n\nexport const ActivityTimelineItem = ({\n  activity,\n  onClick,\n  startDisplayDivider,\n  endDisplayDivider,\n  activeHover = true,\n  extended,\n  alternativeDescription = false,\n  dataModel,\n  userId,\n  actionsDisabled,\n  sidePeekEnabled,\n  disableButtons,\n  hovering,\n  openContactFlow,\n  openMeetingResult,\n  openQuickLogModal,\n  customTasks,\n  syncStatus,\n}: {\n  activity: Bobject;\n  onClick?: (act: Bobject, redirect?: boolean) => void;\n  startDisplayDivider: boolean;\n  endDisplayDivider: boolean;\n  changeBackground?: boolean;\n  activeHover?: boolean;\n  extended?: boolean;\n  alternativeDescription?: boolean;\n  dataModel: DataModelResponse;\n  userId?: string;\n  actionsDisabled?: boolean;\n  sidePeekEnabled?: boolean;\n  disableButtons?: boolean;\n  hovering?: boolean;\n  openContactFlow?: () => void;\n  openMeetingResult?: () => void;\n  openQuickLogModal?: (data?: QuickLogModalData) => void;\n  customTasks?: CustomTask[];\n  syncStatus?: boolean;\n}) => {\n  if (!activity?.raw) {\n    return null;\n  }\n\n  const activityTypeField = dataModel?.findFieldByLogicRole(ACTIVITY_FIELDS_LOGIC_ROLE.TYPE) || {\n    id: '',\n  };\n  const activityType = activity.raw.contents[activityTypeField?.id];\n\n  if (!activityType) {\n    return null;\n  }\n\n  return (\n    <ActivityTimelineItemWrapped\n      activity={activity}\n      onClick={onClick}\n      startDisplayDivider={startDisplayDivider}\n      endDisplayDivider={endDisplayDivider}\n      activeHover={activeHover}\n      extended={extended}\n      alternativeDescription={alternativeDescription}\n      dataModel={dataModel}\n      userId={userId}\n      actionsDisabled={actionsDisabled}\n      sidePeekEnabled={sidePeekEnabled}\n      disableButtons={disableButtons}\n      hovering={hovering}\n      openContactFlow={openContactFlow}\n      openMeetingResult={openMeetingResult}\n      openQuickLogModal={openQuickLogModal}\n      customTasks={customTasks}\n      syncStatus={syncStatus}\n    />\n  );\n};\n\n/**\n * This component must be used inside a <Timeline> Parent to be shown properly.\n * On Click has a default action that is meant to be on the main feed to open extended content\n * @param activity\n * @param onClick\n * @param startDisplayDivider\n * @param endDisplayDivider\n * @param activeHover\n * @param extended\n * @param alternativeDescription\n * @param dataModel\n * @param userId\n * @param actionsDisabled\n * @param sidePeekEnabled\n * @param disableReport\n * @param hovering\n * @param openContactFlow\n * @param openMeetingResult\n * @param openQuickLogModal\n * @param customTasks\n * @param syncStatus\n * @constructor\n */\nexport const ActivityTimelineItemWrapped = ({\n  activity,\n  onClick,\n  startDisplayDivider,\n  endDisplayDivider,\n  activeHover = true,\n  extended,\n  alternativeDescription = false,\n  dataModel,\n  userId,\n  actionsDisabled,\n  sidePeekEnabled,\n  disableButtons,\n  hovering,\n  openContactFlow,\n  openMeetingResult,\n  openQuickLogModal,\n  customTasks,\n  syncStatus,\n}: {\n  activity: Bobject;\n  onClick?: (act: Bobject, redirect?: boolean) => void;\n  startDisplayDivider: boolean;\n  endDisplayDivider: boolean;\n  changeBackground?: boolean;\n  activeHover?: boolean;\n  extended?: boolean;\n  alternativeDescription?: boolean;\n  dataModel: DataModelResponse;\n  userId?: string;\n  actionsDisabled?: boolean;\n  sidePeekEnabled?: boolean;\n  disableButtons?: boolean;\n  hovering?: boolean;\n  openContactFlow?: () => void;\n  openMeetingResult?: () => void;\n  openQuickLogModal?: (data?: QuickLogModalData) => void;\n  customTasks?: CustomTask[];\n  syncStatus?: boolean;\n}) => {\n  const trans = useTranslation();\n  const { t } = trans;\n  const activityTypeField = dataModel?.findFieldByLogicRole(ACTIVITY_FIELDS_LOGIC_ROLE.TYPE) || {\n    id: '',\n  };\n  const activitySubjectFields = dataModel?.findFieldByLogicRole(\n    ACTIVITY_FIELDS_LOGIC_ROLE.MESSAGE_SUBJECT,\n  ) || { id: '' };\n  const activityFromNameFields = dataModel?.findFieldByLogicRole(\n    ACTIVITY_FIELDS_LOGIC_ROLE.INBOUND_FORM_NAME,\n  ) || { id: '' };\n  const activityBodyFields = dataModel?.findFieldByLogicRole(\n    ACTIVITY_FIELDS_LOGIC_ROLE.MESSAGE_BODY,\n  ) || { id: '' };\n  const activityDirectionFields = dataModel?.findFieldByLogicRole(\n    ACTIVITY_FIELDS_LOGIC_ROLE.DIRECTION,\n  ) || { id: '' };\n  const activityNoteField = dataModel?.findFieldByLogicRole(ACTIVITY_FIELDS_LOGIC_ROLE.NOTE) || {\n    id: '',\n  };\n  const activityTimeField = dataModel?.findFieldByLogicRole(ACTIVITY_FIELDS_LOGIC_ROLE.TIME) || {\n    id: '',\n  };\n  const activityTitleField = dataModel?.findFieldByLogicRole(ACTIVITY_FIELDS_LOGIC_ROLE.TITLE) || {\n    id: '',\n  };\n\n  const activityType = activity.raw.contents[activityTypeField?.id];\n  let activitySubject = activity.raw.contents[activitySubjectFields?.id];\n  const activityDirection = activity.raw.contents[activityDirectionFields?.id];\n  let activityBody = activity.raw.contents[activityBodyFields?.id];\n  const activityNote = activity.raw.contents[activityNoteField?.id];\n  const activityFormName = activity.raw.contents[activityFromNameFields?.id];\n  const activityTime = activity.raw.contents[activityTimeField?.id];\n  const timeToShow = getTimeToShow(activityTime, trans);\n  const activityTitle = activity.raw.contents[activityTitleField?.id];\n  const activityTypeLogicRole = dataModel?.findValueById(activityType)?.logicRole;\n  const activityDirectionValue = dataModel?.findValueById(activityDirection)?.name;\n  const activityLead = getReferencedBobjectFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.LEAD);\n  const activityLeadName = getTextFromLogicRole(activityLead, LEAD_FIELDS_LOGIC_ROLE.FULL_NAME);\n  const activityCompany = getReferencedBobjectFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.COMPANY,\n  ) as Bobject<BobjectTypes.Company>;\n  const activityCompanyName = getTextFromLogicRole(activityCompany, COMPANY_FIELDS_LOGIC_ROLE.NAME);\n  const activityIsReported =\n    getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.REPORTED) === 'Yes';\n\n  // Email\n  const activityAttachedFiles = getTextFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.ATTACHED_FILES,\n  );\n  const parsedAttachedFiles = activityAttachedFiles && JSON.parse(activityAttachedFiles);\n  const activityLeadEmail = getTextFromLogicRole(activityLead, LEAD_FIELDS_LOGIC_ROLE.EMAIL);\n  const activityAttachments = getTextFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.ATTACHMENTS,\n  );\n\n  const parsedAttachments = activityAttachments && JSON.parse(activityAttachments);\n  const hasAttachedFiles =\n    activityAttachedFiles && parsedAttachedFiles?.filter((att: string) => !!att)?.length !== 0;\n  const isBouncedEmail =\n    getFieldByLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.IS_BOUNCED_EMAIL)?.valueLogicRole ===\n    BOUNCED_EMAIL_VALUES_LOGIC_ROLE.YES;\n  const activityEmailMetadata = getValueFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.EMAIL_METADATA,\n  );\n  const activityEmailInfo = activityEmailMetadata ? JSON.parse(activityEmailMetadata) : {};\n  const activityEmailLeads: Array<string> = [];\n  if (activityEmailMetadata) {\n    if (activityEmailInfo?.to?.length > 0) {\n      activityEmailInfo.to.map((to: { name: string; email: string }) => {\n        if (to.name && to.name !== activityLeadName) activityEmailLeads.push(to.name);\n        else if (to.email && to.email !== activityLeadEmail)\n          activityEmailLeads.push(to.email.split('@')[0]);\n      });\n    }\n    if (activityEmailInfo?.cc?.length > 0) {\n      activityEmailInfo.cc.map((cc: { name: string; email: string }) => {\n        if (cc.name && cc.name !== activityLeadName) activityEmailLeads.push(cc.name);\n        else if (cc.email && cc.email !== activityLeadEmail)\n          activityEmailLeads.push(cc.email.split('@')[0]);\n      });\n    }\n  }\n\n  // Meeting\n  const meetingDuration = getTextFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.MEETING_DURATION,\n  );\n  const meetingTitle = getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.TITLE);\n  const meetingResult = getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.MEETING_RESULT);\n\n  // Call\n  const callDuration = getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.CALL_DURATION);\n  const hasAudioRecording = getTextFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.CALL_RECORD_URL,\n  );\n  const callResult = getTextFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.CALL_RESULT);\n\n  // Cadence\n  const CADENCE_ACTIVITY_TEXT = {\n    [CADENCE_TYPES_VALUES_LOGIC_ROLE.RESCHEDULE]: t('activityTimelineItem.item.rescheduledCadence'),\n    [CADENCE_TYPES_VALUES_LOGIC_ROLE.STARTED]: t('activityTimelineItem.item.startedCadence'),\n    [CADENCE_TYPES_VALUES_LOGIC_ROLE.CONFIGURE]: t('activityTimelineItem.item.startedCadence'),\n    [CADENCE_TYPES_VALUES_LOGIC_ROLE.STOPPED]: t('activityTimelineItem.item.stoppedCadence'),\n    [CADENCE_TYPES_VALUES_LOGIC_ROLE.ENDED]: t('activityTimelineItem.item.endedCadence'),\n  };\n  const referenceBobjectType = getRelatedBobjectTypeName(activity);\n  const cadenceId = getFieldByLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.CADENCE)?.value;\n  const { cadences } = useCadences(\n    referenceBobjectType,\n    activity?.id?.accountId,\n    undefined,\n    undefined,\n    undefined,\n    true,\n  );\n  const activityCadence = cadences?.find(cadence => cadence?.id === cadenceId)?.name;\n  const activityCadenceStatusLR = getFieldByLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.CADENCE_TYPE,\n  )?.valueLogicRole;\n  const activityCadenceStatus = CADENCE_ACTIVITY_TEXT[activityCadenceStatusLR];\n\n  // Status\n  const activityStatusUpdate = getTextFromLogicRole(\n    activity,\n    ACTIVITY_FIELDS_LOGIC_ROLE.STATUS_TITLE,\n  );\n  const activityStatus = getTextFromLogicRole(activity, ACTIVITY_TYPES_VALUES_LOGIC_ROLE.STATUS);\n  const isLeadStatusUpdate = activityStatus?.includes('lead') || activityStatus?.includes('Lead');\n  const isOpportunityStatusUpdate =\n    activityStatus?.includes('opportunity') || activityStatus?.includes('Opportunity');\n  const opportunityField = getFieldByLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.OPPORTUNITY);\n  const opportunity = opportunityField?.referencedBobject;\n  const opportunityName = getTextFromLogicRole(opportunity, OPPORTUNITY_FIELDS_LOGIC_ROLE.NAME);\n  const opportunityStage = getTextFromLogicRole(opportunity, OPPORTUNITY_FIELDS_LOGIC_ROLE.STATUS);\n\n  const leadAssignee =\n    getFieldByLogicRole(activityLead, LEAD_FIELDS_LOGIC_ROLE.ASSIGNED_TO)?.value ||\n    // @ts-ignore\n    activityLead?.assignedTo;\n  const oppAssignee =\n    getFieldByLogicRole(opportunity, LEAD_FIELDS_LOGIC_ROLE.ASSIGNED_TO)?.value ||\n    // @ts-ignore\n    opportunity?.assignedTo;\n\n  const assignedToActiveUser = leadAssignee === userId || oppAssignee === userId;\n\n  const descriptionClass = clsx(styles.descriptionContainer, {\n    [styles.descriptionContainerSidePeek]: sidePeekEnabled,\n  });\n\n  const rightIconEmailClass = clsx(styles.rightIcons, {\n    [styles.emailIconSize]: sidePeekEnabled,\n  });\n\n  const rightIconMeetingClass = clsx(styles.rightIcons, {\n    [styles.rightIcon]: sidePeekEnabled,\n  });\n\n  const getBobjectNameProps = () => {\n    let activityBobjectName = '';\n    let activityBobjectType = BobjectTypes.Lead;\n\n    if (activityLeadName) {\n      activityBobjectName = activityLeadName;\n      if (activityEmailLeads?.length > 0) {\n        activityBobjectName += ', ' + activityEmailLeads.join(', ');\n      }\n    } else if (activityEmailLeads?.length > 0) {\n      activityBobjectName += activityEmailLeads.join(', ');\n    } else if (opportunityName) {\n      activityBobjectName = opportunityName;\n      activityBobjectType = BobjectTypes.Opportunity;\n    } else if (activityCompanyName) {\n      activityBobjectName = activityCompanyName;\n      activityBobjectType = BobjectTypes.Company;\n    }\n\n    return { activityBobjectName, activityBobjectType };\n  };\n\n  const customTask = customTasks?.find(\n    ct => ct.id === getValueFromLogicRole(activity, ACTIVITY_FIELDS_LOGIC_ROLE.CUSTOM_TASK),\n  );\n\n  const activityFields = (activityTypeLogicRole: string): ActivityInfo => {\n    const showStatusWarning = extended && syncStatus !== undefined && !syncStatus;\n    switch (activityTypeLogicRole) {\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL:\n        if (\n          activitySubject?.includes('\"type\":\"p\"') &&\n          typeof activitySubject === 'string' &&\n          typeof JSON.parse(activitySubject) === 'object'\n        ) {\n          activitySubject = removeHtmlTags(serialize(activitySubject));\n        }\n\n        if (\n          activityBody?.includes('\"type\":\"p\"') &&\n          typeof activityBody === 'string' &&\n          typeof JSON.parse(activityBody) === 'object'\n        ) {\n          activityBody = serialize(activityBody);\n        }\n\n        return {\n          icon: (\n            <div className={sidePeekEnabled && styles.emailIcon}>\n              <Icon\n                name={\n                  activityDirectionValue === ACTIVITY_DIRECTION.OUTGOING\n                    ? 'emailOutgoingAlter'\n                    : 'emailIncomingAlter'\n                }\n                color={\n                  activityDirectionValue === ACTIVITY_DIRECTION.OUTGOING\n                    ? ('tangerine' as ColorType)\n                    : 'lightestTangerine'\n                }\n                size={20}\n              />\n            </div>\n          ),\n          color:\n            activityDirectionValue === ACTIVITY_DIRECTION.OUTGOING\n              ? ('lightestTangerine' as ColorType)\n              : ('tangerine' as ColorType),\n          subject: activitySubject || t('common.noSubject'),\n          description: (\n            <div className={descriptionClass}>\n              <BobjectName {...getBobjectNameProps()} ellipsis=\"80%\" />\n              <EmailDetailsDropdown\n                metadata={activityEmailInfo}\n                date={activityTime}\n                subject={activitySubject}\n              />\n              {activityBody && (activityEmailLeads.length === 0 || sidePeekEnabled) && (\n                <div>\n                  <span>\n                    {activityBody\n                      ? convertHtmlToString(activityBody?.replace(/<head>[\\s\\S]*?<\\/head>/g, ''))\n                      : null}\n                  </span>\n                </div>\n              )}\n            </div>\n          ),\n          date: timeToShow,\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n          rightIcon: (\n            <div className={rightIconEmailClass}>\n              {showStatusWarning && <InfoWarningSync type={'email'} id={activity?.id} />}\n              {isBouncedEmail && (\n                <Tooltip title={t('activityTimelineItem.item.bounced')} position=\"top\">\n                  <Icon\n                    className={styles.bouncedEmail}\n                    name=\"statusCircle\"\n                    size={6}\n                    color=\"extraMeeting\"\n                  />\n                </Tooltip>\n              )}\n              {hasAttachedFiles && (\n                <AttachmentsDropdown\n                  attachedFiles={parsedAttachedFiles}\n                  betterAttachments={parsedAttachments}\n                />\n              )}\n              <EmailIcons activity={activity} />\n            </div>\n          ),\n          syncName: 'email',\n        };\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING:\n        return {\n          icon: 'calendar' as IconType,\n          color: 'lightestMeeting' as ColorType,\n          iconColor: 'extraMeeting' as ColorType,\n          subject: meetingTitle ? meetingTitle : t('common.meetingArranged'),\n          extraSubtitle: meetingDuration && !alternativeDescription && (\n            <div className={styles.meetingDuration}>\n              <MeetingDurationInfo meetingDuration={+meetingDuration} />\n            </div>\n          ),\n          description: (\n            <div className={descriptionClass}>\n              {activityLead && <BobjectName activityBobjectName={activityLeadName} />}\n              <div>\n                {meetingResult && <b>{meetingResult}</b>}\n                {activityNote && (\n                  <span>\n                    <b>{t('common.note')}: </b> {convertHtmlToString(activityNote)}\n                  </span>\n                )}\n              </div>\n            </div>\n          ),\n          date: timeToShow,\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n          rightIcon: (\n            <div className={rightIconMeetingClass}>\n              {showStatusWarning && <InfoWarningSync type={'meeting'} id={activity?.id} />}\n              <ReportedIconButton\n                isReported={activityIsReported}\n                actionsDisabled={actionsDisabled && !assignedToActiveUser}\n                disableReport={disableButtons}\n                onClick={openMeetingResult}\n              />\n            </div>\n          ),\n          syncName: 'meeting',\n        };\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL:\n        return {\n          icon: (\n            <div className={sidePeekEnabled && styles.callIcon}>\n              <Icon\n                name={\n                  activityDirectionValue === ACTIVITY_DIRECTION.OUTGOING\n                    ? 'callOutgoing'\n                    : 'callIncoming'\n                }\n                color={\n                  activityDirectionValue === ACTIVITY_DIRECTION.MISSED\n                    ? 'extraMeeting'\n                    : 'extraCall'\n                }\n                size={16}\n              />\n            </div>\n          ),\n          color:\n            activityDirectionValue === ACTIVITY_DIRECTION.MISSED\n              ? 'lightestMeeting'\n              : ('lightestCall' as ColorType),\n          iconColor: 'extraCall' as ColorType,\n          subject: t('activityTimelineItem.item.' + activityDirectionValue + 'Call'),\n          date: timeToShow,\n          description: alternativeDescription ? (\n            <Text size=\"xxs\" color=\"softPeanut\">\n              {t('common.callWith') +\n                ' ' +\n                activityLeadName +\n                ' ' +\n                (activityCompanyName ? t('common.from') + ' ' + activityCompanyName : '')}\n            </Text>\n          ) : (\n            <div className={descriptionClass}>\n              {activityLead && <BobjectName activityBobjectName={activityLeadName} />}\n              {callResult && <b>{callResult}</b>}\n              {activityNote && (\n                <span>\n                  <b>{t('common.note')}:</b>\n                  {convertHtmlToString(activityNote)}\n                </span>\n              )}\n              {!callResult && !activityNote && <div></div>}\n            </div>\n          ),\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n          rightIcon: (\n            <div\n              className={clsx(styles.descriptionContainer, {\n                [styles.rightIcon]: sidePeekEnabled,\n              })}\n            >\n              {showStatusWarning && <InfoWarningSync type={'call'} id={activity?.id} />}\n              <ReportedIconButton\n                isReported={activityIsReported}\n                actionsDisabled={actionsDisabled && !assignedToActiveUser}\n                disableReport={disableButtons}\n                onClick={openContactFlow}\n              />\n              {hasAudioRecording && (\n                <Tooltip title={t('common.recording')} position=\"top\">\n                  <Icon name=\"voicemail\" color=\"bloobirds\" size={12} />\n                </Tooltip>\n              )}\n              {callDuration && (\n                <Text size=\"xxs\" color=\"softPeanut\">\n                  {new Date((callDuration as any) * 1000).toISOString().substring(14, 19)}\n                </Text>\n              )}\n            </div>\n          ),\n          syncName: 'call',\n        };\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n        return {\n          icon: 'linkedin' as IconType,\n          color: 'verySoftBloobirds' as ColorType,\n          iconColor: 'darkBloobirds' as ColorType,\n          subject: activityBody\n            ? t('activityTimelineItem.item.linkedinConversation')\n            : t('activityTimelineItem.item.manuallyLoggedActivity'),\n          description: (\n            <div className={descriptionClass}>\n              {activityLead && <BobjectName activityBobjectName={activityLeadName} />}\n              <div>\n                <span>\n                  {alternativeDescription\n                    ? ''\n                    : activityBody\n                    ? activityBody\n                    : activityNote\n                    ? activityNote\n                    : null}\n                </span>\n              </div>\n            </div>\n          ),\n          date: timeToShow,\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n          rightIcon: (\n            <>{showStatusWarning && <InfoWarningSync type={'message'} id={activity?.id} />}</>\n          ),\n          syncName: 'message',\n        };\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE:\n        return {\n          icon: 'noteAction' as IconType,\n          color: 'banana' as ColorType,\n          iconColor: 'peanut' as ColorType,\n          subject:\n            typeof activityTitle === 'string'\n              ? removeHtmlTags(activityTitle)\n              : activityLeadName\n              ? activityLeadName + ' ' + t('common.note').toLowerCase()\n              : t('common.note'),\n          subtitle: activityNote && !sidePeekEnabled ? removeHtmlTags(activityNote) : null,\n          description: (\n            <div className={descriptionClass}>\n              {activityLead && <BobjectName activityBobjectName={activityLeadName} />}\n              {activityCompany && !activityLead && (\n                <BobjectName\n                  activityBobjectType={BobjectTypes.Company}\n                  activityBobjectName={activityCompanyName}\n                />\n              )}\n              {sidePeekEnabled && activityNote && (\n                <div>\n                  <span>{removeHtmlTags(activityNote)}</span>\n                </div>\n              )}\n            </div>\n          ),\n          date: timeToShow,\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n          rightIcon: <>{showStatusWarning && <InfoWarningSync type=\"note\" id={activity?.id} />}</>,\n          syncName: 'note',\n        };\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND:\n        return {\n          icon: 'download' as IconType,\n          color: 'lightestBanana' as ColorType,\n          iconColor: 'banana' as ColorType,\n          subject: t('activityTimelineItem.item.inboundActivity'),\n          subtitle: activityFormName ? `\"${activityFormName}\"` : '',\n          description: activityLead && <BobjectName activityBobjectName={activityLeadName} />,\n          date: formatDateAsText({\n            text: (parseISO(activityTime) as unknown) as string,\n            patternFormat: 'dd MMM',\n            t,\n          }),\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n          rightIcon: (\n            <>{showStatusWarning && <InfoWarningSync type={'activity'} id={activity?.id} />}</>\n          ),\n          syncName: 'activity',\n        };\n      case 'ACTIVITY__TYPE__CADENCE':\n        return {\n          icon: 'cadence' as IconType,\n          color: 'verySoftPurple' as ColorType,\n          iconColor: 'lightPurple' as ColorType,\n          subject: activityCadenceStatusLR ? activityCadenceStatus : '',\n          description: (\n            <div className={descriptionClass}>\n              {activityLead && <BobjectName activityBobjectName={activityLeadName} />}\n              <div>\n                <span>{activityCadence ? `\"${activityCadence}\"` : ''}</span>\n              </div>\n            </div>\n          ),\n          date: timeToShow,\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n        };\n      case 'ACTIVITY__TYPE__STATUS':\n        return {\n          icon: (isLeadStatusUpdate\n            ? 'person'\n            : isOpportunityStatusUpdate\n            ? 'fileOpportunity'\n            : 'company') as IconType,\n          color: 'lightPeanut' as ColorType,\n          iconColor: 'softPeanut' as ColorType,\n          subject: activityStatusUpdate ? activityStatusUpdate : t('common.statusUpdate'),\n          description: (\n            <div className={descriptionClass}>\n              {(activityLead || opportunity) && (\n                <BobjectName\n                  activityBobjectName={opportunity ? opportunityName : activityLeadName}\n                  activityBobjectType={opportunity ? BobjectTypes.Opportunity : BobjectTypes.Lead}\n                />\n              )}\n              <div>{opportunityStage && <b>{opportunityStage}</b>}</div>\n            </div>\n          ),\n          date: timeToShow,\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n        };\n      case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CUSTOM_TASK:\n        return {\n          icon: <Icon name={customTask?.icon} color={'white'} size={14} />,\n          color: customTask?.iconColor,\n          subject: customTask?.name,\n          description: (\n            <div className={descriptionClass}>\n              {(activityLead || opportunity) && (\n                <BobjectName\n                  activityBobjectName={opportunity ? opportunityName : activityLeadName}\n                  activityBobjectType={opportunity ? BobjectTypes.Opportunity : BobjectTypes.Lead}\n                />\n              )}\n              <div>\n                {activityNote && (\n                  <span>\n                    <b>{t('common.note') + ': '}</b> {activityNote}\n                  </span>\n                )}\n                {activityBody && <span>{activityBody}</span>}\n              </div>\n            </div>\n          ),\n          date: timeToShow,\n          rightIcon: !disableButtons && (\n            <IconButton\n              name=\"edit\"\n              size={16}\n              onClick={() => {\n                openQuickLogModal({\n                  customTask,\n                  leads: [],\n                  selectedBobject: getReferencedBobject(activity),\n                  companyId: activityCompany?.id.value,\n                  onSubmit: () => {\n                    window.dispatchEvent(\n                      new CustomEvent(MessagesEvents.ActiveBobjectUpdated, {\n                        detail: { type: BobjectTypes.Activity },\n                      }),\n                    );\n                  },\n                  isEdition: true,\n                  activity,\n                });\n                mixpanel.track(MIXPANEL_EVENTS.CLICK_ON_EDIT_CUSTOM_ACTIVITY);\n              }}\n            />\n          ),\n          backgroundColor: (extended ? 'lightestBloobirds' : 'lightestBloobirds') as ColorType,\n        };\n    }\n  };\n\n  // @ts-ignore\n  const activityData = activityTypeLogicRole ? activityFields(activityTypeLogicRole) : undefined;\n  const ref = useRef<HTMLDivElement>();\n  const showTooltip =\n    // @ts-ignore\n    ref?.current?.firstChild?.firstChild?.offsetWidth <\n    // @ts-ignore\n    ref?.current?.firstChild?.firstChild?.scrollWidth;\n\n  const handleClick = () => {\n    api\n      .get('/bobjects/' + activity?.id?.value + '/form?injectReferences=true')\n      .then(({ data: filledActivity }) => {\n        onClick(filledActivity);\n      });\n  };\n\n  const timelineItemWrapperClasses = clsx(styles.timeline_item_wrapper, {\n    [styles.timeline_item_wrapper_sidePeek]: sidePeekEnabled,\n  });\n\n  return (\n    <div className={timelineItemWrapperClasses}>\n      <TimelineItem\n        size=\"small\"\n        // @ts-ignore\n        data={activityData}\n        startDisplayDivider={startDisplayDivider}\n        endDisplayDivider={endDisplayDivider}\n        onClick={onClick ? () => handleClick() : undefined}\n        backgroundColor={activityData?.backgroundColor}\n        activeHover={activeHover}\n        isHovering={hovering}\n      >\n        <div className={styles.activityHeader} ref={ref}>\n          {!extended && activityData?.syncName && syncStatus !== undefined && !syncStatus && (\n            <InfoWarningSync\n              type={\n                activityData?.syncName as\n                  | 'email'\n                  | 'meeting'\n                  | 'call'\n                  | 'message'\n                  | 'activity'\n                  | 'note'\n              }\n              id={activity?.id}\n            />\n          )}\n\n          <div className={styles.activityHeaderTitleWrapper}>\n            <Tooltip title={showTooltip && activityData?.subject} position=\"top\" delay={200}>\n              <Text\n                size=\"xs\"\n                weight=\"bold\"\n                className={clsx(styles.activityHeaderTitle, {\n                  [styles.activityHeaderTitleEllipsis]: !activityData?.subtitle,\n                  [styles.activityHeaderTitleSidePeek]: sidePeekEnabled,\n                })}\n              >\n                {activityData?.subject}\n              </Text>\n            </Tooltip>\n          </div>\n          {activityData?.subtitle && (\n            <Text size=\"xs\" className={styles.activityHeaderSubtitle}>\n              {activityData?.subtitle}\n            </Text>\n          )}\n          {extended && activityData?.extraSubtitle}\n        </div>\n      </TimelineItem>\n    </div>\n  );\n};\n","import { useTranslation } from 'react-i18next';\n\nimport { Text } from '@bloobirds-it/flamingo-ui';\nimport { useCadences, useIsB2CAccount } from '@bloobirds-it/hooks';\nimport { serialize } from '@bloobirds-it/rich-text-editor';\nimport {\n  ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  BobjectTypes,\n  GroupedActivityInterface,\n} from '@bloobirds-it/types';\nimport { convertHtmlToString, removeHtmlTags } from '@bloobirds-it/utils';\nimport clsx from 'clsx';\n\nimport {\n  forgeIdFieldsFromIdValue,\n  getBobjectNameProps,\n} from '../../../utils/activityTimeline.utils';\nimport styles from '../activityTimelineItem.module.css';\nimport { BobjectName } from './cardIcons';\nimport { EmailDetailsDropdown } from './emailDetailsDropdown';\n\nexport const DescriptionComponent = ({\n  activity,\n  sidePeekEnabled,\n  alternativeDescription,\n}: {\n  activity: GroupedActivityInterface;\n  sidePeekEnabled: boolean;\n  alternativeDescription: boolean;\n}) => {\n  const isB2CAccount = useIsB2CAccount();\n  const { t } = useTranslation();\n  const { cadences } = useCadences(\n    getBobjectNameProps(activity)?.activityBobjectType,\n    forgeIdFieldsFromIdValue(activity?.bobjectId)?.accountId,\n    undefined,\n    undefined,\n    undefined,\n    true,\n  );\n  const activityTypeLogicRole = activity.activityType;\n  const descriptionClass = clsx(styles.descriptionContainer, {\n    [styles.descriptionContainerSidePeek]: sidePeekEnabled,\n  });\n  const activityLeadName = activity.leadName;\n  const activityNote = activity.note;\n  let activityBody = activity.body;\n  const opportunityName = activity.opportunityName;\n  const opportunityStage = activity.opportunityStage;\n\n  switch (activityTypeLogicRole) {\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL: {\n      if (\n        activityBody?.includes('\"type\":\"p\"') &&\n        typeof activityBody === 'string' &&\n        typeof JSON.parse(activityBody) === 'object'\n      ) {\n        activityBody = serialize(activityBody);\n      }\n      const cleanedBody = convertHtmlToString(activityBody?.replace(/<head>[\\s\\S]*?<\\/head>/g, ''));\n      let activitySubject = activity.subject;\n      if (\n        activitySubject?.includes('\"type\":\"p\"') &&\n        typeof activitySubject === 'string' &&\n        typeof JSON.parse(activitySubject) === 'object'\n      ) {\n        activitySubject = removeHtmlTags(serialize(activitySubject));\n      }\n\n      const activityEmailMetadata = activity.emailMetadata;\n      const activityEmailInfo = activityEmailMetadata ? JSON.parse(activityEmailMetadata) : {};\n      const activityTime = activityEmailInfo?.date;\n      const activityLeadEmail = activity.leadEmail;\n      const activityEmailLeads: Array<string> = [];\n      if (activityEmailMetadata) {\n        if (activityEmailInfo?.to?.length > 0) {\n          activityEmailInfo.to.map((to: { name: string; email: string }) => {\n            if (to.name && to.name !== activityLeadName) activityEmailLeads.push(to.name);\n            else if (to.email && to.email !== activityLeadEmail)\n              activityEmailLeads.push(to.email.split('@')[0]);\n          });\n        }\n        if (activityEmailInfo?.cc?.length > 0) {\n          activityEmailInfo.cc.map((cc: { name: string; email: string }) => {\n            if (cc.name && cc.name !== activityLeadName) activityEmailLeads.push(cc.name);\n            else if (cc.email && cc.email !== activityLeadEmail)\n              activityEmailLeads.push(cc.email.split('@')[0]);\n          });\n        }\n      }\n      return (\n        <div className={descriptionClass}>\n          <BobjectName {...getBobjectNameProps(activity)} ellipsis=\"80%\" />\n          <EmailDetailsDropdown\n            metadata={activityEmailInfo}\n            date={activityTime}\n            subject={activitySubject}\n          />\n          {activityBody && (activityEmailLeads.length === 0 || sidePeekEnabled) && (\n            <div>\n              <span>{activityBody ? cleanedBody : null}</span>\n            </div>\n          )}\n        </div>\n      );\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING: {\n      const meetingResult = activity.meetingResult;\n      return (\n        <div className={descriptionClass}>\n          {activityLeadName ? <BobjectName activityBobjectName={activityLeadName} /> : <div></div>}\n          <div>\n            {meetingResult && <b>{meetingResult}</b>}\n            {activityNote && (\n              <span>\n                <b>{t('common.note')}: </b> {convertHtmlToString(activityNote)}\n              </span>\n            )}\n          </div>\n        </div>\n      );\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL: {\n      const activityCompanyName = activity.companyName;\n      const callResult = activity.callResult;\n\n      return alternativeDescription ? (\n        <Text size=\"xxs\" color=\"softPeanut\">\n          {t('common.callWith') +\n            ' ' +\n            activityLeadName +\n            ' ' +\n            (activityCompanyName ? t('common.from') + ' ' + activityCompanyName : '')}\n        </Text>\n      ) : (\n        <div className={descriptionClass}>\n          {activityLeadName && <BobjectName activityBobjectName={activityLeadName} />}\n          {callResult && <b>{callResult}</b>}\n          {activityNote && !!convertHtmlToString(activityNote) && (\n            <span>\n              <b>{t('common.note')}:</b>\n              {convertHtmlToString(activityNote)}\n            </span>\n          )}\n          {!callResult && !activityNote && <div></div>}\n        </div>\n      );\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n      return (\n        <div className={descriptionClass}>\n          {activityLeadName && <BobjectName activityBobjectName={activityLeadName} />}\n          <div>\n            <span>\n              {alternativeDescription\n                ? ''\n                : activityBody\n                ? activityBody === 'undefined'\n                  ? t('linkedInDetail.messageNotAvailable')\n                  : activityBody\n                : activityNote\n                ? activityNote\n                : null}\n            </span>\n          </div>\n        </div>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE: {\n      const activityCompanyName = activity.companyName;\n      return (\n        <div className={descriptionClass}>\n          {activityLeadName && <BobjectName activityBobjectName={activityLeadName} />}\n          {!isB2CAccount && activityCompanyName && !activityLeadName && (\n            <BobjectName\n              activityBobjectType={BobjectTypes.Company}\n              activityBobjectName={activityCompanyName}\n            />\n          )}\n          {sidePeekEnabled && activityNote && (\n            <div>\n              <span>{removeHtmlTags(activityNote)}</span>\n            </div>\n          )}\n        </div>\n      );\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND: {\n      return activityLeadName && <BobjectName activityBobjectName={activityLeadName} />;\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CADENCE: {\n      const activityCadence = activity.cadence;\n      const activityCadenceName = cadences?.find(cadence => cadence.id === activityCadence)?.name;\n      return (\n        <div className={descriptionClass}>\n          {activityLeadName && <BobjectName activityBobjectName={activityLeadName} />}\n          <div>\n            <span>{activityCadenceName ? `\"${activityCadenceName}\"` : ''}</span>\n          </div>\n        </div>\n      );\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.STATUS: {\n      return (\n        <div className={descriptionClass}>\n          {(activityLeadName || opportunityName) && (\n            <BobjectName\n              activityBobjectName={opportunityName ? opportunityName : activityLeadName}\n              activityBobjectType={opportunityName ? BobjectTypes.Opportunity : BobjectTypes.Lead}\n            />\n          )}\n          <div>{opportunityStage && <b>{opportunityStage}</b>}</div>\n        </div>\n      );\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CUSTOM_TASK:\n      return (\n        <div className={descriptionClass}>\n          {(activityLeadName || opportunityName) && (\n            <BobjectName\n              activityBobjectName={opportunityName ? opportunityName : activityLeadName}\n              activityBobjectType={opportunityName ? BobjectTypes.Opportunity : BobjectTypes.Lead}\n            />\n          )}\n          <div>\n            {activityNote && (\n              <span>\n                <b>{t('common.note') + ': '}</b> {activityNote}\n              </span>\n            )}\n            {activityBody && <span>{activityBody}</span>}\n          </div>\n        </div>\n      );\n    default:\n      return <></>;\n  }\n};\n","import { Icon } from '@bloobirds-it/flamingo-ui';\nimport { IconProps } from '@bloobirds-it/flamingo-ui/dist/components/Icon/Icon';\nimport {\n  ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  DIRECTION_VALUES_LOGIC_ROLE,\n  GroupedActivityInterface,\n} from '@bloobirds-it/types';\n\nimport styles from '../activityTimelineItem.module.css';\n\nfunction getIconProps(activity): IconProps {\n  const isOutgoing = activity.direction === DIRECTION_VALUES_LOGIC_ROLE.OUTGOING;\n  switch (activity.activityType) {\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL:\n      return {\n        name: isOutgoing ? 'emailOutgoingAlter' : 'emailIncomingAlter',\n        color: isOutgoing ? 'tangerine' : 'lightestTangerine',\n        size: 20,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING:\n      return {\n        name: 'calendar',\n        color: 'extraMeeting',\n        size: 20,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL:\n      return {\n        name: isOutgoing ? 'callOutgoing' : 'callIncoming',\n        color:\n          activity.direction === DIRECTION_VALUES_LOGIC_ROLE.MISSED ? 'extraMeeting' : 'extraCall',\n        size: 16,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n      return {\n        name: 'linkedin',\n        color: 'darkBloobirds',\n        size: 20,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE:\n      return {\n        name: 'noteAction',\n        color: 'peanut',\n        size: 20,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND:\n      return {\n        name: 'download',\n        color: 'banana',\n        size: 20,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CADENCE:\n      return {\n        name: 'cadence',\n        color: 'lightPurple',\n        size: 20,\n      };\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.STATUS: {\n      const activityStatusUpdate = activity.statusTitle;\n      const isLeadStatusUpdate = activityStatusUpdate?.toLowerCase().includes('lead');\n      const isOpportunityStatusUpdate = activityStatusUpdate?.toLowerCase().includes('opportunity');\n      return {\n        name: isLeadStatusUpdate\n          ? 'person'\n          : isOpportunityStatusUpdate\n          ? 'fileOpportunity'\n          : 'company',\n        color: 'softPeanut',\n        size: 20,\n      };\n    }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CUSTOM_TASK:\n      //TODO meh\n      return activity.iconProps;\n  }\n}\nexport const IconComponent = ({ sidePeekEnabled, activity }) => {\n  const iconProps = getIconProps(activity);\n  return (\n    <div className={sidePeekEnabled && styles.emailIcon}>\n      <Icon {...iconProps} />\n    </div>\n  );\n};\n","import { Fragment, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { AssigneeComponent } from '@bloobirds-it/bobjects';\nimport { IconButton, Text, Tooltip, Dropdown, Icon } from '@bloobirds-it/flamingo-ui';\nimport {\n  QuickLogModalData,\n  useActiveUserSettings,\n  useAiAnalysisEnabled,\n} from '@bloobirds-it/hooks';\nimport { InfoWarningSync } from '@bloobirds-it/misc';\nimport {\n  ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  BobjectTypes,\n  CustomTask,\n  GroupedActivityInterface,\n  MIXPANEL_EVENTS,\n  MessagesEvents,\n  CUSTOM_TASK_LOGIC_ROLE,\n} from '@bloobirds-it/types';\nimport {\n  injectReferencesGetProcess,\n  api,\n  forgeIdFieldsFromIdValue,\n  getReferencedBobject,\n  baseUrls,\n} from '@bloobirds-it/utils';\nimport clsx from 'clsx';\nimport mixpanel from 'mixpanel-browser';\n\nimport styles from '../activityTimelineItem.module.css';\nimport { AttachmentsDropdown, NewEmailIcons, ReportedIconButton } from './cardIcons';\n\nexport const RightIconComponent = ({\n  activity,\n  sidePeekEnabled,\n  userId,\n  disableButtons,\n  actionsDisabled,\n  openContactFlow,\n  openMeetingResult,\n  openQuickLogModal,\n  customTasks,\n  syncStatus,\n  extended,\n}: {\n  activity: GroupedActivityInterface;\n  sidePeekEnabled: boolean;\n  userId: string;\n  actionsDisabled?: boolean;\n  disableButtons: boolean;\n  openContactFlow?: () => void;\n  openMeetingResult?: () => void;\n  openQuickLogModal?: (data?: QuickLogModalData) => void;\n  customTasks?: CustomTask[];\n  syncStatus?: boolean;\n  extended?: boolean;\n}) => {\n  const { t } = useTranslation();\n  const [dropdownVisible, setDropdownVisible] = useState(false);\n\n  const { settings } = useActiveUserSettings();\n\n  const activityCompany = activity.companyId;\n  const activityIsReported = activity.reported === 'Yes';\n  const activityAttachedFiles = activity.attachedFiles;\n\n  const forgedIdFields = forgeIdFieldsFromIdValue(activity.bobjectId);\n\n  const parsedAttachedFiles = activityAttachedFiles && JSON.parse(activityAttachedFiles);\n  const parsedAttachments = activity.attachments && JSON.parse(activity.attachments);\n  const hasAttachedFiles =\n    activityAttachedFiles && parsedAttachedFiles?.filter((att: string) => !!att)?.length !== 0;\n  const isBouncedEmail = activity.bouncedEmail;\n  const leadAssignee = activity.leadAssignedTo;\n  const oppAssignee = activity.opportunityAssignedTo;\n\n  const callDuration = activity.callDuration;\n  const hasAudioRecording = activity.callRecording;\n\n  const assignedToActiveUser = leadAssignee === userId || oppAssignee === userId;\n\n  const showStatusWarning = extended && syncStatus !== undefined && !syncStatus;\n\n  const customTask =\n    activity.customTaskId && customTasks?.find(ct => ct.id === activity.customTaskId);\n\n  const emailClasses = clsx(styles.rightIcons, {\n    [styles.emailIconSize]: sidePeekEnabled,\n  });\n\n  const meetingClasses = clsx(styles.rightIcons, {\n    [styles.rightIcon]: sidePeekEnabled,\n  });\n\n  const callClasses = clsx(styles.descriptionContainer, {\n    [styles.rightIcon]: sidePeekEnabled,\n  });\n\n  const activityTypeLogicRole = activity.activityType;\n\n  const activityUser = activity?.activityUser;\n  const assigneeComponent = activityUser ? (\n    <AssigneeComponent value={activity?.activityUser} size={sidePeekEnabled ? 's' : 'xs'} />\n  ) : (\n    <></>\n  );\n\n  const isWhatsAppBusiness = activity?.customTaskName === CUSTOM_TASK_LOGIC_ROLE.WHATSAPP_BUSINESS;\n  const handleClickOnCase = caseId => {\n    window.open(settings?.account?.salesforceInstance + '/' + caseId, '_blank');\n  };\n\n  const linkedCases =\n    activity?.casesLinked && activity?.casesLinked?.length >= 1 ? (\n      <span\n        onClick={event => {\n          event.preventDefault();\n          event.stopPropagation();\n          if (activity?.casesLinked?.length > 1) {\n            setDropdownVisible(!dropdownVisible);\n          } else {\n            handleClickOnCase(activity?.casesLinked?.[0].Id);\n          }\n        }}\n        className={styles.caseIcon}\n      >\n        <Icon name={'briefcase'} size={16} />\n        <Text size=\"xs\" color=\"bloobirds\" ellipsis={40}>\n          {activity?.casesLinked?.length == 1\n            ? 'Nº ' + activity?.casesLinked?.[0].CaseNumber\n            : activity?.casesLinked?.length + ' Cases'}\n        </Text>\n        {activity?.casesLinked?.length > 1 && (\n          <Dropdown visible={dropdownVisible} anchor={<></>}>\n            {activity?.casesLinked?.map((caseItem, index) => (\n              <div\n                key={index}\n                className={styles.caseItem}\n                onClick={event => {\n                  event.stopPropagation();\n                  event.preventDefault();\n                  handleClickOnCase(caseItem.Id);\n                }}\n              >\n                <Icon name={'briefcase'} size={16} />\n                <Text size=\"xs\" color=\"bloobirds\">\n                  {'Nº ' + caseItem.CaseNumber}\n                </Text>\n              </div>\n            ))}\n          </Dropdown>\n        )}\n      </span>\n    ) : (\n      ''\n    );\n\n  const aiAnalysisEnabled = useAiAnalysisEnabled(settings?.account?.id);\n  const canShowAnalysis = aiAnalysisEnabled && activity?.hasCopilot;\n\n  const openAIInNewTab = (e, activityType) => {\n    e.stopPropagation();\n\n    const activityId = forgedIdFields?.objectId;\n    const url = `/app/ai-analysis/${activityType}/${activityId}`;\n    window.open(baseUrls[process.env.NODE_ENV] + url, '_blank');\n  };\n\n  switch (activityTypeLogicRole) {\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CADENCE:\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.STATUS:\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CHANGED_FROM:\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CHANGED_TO:\n      if (activity) {\n        return assigneeComponent;\n      } else {\n        return <></>;\n      }\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.EMAIL:\n      return (\n        <div key=\"email-rightIcon\" className={emailClasses}>\n          {showStatusWarning && <InfoWarningSync type={'email'} id={forgedIdFields} />}\n          {isBouncedEmail && (\n            <Tooltip title={t('activityTimelineItem.item.bounced')} position=\"top\">\n              <Icon\n                className={styles.bouncedEmail}\n                name=\"statusCircle\"\n                size={6}\n                color=\"extraMeeting\"\n              />\n            </Tooltip>\n          )}\n          {hasAttachedFiles && (\n            <AttachmentsDropdown\n              attachedFiles={parsedAttachedFiles}\n              betterAttachments={parsedAttachments}\n            />\n          )}\n          <NewEmailIcons activity={activity} />\n          {assigneeComponent}\n        </div>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.MEETING:\n      return (\n        <div key=\"meeting-rightIcon\" className={meetingClasses}>\n          {showStatusWarning && <InfoWarningSync type={'meeting'} id={forgedIdFields} />}\n          {canShowAnalysis && (\n            <Tooltip title={t('common.openInNewTab')} position=\"top\">\n              <IconButton\n                className={styles.aiAnalysisIcon}\n                name=\"magic\"\n                size={14}\n                color=\"purple\"\n                onClick={e => openAIInNewTab(e, 'meeting')}\n              />\n            </Tooltip>\n          )}\n          <ReportedIconButton\n            isReported={activityIsReported}\n            actionsDisabled={actionsDisabled && !assignedToActiveUser}\n            disableReport={disableButtons}\n            onClick={openMeetingResult}\n          />\n          {assigneeComponent}\n        </div>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CALL:\n      return (\n        <div key=\"call-rightIcon\" className={callClasses}>\n          {showStatusWarning && <InfoWarningSync type={'call'} id={forgedIdFields} />}\n          {canShowAnalysis && (\n            <Tooltip title={t('common.openInNewTab')} position=\"top\">\n              <IconButton\n                className={styles.aiAnalysisIcon}\n                name=\"magic\"\n                size={14}\n                color=\"purple\"\n                onClick={e => openAIInNewTab(e, 'call')}\n              />\n            </Tooltip>\n          )}\n          <ReportedIconButton\n            isReported={activityIsReported}\n            actionsDisabled={actionsDisabled && !assignedToActiveUser}\n            disableReport={disableButtons}\n            onClick={openContactFlow}\n          />\n          {hasAudioRecording && (\n            <Tooltip title={t('common.recording')} position=\"top\">\n              <Icon name=\"voicemail\" color=\"bloobirds\" size={12} />\n            </Tooltip>\n          )}\n          {!!callDuration && (\n            <Text size=\"xxs\" color=\"softPeanut\">\n              {new Date(callDuration * 1000).toISOString().substring(14, 19)}\n            </Text>\n          )}\n          {assigneeComponent}\n        </div>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.LINKEDIN:\n      return (\n        <Fragment key=\"linkedIn-rightIcon\">\n          {showStatusWarning && <InfoWarningSync type={'message'} id={forgedIdFields} />}\n          {assigneeComponent}\n        </Fragment>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE:\n      return (\n        <Fragment key=\"note-rightIcon\">\n          {showStatusWarning && <InfoWarningSync type={'note'} id={forgedIdFields} />}\n          {assigneeComponent}\n        </Fragment>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND:\n      return (\n        <Fragment key=\"inbound-rightIcon\">\n          {showStatusWarning && <InfoWarningSync type={'activity'} id={forgedIdFields} />}\n          {assigneeComponent}\n        </Fragment>\n      );\n    case ACTIVITY_TYPES_VALUES_LOGIC_ROLE.CUSTOM_TASK:\n      return (\n        <div key=\"customTask-rightIcon\" className={styles.rightIcons}>\n          {!disableButtons && (\n            <IconButton\n              name=\"edit\"\n              size={16}\n              onClick={e => {\n                e.stopPropagation();\n                api\n                  .get(`/bobjects/${activity?.bobjectId}/form?injectReferences=true`)\n                  .then(data => {\n                    const bobjectActivity = injectReferencesGetProcess(data?.data);\n                    openQuickLogModal({\n                      customTask,\n                      leads: [],\n                      selectedBobject: getReferencedBobject(bobjectActivity),\n                      companyId: activityCompany,\n                      onSubmit: () => {\n                        window.dispatchEvent(\n                          new CustomEvent(MessagesEvents.ActiveBobjectUpdated, {\n                            detail: { type: BobjectTypes.Activity },\n                          }),\n                        );\n                      },\n                      isEdition: true,\n                      activity: bobjectActivity,\n                    });\n                    mixpanel.track(MIXPANEL_EVENTS.CLICK_ON_EDIT_CUSTOM_ACTIVITY);\n                  });\n              }}\n            />\n          )}\n          {isWhatsAppBusiness && linkedCases}\n          {assigneeComponent}\n        </div>\n      );\n    default:\n      return <></>;\n  }\n};\n","import { Text } from '@bloobirds-it/flamingo-ui';\nimport { ACTIVITY_TYPES_VALUES_LOGIC_ROLE, GroupedActivityInterface } from '@bloobirds-it/types';\nimport { removeHtmlTags } from '@bloobirds-it/utils';\n\nimport styles from '../activityTimelineItem.module.css';\nimport { MeetingDurationInfo } from './cardIcons';\n\nconst getSubtitle = (activity: GroupedActivityInterface, sidePeekEnabled) => {\n  if (activity.activityType === ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE) {\n    const activityNote = activity.note;\n    return activityNote && !sidePeekEnabled ? removeHtmlTags(activityNote) : null;\n  }\n  if (activity.activityType === ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND) {\n    return activity.inboundFormName ? activity.inboundFormName : '';\n  }\n};\n\nexport const SubtitleComponent: {\n  (props: {\n    activity: GroupedActivityInterface;\n    sidePeekEnabled: boolean;\n    alternativeDescription: boolean;\n  });\n} = ({\n  activity,\n  sidePeekEnabled,\n  alternativeDescription,\n}: {\n  activity: GroupedActivityInterface;\n  sidePeekEnabled: boolean;\n  alternativeDescription?: boolean;\n}) => {\n  const subtitle = getSubtitle(activity, sidePeekEnabled);\n  const meetingDuration = activity.meetingDuration;\n\n  return (\n    <>\n      {subtitle && (\n        <Text size=\"xs\" className={styles.activityHeaderSubtitle}>\n          {subtitle}\n        </Text>\n      )}\n      {!!meetingDuration && !alternativeDescription && (\n        <div className={styles.meetingDuration}>\n          <MeetingDurationInfo meetingDuration={meetingDuration} />\n        </div>\n      )}\n    </>\n  );\n};\n","import { useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Text, TimelineItem, Tooltip } from '@bloobirds-it/flamingo-ui';\nimport { QuickLogModalData } from '@bloobirds-it/hooks';\nimport { InfoWarningSync } from '@bloobirds-it/misc';\nimport {\n  ACTIVITY_TYPES_VALUES_LOGIC_ROLE,\n  CustomTask,\n  GroupedActivityInterface,\n} from '@bloobirds-it/types';\nimport clsx from 'clsx';\n\nimport {\n  forgeIdFieldsFromIdValue,\n  getActivitySubject,\n  getActivityTypeColor,\n  getSyncName,\n  getTimeToShow,\n} from '../../utils/activityTimeline.utils';\nimport styles from './activityTimelineItem.module.css';\nimport { DescriptionComponent } from './components/descriptionComponent';\nimport { IconComponent } from './components/iconComponent';\nimport { RightIconComponent } from './components/rightIconComponent';\nimport { SubtitleComponent } from './components/subtitleComponent';\n\nexport const NewActivityTimelineItem = ({\n  activity,\n  onClick,\n  startDisplayDivider,\n  endDisplayDivider,\n  activeHover = true,\n  extended,\n  alternativeDescription = false,\n  userId,\n  actionsDisabled,\n  sidePeekEnabled,\n  disableButtons,\n  hovering,\n  openContactFlow,\n  openMeetingResult,\n  openQuickLogModal,\n  customTasks,\n  syncStatus,\n}: {\n  activity: GroupedActivityInterface;\n  onClick?: (act: GroupedActivityInterface, redirect?: boolean) => void;\n  startDisplayDivider: boolean;\n  endDisplayDivider: boolean;\n  changeBackground?: boolean;\n  activeHover?: boolean;\n  extended?: boolean;\n  alternativeDescription?: boolean;\n  userId?: string;\n  actionsDisabled?: boolean;\n  sidePeekEnabled?: boolean;\n  disableButtons?: boolean;\n  hovering?: boolean;\n  openContactFlow?: () => void;\n  openMeetingResult?: () => void;\n  openQuickLogModal?: (data?: Pick<QuickLogModalData, 'companyId' | 'leads'>) => void;\n  customTasks?: CustomTask[];\n  syncStatus?: boolean;\n}) => {\n  const trans = useTranslation();\n  const { t } = trans;\n  if (!activity) {\n    return null;\n  }\n\n  const forgedIdFields = forgeIdFieldsFromIdValue(activity.bobjectId);\n\n  const activityType = activity.activityType;\n  const activityDirection = activity.direction;\n  //TODO check this\n  const activityTime = (activity.activityTime as unknown) as Date;\n\n  if (!activityType) {\n    return null;\n  }\n\n  // @ts-ignore\n  const ref = useRef<HTMLDivElement>();\n  const showTooltip =\n    // @ts-ignore\n    ref?.current?.firstChild?.firstChild?.offsetWidth <\n    // @ts-ignore\n    ref?.current?.firstChild?.firstChild?.scrollWidth;\n\n  const timelineItemWrapperClasses = clsx(styles.timeline_item_wrapper, {\n    [styles.timeline_item_wrapper_sidePeek]: sidePeekEnabled,\n  });\n\n  const customTask =\n    activity.customTaskId && customTasks?.find(ct => ct.id === activity.customTaskId);\n\n  const activitySubject = getActivitySubject(activity, t, customTask?.name);\n\n  const activityDataProps = useMemo(() => {\n    return {\n      date: getTimeToShow(activityTime, trans),\n      description: (\n        <DescriptionComponent\n          activity={activity}\n          sidePeekEnabled={sidePeekEnabled}\n          alternativeDescription={alternativeDescription}\n        />\n      ),\n      color: getActivityTypeColor(activity.activityType, activityDirection, customTask?.iconColor),\n      icon: (\n        <IconComponent\n          activity={{\n            ...activity,\n            ...(customTask\n              ? { iconProps: { name: customTask.icon, color: 'white', size: 14 } }\n              : {}),\n          }}\n          sidePeekEnabled={sidePeekEnabled}\n        />\n      ),\n      rightIcon: (\n        <RightIconComponent\n          {...{\n            activity,\n            sidePeekEnabled,\n            userId,\n            disableButtons,\n            actionsDisabled,\n            openContactFlow,\n            openMeetingResult,\n            openQuickLogModal,\n            customTasks,\n            syncStatus,\n            extended,\n          }}\n        />\n      ),\n    };\n  }, [activityType]);\n\n  const syncName = getSyncName(activity.activityType);\n  const hasSubtitle =\n    (activity.activityType === ACTIVITY_TYPES_VALUES_LOGIC_ROLE.NOTE && activity.note) ||\n    (ACTIVITY_TYPES_VALUES_LOGIC_ROLE.INBOUND && activity.inboundFormName);\n\n  return (\n    <div className={timelineItemWrapperClasses}>\n      <TimelineItem\n        size=\"small\"\n        //@ts-ignore we should update the description typing in flamingo\n        data={activityDataProps}\n        startDisplayDivider={startDisplayDivider}\n        endDisplayDivider={endDisplayDivider}\n        onClick={onClick ? () => onClick(activity) : undefined}\n        backgroundColor=\"lightestBloobirds\"\n        activeHover={activeHover}\n        isHovering={hovering}\n      >\n        <div className={styles.activityHeader} ref={ref}>\n          {!extended && syncName && syncStatus !== undefined && !syncStatus && (\n            <InfoWarningSync type={syncName} id={forgedIdFields} />\n          )}\n\n          <div className={styles.activityHeaderTitleWrapper}>\n            <Tooltip title={showTooltip && activitySubject} position=\"top\" delay={200}>\n              <Text\n                size=\"xs\"\n                weight=\"bold\"\n                className={clsx(styles.activityHeaderTitle, {\n                  [styles.activityHeaderTitleEllipsis]: !hasSubtitle,\n                  [styles.activityHeaderTitleSidePeek]: sidePeekEnabled,\n                })}\n              >\n                {activitySubject}\n              </Text>\n            </Tooltip>\n          </div>\n          {hasSubtitle && (\n            <SubtitleComponent\n              activity={activity}\n              sidePeekEnabled={sidePeekEnabled}\n              alternativeDescription={alternativeDescription}\n            />\n          )}\n        </div>\n      </TimelineItem>\n    </div>\n  );\n};\n","import React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport { Button, Checkbox, Text, TimelineItem } from '@bloobirds-it/flamingo-ui';\nimport { useUserHelpers } from '@bloobirds-it/hooks';\nimport { ExtensionHelperKeys, MIXPANEL_EVENTS } from '@bloobirds-it/types';\nimport clsx from 'clsx';\nimport mixpanel from 'mixpanel-browser';\n\nimport styles from './activityTooltipBlock.module.css';\n\nconst LearnMoreButton = ({ url, mixpanelEvent }: { url: string; mixpanelEvent: string }) => {\n  const { t } = useTranslation('translation', { keyPrefix: 'common' });\n  return (\n    <Button\n      size=\"small\"\n      color=\"lightestPurple\"\n      variant=\"primary\"\n      iconLeft=\"book\"\n      uppercase={false}\n      className={styles.learnMoreButton}\n      onClick={() => {\n        window.open(url, '_blank');\n        mixpanel.track(mixpanelEvent);\n      }}\n    >\n      {t('learnMore')}\n    </Button>\n  );\n};\n\nconst tooltipBlocks = t => [\n  {\n    id: 'EMAIL',\n    title: t('emailTracking.title'),\n    description: (\n      <Text size=\"xxs\" color=\"purple\">\n        <Trans i18nKey=\"activityTimelineItem.activityTooltip.emailTracking.description\" />\n      </Text>\n    ),\n    rightButton: (\n      <LearnMoreButton\n        url=\"https://support.bloobirds.com/hc/en-us/articles/360016268860-Email-tracking\"\n        mixpanelEvent={MIXPANEL_EVENTS.ACTIVITY_EMAIL_TOOLTIP_BUTTON_CLICKED}\n      />\n    ),\n  },\n  {\n    id: 'LINKEDIN',\n    title: t('linkedinTracking.title'),\n    description: (\n      <Text size=\"xxs\" color=\"purple\">\n        <Trans i18nKey=\"activityTimelineItem.activityTooltip.linkedinTracking.description\" />\n      </Text>\n    ),\n    rightButton: (\n      <LearnMoreButton\n        url=\"https://support.bloobirds.com/hc/en-us/articles/360011435079-How-are-LinkedIn-messages-synchronised\"\n        mixpanelEvent={MIXPANEL_EVENTS.ACTIVITY_LINKEDIN_TOOLTIP_BUTTON_CLICKED}\n      />\n    ),\n  },\n];\n\nexport const ActivityTooltipBlock = ({\n  sidePeekEnabled = false,\n}: {\n  sidePeekEnabled?: boolean;\n}) => {\n  const { save, has } = useUserHelpers();\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'activityTimelineItem.activityTooltip',\n  });\n\n  const banishTooltip = () => {\n    mixpanel.track(MIXPANEL_EVENTS.ACTIVITY_TOOLTIP_BLOCK_MARKED_AS_HIDDEN);\n    save(ExtensionHelperKeys.ACTIVITY_TIMELINE_TOOLTIP_BLOCK);\n  };\n\n  return !has(ExtensionHelperKeys.ACTIVITY_TIMELINE_TOOLTIP_BLOCK) ? (\n    <div\n      className={clsx(styles.timeline_item_wrapper, {\n        [styles.sidePeek_timeline_item_wrapper]: sidePeekEnabled,\n      })}\n    >\n      {tooltipBlocks(t).map((tooltipBlock, index) => (\n        <TimelineItem\n          key={index + tooltipBlock.id}\n          size=\"small\"\n          // @ts-ignore\n          data={{\n            icon: 'suggestions',\n            color: 'verySoftPurple',\n            iconColor: 'lightPurple',\n            //@ts-ignore\n            description: <div>{tooltipBlock.description}</div>,\n          }}\n          startDisplayDivider\n          endDisplayDivider={tooltipBlock.id !== 'LINKEDIN'}\n          backgroundColor=\"purple\"\n          activeHover={false}\n        >\n          <div className={styles.activityHeader}>\n            <div className={styles.activityHeaderTitleWrapper}>\n              <Text\n                size=\"xs\"\n                weight=\"bold\"\n                color=\"purple\"\n                className={clsx(styles.activityHeaderTitle)}\n              >\n                {tooltipBlock.title}\n              </Text>\n            </div>\n            {tooltipBlock.rightButton}\n          </div>\n        </TimelineItem>\n      ))}\n      <div\n        className={styles.footer}\n        onClick={e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n      >\n        <Checkbox\n          onClick={value => {\n            if (value) banishTooltip();\n          }}\n          size=\"small\"\n          color=\"purple\"\n        />\n        <Text size=\"xxs\">{t('doNotShowThisAgain')}</Text>\n      </div>\n    </div>\n  ) : (\n    <></>\n  );\n};\n"],"names":["getCadenceActivityText","cadenceValueLR","t","CADENCE_TYPES_VALUES_LOGIC_ROLE","STARTED","CONFIGURE","RESCHEDULE","STOPPED","ENDED","getSyncName","activityType","ACTIVITY_TYPES_VALUES_LOGIC_ROLE","EMAIL","MEETING","CALL","LINKEDIN","NOTE","INBOUND","getActivityTypeColor","activityTypeLogicRole","activityDirection","customTaskIconColor","isOutgoing","DIRECTION_VALUES_LOGIC_ROLE","OUTGOING","MISSED","CADENCE","CHANGED_FROM","CUSTOM_TASK","STATUS","getActivitySubject","activity","customTaskName","_activitySubject","_activity$direction","activitySubject","subject","includes","_typeof","JSON","parse","removeHtmlTags","serialize","meetingTitle","ACTIVITY_DIRECTION","direction","split","at","body","activityTitle","activityLeadName","leadName","toLowerCase","activityCadenceStatus","cadenceType","activityStatusUpdate","statusTitle","getBobjectNameProps","opportunityName","activityCompanyName","companyName","activityEmailMetadata","emailMetadata","activityEmailInfo","activityLeadEmail","leadEmail","activityEmailLeads","_activityEmailInfo$to","_activityEmailInfo$cc","to","length","map","name","push","email","cc","activityBobjectName","activityBobjectType","BobjectTypes","Lead","join","Opportunity","Company","getTimeToShow","activityTime","trans","i18n","isDifferentYear","isDifferentYearThanCurrent","isThisDay","isToday","getUserTimeZone","getI18nSpacetimeLng","language","Date","format","forgeIdFieldsFromIdValue","idValue","_idValue$split","_idValue$split2","_slicedToArray","accountId","typeName","objectId","value","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","AttachmentsDropdown","React","forwardRef","_ref","attachedFiles","betterAttachments","anchorRef","useRef","_useVisible","useVisible","visible","setVisible","_useTranslation","useTranslation","toggleVisible","event","stopPropagation","preventDefault","hasBetterAttachments","_jsx","Dropdown","anchor","Tooltip","title","position","children","IconButton","size","color","onClick","className","styles","attachmentClip","width","attachmentDropdown","file","LightAttachmentItem","url","id","attachment","MeetingDurationInfo","_ref2","meetingDuration","_jsxs","meetingDurationInfo","Icon","Text","toHoursAndMinutes","BobjectName","_ref3","_ref3$activityBobject","_ref3$ellipsis","ellipsis","undefined","maxWidth","_Fragment","EmailIcons","_ref4","_useTranslation2","openedTimes","getTextFromLogicRole","ACTIVITY_FIELDS_LOGIC_ROLE","EMAIL_TIMES_OPENED","clickedTimes","EMAIL_TIMES_CLICKED","replyTimes","EMAIL_TIMES_REPLIED","hasBeenOpened","hasBeenClicked","hasBeenReplied","NewEmailIcons","_ref5","_useTranslation3","emailTimesOpen","emailTimesClick","emailTimesReply","ReportedIconButton","_ref6","isReported","actionsDisabled","disableReport","_useTranslation4","keyPrefix","rightIconsContainer","CardButton","variant","EmailDetailsDropdown","props","metadata","date","formattedDate","formatDateAsText","text","patternFormat","e","arrow","column","Row","label","concat","values","from","bcc","row","ActivityTimelineItem","startDisplayDivider","endDisplayDivider","_ref$activeHover","activeHover","extended","_ref$alternativeDescr","alternativeDescription","dataModel","userId","sidePeekEnabled","disableButtons","hovering","openContactFlow","openMeetingResult","openQuickLogModal","customTasks","syncStatus","raw","activityTypeField","findFieldByLogicRole","TYPE","contents","ActivityTimelineItemWrapped","_dataModel$findValueB","_dataModel$findValueB2","_parsedAttachedFiles$","_getFieldByLogicRole","_getFieldByLogicRole2","_activity$id","_cadences$find","_getFieldByLogicRole3","_getFieldByLogicRole4","_getFieldByLogicRole5","_ref$current","_ref$current$firstChi","_ref$current$firstChi2","_ref$current2","_ref$current2$firstCh","_ref$current2$firstCh2","_ref2$activeHover","_ref2$alternativeDesc","activitySubjectFields","MESSAGE_SUBJECT","activityFromNameFields","INBOUND_FORM_NAME","activityBodyFields","MESSAGE_BODY","activityDirectionFields","DIRECTION","activityNoteField","activityTimeField","TIME","activityTitleField","TITLE","activityBody","activityNote","activityFormName","timeToShow","findValueById","logicRole","activityDirectionValue","activityLead","getReferencedBobjectFromLogicRole","LEAD","LEAD_FIELDS_LOGIC_ROLE","FULL_NAME","activityCompany","COMPANY","COMPANY_FIELDS_LOGIC_ROLE","NAME","activityIsReported","REPORTED","activityAttachedFiles","ATTACHED_FILES","parsedAttachedFiles","activityAttachments","ATTACHMENTS","parsedAttachments","hasAttachedFiles","filter","att","isBouncedEmail","getFieldByLogicRole","IS_BOUNCED_EMAIL","valueLogicRole","BOUNCED_EMAIL_VALUES_LOGIC_ROLE","YES","getValueFromLogicRole","EMAIL_METADATA","MEETING_DURATION","meetingResult","MEETING_RESULT","callDuration","CALL_DURATION","hasAudioRecording","CALL_RECORD_URL","callResult","CALL_RESULT","CADENCE_ACTIVITY_TEXT","_defineProperty","referenceBobjectType","getRelatedBobjectTypeName","cadenceId","_useCadences","useCadences","cadences","activityCadence","find","cadence","activityCadenceStatusLR","CADENCE_TYPE","STATUS_TITLE","activityStatus","isLeadStatusUpdate","isOpportunityStatusUpdate","opportunityField","OPPORTUNITY","opportunity","referencedBobject","OPPORTUNITY_FIELDS_LOGIC_ROLE","opportunityStage","leadAssignee","ASSIGNED_TO","assignedTo","oppAssignee","assignedToActiveUser","descriptionClass","clsx","descriptionContainer","descriptionContainerSidePeek","rightIconEmailClass","rightIcons","emailIconSize","rightIconMeetingClass","rightIcon","customTask","ct","activityFields","_activityBody","_activityBody2","showStatusWarning","icon","emailIcon","description","_objectSpread","convertHtmlToString","replace","backgroundColor","InfoWarningSync","bouncedEmail","syncName","iconColor","extraSubtitle","callIcon","toISOString","substring","subtitle","parseISO","leads","selectedBobject","getReferencedBobject","companyId","onSubmit","window","dispatchEvent","CustomEvent","MessagesEvents","ActiveBobjectUpdated","detail","Activity","isEdition","mixpanel","track","MIXPANEL_EVENTS","CLICK_ON_EDIT_CUSTOM_ACTIVITY","activityData","showTooltip","current","offsetWidth","scrollWidth","handleClick","_activity$id2","api","get","then","filledActivity","data","timelineItemWrapperClasses","timeline_item_wrapper","timeline_item_wrapper_sidePeek","TimelineItem","isHovering","activityHeader","activityHeaderTitleWrapper","delay","weight","activityHeaderTitle","activityHeaderTitleEllipsis","activityHeaderTitleSidePeek","activityHeaderSubtitle","DescriptionComponent","_getBobjectNameProps","_forgeIdFieldsFromIdV","isB2CAccount","useIsB2CAccount","bobjectId","note","cleanedBody","activityCadenceName","getIconProps","iconProps","IconComponent","RightIconComponent","_activity$casesLinked","_activity$casesLinked4","_activity$casesLinked5","_activity$casesLinked6","_activity$casesLinked7","_activity$casesLinked8","_settings$account2","_useState","useState","_useState2","dropdownVisible","setDropdownVisible","_useActiveUserSetting","useActiveUserSettings","settings","reported","forgedIdFields","attachments","leadAssignedTo","opportunityAssignedTo","callRecording","customTaskId","emailClasses","meetingClasses","callClasses","activityUser","assigneeComponent","AssigneeComponent","isWhatsAppBusiness","CUSTOM_TASK_LOGIC_ROLE","WHATSAPP_BUSINESS","handleClickOnCase","caseId","_settings$account","open","account","salesforceInstance","linkedCases","casesLinked","_activity$casesLinked2","_activity$casesLinked3","Id","caseIcon","CaseNumber","caseItem","index","aiAnalysisEnabled","useAiAnalysisEnabled","canShowAnalysis","hasCopilot","openAIInNewTab","activityId","baseUrls","CHANGED_TO","aiAnalysisIcon","Fragment","bobjectActivity","injectReferencesGetProcess","getSubtitle","inboundFormName","SubtitleComponent","NewActivityTimelineItem","activityDataProps","useMemo","hasSubtitle","LearnMoreButton","mixpanelEvent","Button","iconLeft","uppercase","learnMoreButton","tooltipBlocks","Trans","i18nKey","rightButton","ACTIVITY_EMAIL_TOOLTIP_BUTTON_CLICKED","ACTIVITY_LINKEDIN_TOOLTIP_BUTTON_CLICKED","ActivityTooltipBlock","_ref2$sidePeekEnabled","_useUserHelpers","useUserHelpers","save","has","banishTooltip","ACTIVITY_TOOLTIP_BLOCK_MARKED_AS_HIDDEN","ExtensionHelperKeys","ACTIVITY_TIMELINE_TOOLTIP_BLOCK","sidePeek_timeline_item_wrapper","tooltipBlock","footer","Checkbox"],"mappings":"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"}