{"version":3,"file":"index.js","sources":["../../../../node_modules/style-inject/dist/style-inject.es.js","../src/components/calendar/calendarSelector/calendarSelector.tsx","../src/components/calendar/bloobirdsCalendarSelector/bloobirdsCalendarSelector.tsx","../src/components/calendar/calendarNotConnected/BrandedButtons/GoogleSignIn.tsx","../src/components/calendar/calendarNotConnected/BrandedButtons/MicrosoftSignIn.tsx","../src/components/calendar/calendarNotConnected/calendarNotConnected.tsx","../src/components/calendar/calendarBanner/calendarBanner.tsx","../src/components/calendar/useMouseDelta.ts","../src/components/calendar/utils/calendar.utils.ts","../src/components/calendar/components/calendarEvent.tsx","../src/components/calendar/components/calendarColumn.tsx","../src/components/calendar/components/translationDropdown.tsx","../src/components/calendar/slotsForm/slotsForm.tsx","../src/components/calendar/useEventPlaceholder.ts","../src/components/calendar/calendar.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  Checkbox,\n  Dropdown,\n  Icon,\n  Item,\n  Select,\n  Text,\n  useVisible,\n} from '@bloobirds-it/flamingo-ui';\nimport { useCalendar } from '@bloobirds-it/hooks';\nimport clsx from 'clsx';\n\nimport styles from './calendarSelector.module.css';\n\nexport const CalendarsSelector = ({\n  connections,\n  disabled,\n  anchor,\n}: {\n  connections: any;\n  disabled: boolean;\n  anchor?: (x: boolean, y: React.Dispatch<React.SetStateAction<boolean>>) => JSX.Element;\n}) => {\n  const { ref, visible, setVisible } = useVisible(false);\n  const {\n    calendarSelected,\n    setSelectedCalendar,\n    calendarsAvailable,\n    accountSelected,\n    setAccountSelected,\n    calendarsWithColor,\n  } = useCalendar();\n  const { t } = useTranslation('translation', { keyPrefix: 'meetingModal.calendarSelector' });\n  const myCalendars = calendarsAvailable?.data?.filter((calendar: any) => calendar?.primary) || [];\n  const otherCalendars =\n    calendarsAvailable?.data?.filter((calendar: any) => !calendar?.primary) || [];\n  const openLearnHow = () => {\n    if (connections?.list[0]?.provider === 'gmail') {\n      window.open('https://www.youtube.com/watch?v=Atgi1wxj8m4', '_blank');\n    } else if (connections?.list[0]?.provider === 'eas') {\n      window.open(\n        'https://support.microsoft.com/en-us/office/share-your-calendar-in-outlook-2fcf4f4f-8d46-4d8b-ae79-5d94549e531b',\n        '_blank',\n      );\n    } else {\n      window.open('https://www.youtube.com/watch?v=Atgi1wxj8m4', '_blank');\n    }\n  };\n\n  const handleClickCalendar = (value: boolean, id: string) => {\n    value\n      ? setSelectedCalendar((prevSelected: any) => [...prevSelected, id])\n      : setSelectedCalendar((prevSelected: any) => prevSelected?.filter((c: any) => c !== id));\n  };\n\n  return (\n    <Dropdown\n      anchor={\n        anchor ? (\n          anchor(visible, setVisible)\n        ) : (\n          <div\n            className={clsx(styles._select_anchor, { [styles._select_disabled]: disabled })}\n            onClick={() => (disabled ? null : setVisible(!visible))}\n          >\n            <span style={{ display: 'flex' }}>\n              <span className={styles._icon_container}>\n                <Icon name=\"calendar\" size={12} color=\"softPeanut\" />\n              </span>\n              <Text\n                size=\"xs\"\n                color={disabled ? 'softPeanut' : 'peanut'}\n                className={styles._select_text}\n              >\n                {disabled\n                  ? t('noCalendarsSelected')\n                  : calendarSelected?.length > 0\n                  ? calendarSelected?.length > 1\n                    ? t('calendarsSelected').toLowerCase()\n                    : calendarsAvailable?.data?.find(c => c?.id === calendarSelected[0])?.name\n                  : t('noCalendarsSelected')}\n              </Text>\n            </span>\n            <span style={{ marginRight: '4px' }}>\n              <Icon name=\"chevronDown\" size={12} color=\"softPeanut\" />\n            </span>\n          </div>\n        )\n      }\n      visible={visible}\n      ref={ref}\n    >\n      <div className={styles._calendars_container}>\n        <Text size=\"s\">{t('calendarAccount')}:</Text>\n        <div className={styles._accounts_selector}>\n          <Select\n            size=\"small\"\n            value={accountSelected}\n            onChange={setAccountSelected}\n            borderless={false}\n            width=\"300px\"\n          >\n            {connections?.list?.map((connection: any) => (\n              <Item key={connection?.id} value={connection?.id}>\n                {connection?.email}\n              </Item>\n            ))}\n          </Select>\n        </div>\n        {myCalendars?.length > 0 && (\n          <>\n            <Text size=\"m\" color=\"peanut\">\n              {t('myCalendars')}\n            </Text>\n            <div className={styles._calendars_list}>\n              {myCalendars?.map((calendar: any) => (\n                <Checkbox\n                  key={calendar?.id}\n                  size=\"small\"\n                  checked={!!calendarSelected?.find((c: any) => c === calendar?.id)}\n                  onClick={v => handleClickCalendar(v, calendar?.id)}\n                  color={calendarsWithColor?.find(c => c.calendarId === calendar?.id)?.color}\n                >\n                  {calendar?.name}\n                </Checkbox>\n              ))}\n            </div>\n          </>\n        )}\n        {otherCalendars?.length > 0 && (\n          <>\n            <Text size=\"m\" color=\"peanut\">\n              {t('otherCalendars')}\n            </Text>\n            <div className={styles._calendars_list}>\n              {otherCalendars?.map((calendar: any) => (\n                <Checkbox\n                  key={calendar?.id}\n                  size=\"small\"\n                  checked={!!calendarSelected?.find((c: any) => c === calendar?.id)}\n                  onClick={v => handleClickCalendar(v, calendar?.id)}\n                  color={calendarsWithColor?.find(c => c.calendarId === calendar?.id)?.color}\n                >\n                  {calendar?.name}\n                </Checkbox>\n              ))}\n            </div>\n          </>\n        )}\n        <div className={styles._help_container}>\n          <Text size=\"s\" color=\"peanut\">\n            {t('infoText.missingCalendar')}\n          </Text>\n          <Text size=\"xs\" color=\"softPeanut\">\n            {t('infoText.learnHere')}{' '}\n            <a style={{ color: 'var(--bloobirds)', cursor: 'pointer' }} onClick={openLearnHow}>\n              {/* eslint-disable-next-line react/no-unescaped-entities */}\n              {t('infoText.howToAsk')}\n            </a>{' '}\n            {t('infoText.toSeeIt')}\n          </Text>\n        </div>\n      </div>\n    </Dropdown>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Checkbox, Dropdown, Icon, Text, useVisible } from '@bloobirds-it/flamingo-ui';\nimport { useCalendar, useDataModel, useFullSalesEnabled, useUserSearch } from '@bloobirds-it/hooks';\nimport { ACTIVITY_FIELDS_LOGIC_ROLE, User } from '@bloobirds-it/types';\n\nimport styles from '../calendarSelector/calendarSelector.module.css';\n\nexport const BloobirdsCalendarsSelector = ({\n  anchor,\n}: {\n  anchor?: (x: boolean, y: React.Dispatch<React.SetStateAction<boolean>>) => JSX.Element;\n}) => {\n  const {\n    accountId,\n    userId,\n    usersSelected,\n    setUsersSelected,\n    accountExecutivesSelected,\n    setAccountExecutivesSelected,\n  } = useCalendar();\n  const { ref, visible, setVisible } = useVisible();\n  const dataModel = useDataModel();\n  const isFullSalesEnabled = useFullSalesEnabled(accountId);\n  const userResponse = useUserSearch();\n  const { t } = useTranslation();\n  const users = userResponse?.users;\n  const sortedUsers = users?.reduce((acc: User[], user) => {\n    if (user?.id === userId) {\n      return [user, ...acc];\n    }\n    return [...acc, user];\n  }, []);\n  const activityAccountExecutiveField = dataModel?.findValuesByFieldLogicRole(\n    ACTIVITY_FIELDS_LOGIC_ROLE.ACCOUNT_EXECUTIVE,\n  );\n  const totalCalendarsSelected = [...accountExecutivesSelected, ...usersSelected];\n  const accountExecutivePicklistValues = activityAccountExecutiveField?.filter(ae => ae?.enabled);\n  const handleSelectUser = (user: any, value: boolean) => {\n    if (value) {\n      setUsersSelected((curr: any) => [...curr, user?.id]);\n    } else {\n      setUsersSelected(usersSelected?.filter((id: string) => id !== user?.id));\n    }\n  };\n\n  const handleSelectAccountExecutive = (ae: any, value: boolean) => {\n    if (value) {\n      setAccountExecutivesSelected((curr: any) => [...curr, ae?.id]);\n    } else {\n      setAccountExecutivesSelected(\n        accountExecutivesSelected?.filter((id: string) => id !== ae?.id),\n      );\n    }\n  };\n\n  return (\n    <Dropdown\n      anchor={\n        anchor ? (\n          anchor(visible, setVisible)\n        ) : (\n          <div className={styles._select_anchor} onClick={() => setVisible(true)}>\n            <span style={{ display: 'flex' }}>\n              <span className={styles._icon_container}>\n                <Icon name=\"calendar\" size={12} color=\"softPeanut\" />\n              </span>\n              <Text size=\"xs\" color=\"peanut\" className={styles._select_text}>\n                {t('calendar.days.calendarSelector', {\n                  count: totalCalendarsSelected?.length || 0,\n                })}\n              </Text>\n            </span>\n            <span style={{ marginRight: '4px' }}>\n              <Icon name=\"chevronDown\" size={12} color=\"softPeanut\" />\n            </span>\n          </div>\n        )\n      }\n      visible={visible}\n      ref={ref}\n    >\n      <div className={styles._calendars_container}>\n        {users?.length > 0 && (\n          <>\n            <Text size=\"m\" color=\"peanut\">\n              Users\n            </Text>\n            <div className={styles._calendars_list}>\n              {sortedUsers?.map((user: User) => {\n                const isSelfUser = userId === user?.id;\n                return (\n                  <Checkbox\n                    key={user?.id}\n                    size=\"small\"\n                    disabled={isSelfUser}\n                    checked={!!usersSelected?.find((id: string) => id === user?.id)}\n                    onClick={v => handleSelectUser(user, v)}\n                  >\n                    {user?.name} {isSelfUser && `(${t('common.you')})`}\n                  </Checkbox>\n                );\n              })}\n            </div>\n          </>\n        )}\n        {!isFullSalesEnabled && accountExecutivePicklistValues?.length > 0 && (\n          <>\n            <Text size=\"m\" color=\"peanut\">\n              {t('common.accountExecutive')}\n            </Text>\n            <div className={styles._calendars_list}>\n              {accountExecutivePicklistValues?.map((ae: any) => (\n                <Checkbox\n                  key={ae?.id}\n                  size=\"small\"\n                  checked={!!accountExecutivesSelected?.find((id: string) => id === ae?.id)}\n                  onClick={v => handleSelectAccountExecutive(ae, v)}\n                >\n                  {ae?.value}\n                </Checkbox>\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n    </Dropdown>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './brandedButtons.module.css';\n\nexport const GoogleSignIn = ({ onClick }: { onClick: any }) => {\n  const { t } = useTranslation();\n\n  return (\n    <div className={styles._google__button} onClick={onClick}>\n      <div className={styles._icon}>{/*<GoogleSvg />*/}</div>\n      <span className={styles._text}>{t('calendar.signWithGoogle')}</span>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport styles from './brandedButtons.module.css';\n\nexport const MicrosoftSignIn = ({ onClick }: { onClick: any }) => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles._ms__button} onClick={onClick}>\n      <div className={styles._icon}>{/*<MicrosoftSvg />*/}</div>\n      <span className={styles._text}>{t('calendar.signWithOutlook')}</span>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button, Text } from '@bloobirds-it/flamingo-ui';\nimport { fetchAndOpenNylasUrl } from '@bloobirds-it/utils';\n\nimport { Calendar, DayCalendarBackground, Outlook } from '../../../assets/png';\nimport { GoogleSignIn } from './BrandedButtons/GoogleSignIn';\nimport { MicrosoftSignIn } from './BrandedButtons/MicrosoftSignIn';\nimport styles from './calendarNotConnected.module.css';\n\nexport const CalendarNotConnected = ({\n  mode,\n  onCalendarReconnect,\n}: {\n  mode: 'day' | 'week';\n  onCalendarReconnect: () => void;\n}) => {\n  const [signInClicked, setSignInClicked] = useState<boolean>(false);\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'meetingModal.calendar.calendarNotConnected',\n  });\n  return (\n    <>\n      {mode === 'week' ? (\n        <div className={styles.calendar_not_connected}>\n          <Text size=\"xxl\" align=\"center\">\n            {t('syncBloobirds')}\n          </Text>\n          <div className={styles.calendar_buttons}>\n            <GoogleSignIn\n              onClick={() => {\n                fetchAndOpenNylasUrl();\n                setSignInClicked(true);\n              }}\n            />\n            <MicrosoftSignIn\n              onClick={() => {\n                fetchAndOpenNylasUrl();\n                setSignInClicked(true);\n              }}\n            />\n          </div>\n          {signInClicked && (\n            <div\n              onClick={() => {\n                if (onCalendarReconnect) {\n                  onCalendarReconnect();\n                }\n              }}\n              className={styles.link}\n            >\n              <Text color=\"bloobirds\" decoration=\"underline\" size=\"s\">\n                {t('clickAndRefresh')}\n              </Text>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className={styles.day_calendar_not_connected_container}>\n          <img\n            src={DayCalendarBackground}\n            alt={'day_calendar_background'}\n            className={styles._background_image}\n          />\n          <div className={styles.day_calendar_not_connected}>\n            <Text size=\"xl\" align=\"center\" weight=\"bold\" color=\"peanut\">\n              {t('syncBloobirds')}\n            </Text>\n            <div className={styles.day_calendar_buttons}>\n              <Button\n                onClick={() => {\n                  fetchAndOpenNylasUrl();\n                  setSignInClicked(true);\n                }}\n                uppercase\n              >\n                <img\n                  alt=\"calendar_logo\"\n                  src={Calendar}\n                  height={18}\n                  width={18}\n                  style={{ marginRight: 8 }}\n                />\n                {t('connectGoogle')}\n              </Button>\n              <Button\n                onClick={() => {\n                  fetchAndOpenNylasUrl();\n                  setSignInClicked(true);\n                }}\n                variant=\"alternative\"\n                uppercase\n              >\n                <img\n                  alt=\"outlook_logo\"\n                  src={Outlook}\n                  height={18}\n                  width={18}\n                  style={{ marginRight: 8 }}\n                />\n                {t('connectOutlook')}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n","import React from 'react';\n\nimport { Icon, IconButton, Text } from '@bloobirds-it/flamingo-ui';\nimport clsx from 'clsx';\nimport { TFunction } from 'i18next';\n\nimport { BannerStates } from '../calendar';\nimport styles from '../calendar.module.css';\n\nconst getBannerText = (bannerState: BannerStates, t: TFunction) => {\n  switch (bannerState) {\n    case BannerStates.PAST:\n      return t('calendar.banner.past');\n    case BannerStates.EDIT:\n      return t('calendar.banner.edit');\n    default:\n      return t('calendar.banner.create');\n  }\n};\n\nexport const CalendarBanner = ({\n  bannerState,\n  hideSlotsBanner,\n  t,\n}: {\n  bannerState: BannerStates;\n  hideSlotsBanner: () => void;\n  t: TFunction;\n}) => {\n  const isCreatingPastSlots = bannerState === BannerStates.PAST;\n\n  return bannerState !== BannerStates.INACTIVE ? (\n    <div\n      className={clsx(styles._slots_callout, {\n        [styles._slots_callout_past]: isCreatingPastSlots,\n      })}\n    >\n      <Icon\n        name={isCreatingPastSlots ? 'alertTriangle' : 'meetingSlots'}\n        color={isCreatingPastSlots ? 'tomato' : 'grape'}\n        size={16}\n      />\n      <Text size=\"xxs\" color=\"peanut\">\n        {getBannerText(bannerState, t)}\n      </Text>\n      <IconButton name=\"cross\" color=\"peanut\" size={18} onClick={hideSlotsBanner} />\n    </div>\n  ) : null;\n};\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nexport const useMouseDelta = () => {\n  const [result, setResult] = useState(0);\n  const dragging = useRef(false);\n  const previousClientY = useRef(0);\n  const element = useRef<HTMLDivElement>(null);\n  const initialPosition = useRef(0);\n\n  const handleMouseMove = useCallback(e => {\n    if (!dragging.current) {\n      return;\n    }\n\n    setResult(result => {\n      const change = e.offsetY - previousClientY.current;\n      if (Math.abs(change) < 180) {\n        previousClientY.current = e.offsetY;\n        return result + change;\n      } else if (e.offsetY < 180) {\n        return e.offsetY;\n      } else {\n        return result;\n      }\n    });\n  }, []);\n\n  const handleMouseDown = useCallback(e => {\n    previousClientY.current = e.offsetY;\n    initialPosition.current = e.offsetY;\n    dragging.current = true;\n    setResult(0);\n  }, []);\n\n  const handleMouseUp = useCallback(() => {\n    dragging.current = false;\n  }, []);\n\n  useEffect(() => {\n    element?.current?.addEventListener('mousedown', handleMouseDown);\n    element?.current?.addEventListener('mouseup', handleMouseUp);\n    element?.current?.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      element?.current?.removeEventListener('mousedown', handleMouseDown);\n      element?.current?.removeEventListener('mouseup', handleMouseUp);\n      element?.current?.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [handleMouseDown, handleMouseUp, handleMouseMove, element]);\n\n  return { delta: result, ref: element, initialPosition: initialPosition.current, dragging };\n};\n","import { LiveEvent } from '@bloobirds-it/types';\nimport spacetime, { Spacetime } from 'spacetime';\n\nexport function getPxPaddingSinceMidnight(date?: Spacetime, selectedTimezone?: string) {\n  if (!selectedTimezone) {\n    const dateToUse = spacetime(date || new Date());\n    return (60 * dateToUse.hour() + dateToUse.minute()) * (40 / 60);\n  } else {\n    const dateToUse = spacetime(date || new Date()).goto(selectedTimezone);\n    return (60 * dateToUse.hour() + dateToUse.minute()) * (40 / 60);\n  }\n}\n\nexport function getLiveEventPadding(date?: Spacetime) {\n  return (60 * date.hour() + date.minute()) * (40 / 60);\n}\n\nexport function createArrayOfLength(length: number) {\n  return Array.from(Array(length)).map((_, i) => i);\n}\n\nexport function updatedCreatedSectionsOnDelete(createdSections: any, selectedEvent: LiveEvent) {\n  const updatedCreatedSections = [];\n  const selectedEventStart = selectedEvent.startTime;\n  const selectedEventEnd = selectedEvent.endTime;\n  createdSections.forEach(eventBlock => {\n    if (\n      (selectedEventEnd && selectedEventEnd.isBefore(eventBlock.startTime)) ||\n      (selectedEventStart && selectedEventStart.isAfter(eventBlock.endTime))\n    ) {\n      updatedCreatedSections.push(eventBlock);\n    } else {\n      const reducedDuration = eventBlock.duration - selectedEvent.minuteSpan;\n      if (reducedDuration < 0) {\n        updatedCreatedSections.push(eventBlock);\n      } else if (reducedDuration === 0) {\n        return;\n      } else {\n        if (selectedEventStart.isEqual(eventBlock.startTime)) {\n          updatedCreatedSections.push({\n            ...eventBlock,\n            startTime: selectedEventEnd,\n            duration: reducedDuration,\n          });\n        } else if (selectedEventEnd.isEqual(eventBlock.endTime)) {\n          updatedCreatedSections.push({\n            ...eventBlock,\n            endTime: selectedEventStart,\n            duration: reducedDuration,\n          });\n        } else {\n          const newDurationFirstBlock = eventBlock.startTime.diff(selectedEventStart, 'minutes');\n          const newDurationSecondBlock = selectedEventEnd.diff(eventBlock.endTime, 'minutes');\n\n          updatedCreatedSections.push({\n            ...eventBlock,\n            endTime: selectedEventStart,\n            duration: newDurationFirstBlock,\n          });\n          updatedCreatedSections.push({\n            ...eventBlock,\n            startTime: selectedEventEnd,\n            duration: newDurationSecondBlock,\n          });\n        }\n      }\n    }\n  });\n\n  return updatedCreatedSections;\n}\n\nexport function updatedCreatedSectionsOnCreate(createdSections: any, selectedEvent: any) {\n  const updatedCreatedSections = [];\n  const selectedEventStart = selectedEvent.startTime;\n  const selectedEventEnd = selectedEvent.endTime;\n\n  if (createdSections?.length === 0) {\n    return [\n      {\n        duration: selectedEvent.duration,\n        startTime: selectedEventStart,\n        endTime: selectedEventEnd,\n        minuteSpan: selectedEvent.minuteSpan,\n        day: selectedEvent.day,\n      },\n    ];\n  }\n  createdSections.forEach((eventBlock, idx) => {\n    const increasedDuration = eventBlock.duration + selectedEvent.minuteSpan;\n    const nextBlock = createdSections?.[idx + 1];\n    if (\n      nextBlock &&\n      selectedEventStart.isEqual(eventBlock.endTime) &&\n      selectedEventEnd.isEqual(nextBlock?.endTime)\n    ) {\n      updatedCreatedSections.push({\n        ...eventBlock,\n        endTime: nextBlock.endTime,\n        duration: increasedDuration + nextBlock.duration,\n      });\n    } else if (selectedEventStart.isEqual(eventBlock.endTime)) {\n      updatedCreatedSections.push({\n        ...eventBlock,\n        endTime: selectedEventEnd,\n        duration: increasedDuration,\n      });\n    } else if (selectedEventEnd.isEqual(eventBlock.startTime)) {\n      updatedCreatedSections.push({\n        ...eventBlock,\n        startTime: selectedEventStart,\n        duration: increasedDuration,\n      });\n    } else if (\n      !selectedEventEnd.isEqual(eventBlock.startTime) &&\n      !selectedEventStart.isEqual(eventBlock.endTime)\n    ) {\n      updatedCreatedSections.push(eventBlock, {\n        duration: selectedEvent.duration,\n        startTime: selectedEventStart,\n        endTime: selectedEventEnd,\n        minuteSpan: selectedEvent.minuteSpan,\n        day: selectedEvent.day,\n      });\n    }\n  });\n\n  return updatedCreatedSections;\n}\n\nexport function mergeExistingPlaceholders(\n  createdSections: Record<string, any>,\n  selectedPlaceholder: any,\n): LiveEvent[] {\n  const updatedCreatedSections = [];\n  const selectedEventStart = selectedPlaceholder.startTime;\n  const selectedEventEnd = selectedEventStart.add(selectedPlaceholder.duration, 'minutes');\n\n  if (createdSections?.length === 0) {\n    return [\n      {\n        duration: selectedPlaceholder.duration,\n        startTime: selectedEventStart,\n        endTime: selectedEventEnd,\n        minuteSpan: selectedPlaceholder.minuteSpan,\n        day: selectedPlaceholder.day,\n      } as LiveEvent,\n    ];\n  }\n\n  for (let i = 0; i < createdSections.length; i++) {\n    const eventBlock = createdSections[i];\n    const nextBlock = createdSections[i + 1];\n    if (selectedEventStart.isBefore(eventBlock.startTime)) {\n      //new event starts before\n      if (selectedEventEnd.isBefore(eventBlock.startTime)) {\n        //new event ends before\n        updatedCreatedSections.push(selectedPlaceholder);\n        updatedCreatedSections.push(eventBlock);\n      } else if (selectedEventEnd.isEqual(eventBlock.startTime)) {\n        //new event ends at the same time so we need to merge\n        updatedCreatedSections.push({\n          ...selectedPlaceholder,\n          duration: selectedPlaceholder.duration + eventBlock.duration,\n          endTime: eventBlock.endTime,\n        });\n      } else if (selectedEventEnd.isAfter(eventBlock.endTime)) {\n        //new event ends after\n        let numOfOverridenEvents = 1;\n        while (createdSections[i + numOfOverridenEvents]) {\n          if (\n            selectedEventEnd.isAfter(createdSections[i + numOfOverridenEvents].endTime) ||\n            selectedEventEnd.isEqual(createdSections[i + numOfOverridenEvents].endTime)\n          ) {\n            numOfOverridenEvents++;\n          } else {\n            break;\n          }\n        }\n        if (numOfOverridenEvents > 1) {\n          const overridenEvents = numOfOverridenEvents - 1;\n          updatedCreatedSections.push({\n            ...selectedPlaceholder,\n            duration:\n              selectedPlaceholder.duration +\n              eventBlock.duration +\n              createdSections[i + overridenEvents].duration,\n            endTime: createdSections[i + overridenEvents].endTime,\n          });\n          i += overridenEvents;\n        } else {\n          updatedCreatedSections.push(selectedPlaceholder);\n        }\n      } else if (selectedEventEnd.isBefore(eventBlock.endTime)) {\n        //new event ends before\n        const timeDifference = Math.abs(selectedEventEnd.diff(eventBlock.endTime, 'minutes'));\n        const usableTime =\n          Math.floor(timeDifference / eventBlock.minuteSpan) * eventBlock.minuteSpan;\n        updatedCreatedSections.push(selectedPlaceholder);\n        updatedCreatedSections.push({\n          ...eventBlock,\n          duration: usableTime,\n          startTime: eventBlock.endTime.subtract(usableTime, 'minutes'),\n        });\n      }\n    } else if (selectedEventStart.isEqual(eventBlock.startTime)) {\n      //new event starts at the same time\n      if (selectedEventEnd.isBefore(eventBlock.startTime)) {\n        //new event ends before\n        updatedCreatedSections.push(eventBlock);\n      } else if (selectedEventEnd.isAfter(eventBlock.endTime)) {\n        //new event ends after\n        updatedCreatedSections.push(selectedPlaceholder);\n      }\n    } else {\n      //new event starts after\n      if (selectedEventStart.isEqual(eventBlock.endTime)) {\n        //new event starts at the same time so we need to merge\n        if (nextBlock && selectedEventEnd.isEqual(nextBlock.startTime)) {\n          updatedCreatedSections.push({\n            ...selectedPlaceholder,\n            duration: selectedPlaceholder.duration + eventBlock.duration + nextBlock.duration,\n            startTime: eventBlock.startTime,\n            endTime: nextBlock.endTime,\n          });\n          i++;\n        } else {\n          updatedCreatedSections.push({\n            ...eventBlock,\n            duration: selectedPlaceholder.duration + eventBlock.duration,\n            endTime: selectedPlaceholder.endTime,\n          });\n        }\n      } else {\n        updatedCreatedSections.push(eventBlock);\n        updatedCreatedSections.push(selectedPlaceholder);\n      }\n    }\n  }\n\n  return updatedCreatedSections;\n}\n\nexport const isSlotCreated = (events, startDate) => {\n  return events?.some(section => {\n    return startDate.isAfter(section.startTime) && startDate.isBefore(section.endTime);\n  });\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Dropdown, Icon, IconButton, Text, useVisible } from '@bloobirds-it/flamingo-ui';\nimport { getI18nSpacetimeLng } from '@bloobirds-it/internationalization';\nimport { Invitee, Event, LiveEvent, MIXPANEL_EVENTS } from '@bloobirds-it/types';\nimport { getUserTimeZone, toTitleCase } from '@bloobirds-it/utils';\nimport clsx from 'clsx';\nimport mixpanel from 'mixpanel-browser';\nimport spacetime from 'spacetime';\n\nimport { InviteeCard, useCalendarContext } from '../calendar';\nimport styles from '../calendar.module.css';\nimport { createArrayOfLength, getPxPaddingSinceMidnight } from '../utils/calendar.utils';\n\ninterface BlockInterface {\n  startDatetimeSpaceTime?;\n  event;\n  calculatePosition;\n  height?: number;\n  width?;\n  left;\n  zIndex?: number;\n  selectedTimezone?: string;\n}\n\nconst getColors = event => {\n  if (event?.type === 'bloobirds') {\n    return {\n      backgroundColor: 'verySoftTomato',\n      barColor: 'tomato',\n    };\n  } else if (event?.type === 'placeholder') {\n    return {\n      backgroundColor: 'white',\n      barColor: 'bloobirds',\n    };\n  } else if (event?.type === 'nylas') {\n    return {\n      backgroundColor: event?.backgroundColor || 'verySoftBloobirds',\n      barColor: event?.barColor || 'bloobirds',\n    };\n  } else if (event?.type === 'dragging') {\n    return {\n      backgroundColor: 'white',\n      barColor: event?.barColor || 'bloobirds',\n    };\n  }\n};\n\nfunction SlotsDisplay({ event }) {\n  return (\n    <div style={{ display: 'flex', height: '100%', width: '100%', gap: '4px' }}>\n      <div style={{ backgroundColor: 'var(--verySoftGrape)', width: '22px' }} />\n      <div style={{ display: 'flex', flexDirection: 'column', width: 'inherit' }}>\n        {createArrayOfLength(Math.floor(event.duration / event.minuteSpan)).map(index => (\n          <div\n            key={index}\n            style={{\n              borderRadius: '4px',\n              color: 'black',\n              height: (event.minuteSpan * 40) / 60 + 'px',\n              backgroundColor: 'var(--softGrape)',\n              borderBottom: '2px solid white',\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction DraggingBlock({\n  startDatetimeSpaceTime,\n  event,\n  calculatePosition,\n  height,\n  width,\n  left,\n  zIndex,\n}: BlockInterface) {\n  const { t } = useTranslation();\n\n  const isPastEvent = spacetime.now().isAfter(startDatetimeSpaceTime);\n  const cellClassName = clsx(styles.calendar_cell, {\n    [styles.calendar_cell_small]: height < 29,\n    [styles.calendar_cell_45]: height >= 29 && height < 39,\n    [styles.calendar_cell_placeholder]: event.type === 'placeholder',\n  });\n  return (\n    <div\n      className={cellClassName}\n      style={{\n        cursor: 'grabbing',\n        top: calculatePosition + 'px',\n        height,\n        width,\n        left,\n        backgroundColor: `var(--${getColors(event)?.backgroundColor})`,\n        border: isPastEvent ? '1px var(--tomato) dashed' : '1px rgba(66,218,156) dashed',\n        borderRadius: '4px',\n        zIndex,\n        boxShadow:\n          '0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%), 0px 3px 5px -1px rgb(0 0 0 / 20%)',\n        padding: '4px 4px 3px',\n      }}\n    >\n      {isPastEvent ? (\n        <>\n          <div className={styles.calendar_cell_title}>{t('calendar.cannotCreatePastSlots')}</div>\n          <div className={styles.calendar_cell_time}>{t('calendar.selectTimeBelow')}</div>\n        </>\n      ) : (\n        <SlotsDisplay event={event} />\n      )}\n    </div>\n  );\n}\n\nfunction SolidBlock({\n  selectedTimezone,\n  startDatetimeSpaceTime,\n  event,\n  calculatePosition,\n  height,\n  width,\n  left,\n  zIndex,\n}: BlockInterface) {\n  const cellClassName = clsx(styles.calendar_cell, {\n    [styles.calendar_cell_small]: height < 29,\n    [styles.calendar_cell_45]: height >= 29 && height < 39,\n    [styles.calendar_cell_placeholder]: event.type === 'placeholder',\n  });\n\n  const {\n    t,\n    i18n: { language },\n  } = useTranslation();\n\n  const timeSlot = `${startDatetimeSpaceTime.format('time')} -\n                ${startDatetimeSpaceTime.add(event.duration, 'minute').format('time')}`;\n  const topPosition = calculatePosition - height / 2 + 'px';\n\n  const endTime = getI18nSpacetimeLng(\n    language,\n    event.endTime,\n    selectedTimezone || getUserTimeZone(),\n  );\n\n  const participantsWithOrganizer: Invitee[] = event?.participants?.map(participant => {\n    const ownerEmail = event?.owner?.replaceAll(/[<>]/gi, '')?.trim();\n    const isOwner = participant?.email === ownerEmail;\n    return isOwner ? { ...participant, type: 'Organizer' } : participant;\n  });\n  const orderedParticipants = participantsWithOrganizer?.reduce((acc, invitee) => {\n    if (invitee?.type === 'Organizer') {\n      return [invitee, ...acc];\n    }\n    return [...acc, invitee];\n  }, []);\n  const { ref, visible, setVisible } = useVisible();\n  return (\n    <Dropdown\n      ref={ref}\n      width={448}\n      position=\"left\"\n      fallbackPositions={['left']}\n      arrow={false}\n      customStyles={{\n        top: topPosition,\n        right: '10px',\n      }}\n      visible={visible}\n      anchor={\n        <div\n          className={cellClassName}\n          style={{\n            top: calculatePosition + 'px',\n            height: height - 1,\n            width,\n            left,\n            backgroundColor: `var(--${getColors(event)?.backgroundColor})`,\n            borderLeft: `2px solid var(--${getColors(event)?.barColor})`,\n            zIndex: visible ? 10 : zIndex,\n            boxShadow: visible\n              ? '0px 6px 10px 0px rgb(0 0 0 / 14%), 0px 1px 18px 0px rgb(0 0 0 / 12%), 0px 3px 5px -1px rgb(0 0 0 / 20%)'\n              : null,\n          }}\n          onClick={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            return event.type !== 'placeholder' && setVisible(true);\n          }}\n        >\n          <div className={styles.calendar_cell_title}>{event.title}</div>\n          <div className={styles.calendar_cell_time}>{timeSlot}</div>\n        </div>\n      }\n    >\n      <div\n        className={styles.event_details_container}\n        onClick={e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n      >\n        <div className={styles.event_details_header}>\n          <div className={styles.event_details_title_name}>\n            <Icon name=\"calendar\" color=\"tomato\" size={32} className={styles.event_details_icon} />\n            <Text className={styles.event_details_title_text}>\n              {event?.title || t('calendar.events.noTitle')}\n            </Text>\n          </div>\n          <IconButton name=\"cross\" size={16} onClick={() => setVisible(false)} />\n        </div>\n        <div className={styles.event_details_title}>\n          <Text size=\"m\">\n            {toTitleCase(startDatetimeSpaceTime.dayName())}, {startDatetimeSpaceTime.date()}{' '}\n            {toTitleCase(startDatetimeSpaceTime.monthName())} ·{' '}\n            {startDatetimeSpaceTime.format('time')} - {endTime.format('time')}\n          </Text>\n        </div>\n        <div className={styles.event_details_body}>\n          <span className={styles.attendees_details}>\n            <Icon name=\"people\" color=\"softPeanut\" />\n            <Text size=\"s\" className={styles.attendees_title}>\n              {t('calendar.events.attendee', { count: orderedParticipants?.length || 0 })}\n            </Text>\n          </span>\n          <div className={styles.attendees_list_container}>\n            {orderedParticipants?.map(participant => (\n              <InviteeCard\n                invitee={participant}\n                key={participant?.email}\n                readOnly\n                shouldShowStatus\n              />\n            ))}\n          </div>\n        </div>\n      </div>\n    </Dropdown>\n  );\n}\n\ninterface LiveEventBlockInterface extends Pick<BlockInterface, 'selectedTimezone' | 'zIndex'> {\n  selectedTimezone;\n  event: LiveEvent[];\n  zIndex;\n}\n\nfunction LiveEventBlock({\n  selectedTimezone,\n  event: dailyLiveEvents,\n  zIndex,\n}: LiveEventBlockInterface) {\n  const {\n    deleteLiveEvent,\n    slotsData: { calendarSlotsVisible },\n  } = useCalendarContext();\n  const { language } = useTranslation().i18n;\n  return (\n    <>\n      {dailyLiveEvents.map((liveEvent, idx) => {\n        const startDatetimeSpaceTime = getI18nSpacetimeLng(\n          language,\n          liveEvent.startTime,\n          selectedTimezone || getUserTimeZone(),\n        );\n        const width =\n          liveEvent.collisions > 0\n            ? `calc(${95.0 / (liveEvent.collisions + 1) + '%'} + ${liveEvent.collisions * 8}px)`\n            : '98%';\n\n        const eventHeight = Math.floor(\n          (liveEvent.minuteSpan * 40) /\n            //  - 60 / liveEvent.minuteSpan)\n            60,\n        );\n\n        if (liveEvent.type !== 'dragging') return null;\n        const timeSlot = `${startDatetimeSpaceTime.format('time')} -\n                ${startDatetimeSpaceTime.add(liveEvent.minuteSpan, 'minute').format('time')}`;\n        return (\n          <div\n            //@ts-ignore TODO fix typing startTime is a spaceTime object\n            key={`slot-${liveEvent.startTime.format('time')}-${liveEvent.endTime?.format(\n              'time',\n            )}-${idx}`}\n            style={{\n              position: 'absolute',\n              top: liveEvent.paddingTop + 'px',\n              display: 'flex',\n              flexDirection: 'column',\n              width: '320px',\n            }}\n          >\n            {liveEvent.minuteSpan && (\n              <div\n                key={`slot-${timeSlot}-${idx}`}\n                style={{\n                  height: eventHeight,\n                  borderBottom: '1px solid var(--white)',\n                  padding: '0 4px',\n                  width,\n                  backgroundColor: 'var(--verySoftGrape)',\n                  borderLeft: '2px solid var(--grape)',\n                  zIndex,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  WebkitUserSelect: 'none',\n                  userSelect: 'none',\n                }}\n                className={clsx({ [styles.small_slot]: liveEvent.minuteSpan === 15 })}\n              >\n                <Text size={liveEvent.minuteSpan === 15 ? 'xxxs' : 'xxs'} color=\"peanut\">\n                  {timeSlot}\n                </Text>\n                {calendarSlotsVisible && (\n                  <IconButton\n                    name=\"cross\"\n                    size={liveEvent.minuteSpan === 15 ? 10 : 12}\n                    color=\"peanut\"\n                    onClick={e => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                      deleteLiveEvent(liveEvent.day, liveEvent.id);\n                      mixpanel.track(MIXPANEL_EVENTS.REMOVE_CALENDAR_SLOT);\n                    }}\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </>\n  );\n}\n\nexport const CalendarEvent = React.memo(\n  ({\n    event,\n    selectedTimezone,\n    type,\n  }: {\n    event: Event | LiveEvent | LiveEvent[];\n    selectedTimezone: string;\n    type: 'settledEvent' | 'liveEvent' | 'placeholderEvent';\n  }) => {\n    const {\n      i18n: { language },\n    } = useTranslation();\n    const initialEvent = Array.isArray(event) ? event[0] : event;\n    if (!initialEvent) return null;\n    const startDatetimeSpaceTime = spacetime(initialEvent.startTime)?.goto(\n      selectedTimezone || getUserTimeZone(),\n    );\n    const calculatePosition = getPxPaddingSinceMidnight(\n      selectedTimezone\n        ? getI18nSpacetimeLng(\n            language,\n            startDatetimeSpaceTime,\n            selectedTimezone || getUserTimeZone(),\n          )\n        : startDatetimeSpaceTime,\n    );\n    const height = initialEvent.duration * (40 / 60);\n    const width =\n      initialEvent.collisions > 0\n        ? `calc(${95.0 / (initialEvent.collisions + 1) + '%'} + ${initialEvent.collisions * 8}px)`\n        : '95%';\n\n    const left = `calc(${\n      (initialEvent.collisionNumber / (initialEvent.collisions + 1)) * 100 + '%'\n    } - ${initialEvent.collisionNumber > 0 ? initialEvent.collisionNumber * 8 : 0}px)`;\n    const zIndex = type === 'placeholderEvent' ? 10 : 5;\n\n    switch (type) {\n      case 'liveEvent':\n        return (\n          <LiveEventBlock\n            selectedTimezone={selectedTimezone}\n            event={event as LiveEvent[]}\n            zIndex={zIndex}\n          />\n        );\n      case 'placeholderEvent':\n        return (\n          <DraggingBlock\n            startDatetimeSpaceTime={getI18nSpacetimeLng(\n              language,\n              startDatetimeSpaceTime,\n              selectedTimezone || getUserTimeZone(),\n            )}\n            event={event as Event}\n            calculatePosition={calculatePosition}\n            height={height}\n            width={width}\n            left={left}\n            zIndex={zIndex}\n          />\n        );\n      default:\n      case 'settledEvent':\n        return (\n          <SolidBlock\n            startDatetimeSpaceTime={startDatetimeSpaceTime}\n            event={event as Event}\n            calculatePosition={calculatePosition}\n            height={height}\n            width={width}\n            left={left}\n            zIndex={zIndex}\n            selectedTimezone={selectedTimezone}\n          />\n        );\n    }\n  },\n);\n","import React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { getI18nSpacetimeLng } from '@bloobirds-it/internationalization';\nimport { EventsPerDay, LiveEvent, TDateISO, TDateISODate } from '@bloobirds-it/types';\nimport {\n  getDurationFromOffset,\n  getTimeFromOffset,\n  getUserTimeZone,\n  isToday,\n} from '@bloobirds-it/utils';\nimport clsx from 'clsx';\nimport spacetime from 'spacetime';\n\nimport { useCalendarContext } from '../calendar';\nimport styles from '../calendar.module.css';\nimport { useMouseDelta } from '../useMouseDelta';\nimport { getPxPaddingSinceMidnight } from '../utils/calendar.utils';\nimport { CalendarEvent } from './calendarEvent';\n\nexport const CalendarColumn = ({\n  day,\n  events,\n  hourMarkerRef,\n  selectedTimezone,\n}: {\n  mode: 'day' | 'week';\n  day: TDateISODate;\n  events: EventsPerDay;\n  hourMarkerRef: any;\n  selectedTimezone?: string;\n}) => {\n  const mouseDelta = useMouseDelta();\n  const {\n    eventPlaceholder,\n    createPlaceholder,\n    liveEvents,\n    slotsData: { calendarSlotsVisible },\n    createQuickLiveEvent,\n    clickedOnPastDate,\n    settlePlaceholder,\n    slotDuration,\n  } = useCalendarContext();\n\n  const currentTimePadding = getPxPaddingSinceMidnight(null, selectedTimezone);\n  const dayNumber = spacetime(day).format('day-number');\n  const isWeekend = dayNumber === '6' || dayNumber === '';\n  const columnClasses = clsx(styles.calendar_gridcell, {\n    [styles.calendar_gridcell_weekend]: isWeekend,\n    [styles.calendar_creating_slots]: mouseDelta?.dragging?.current && calendarSlotsVisible,\n  });\n  const {\n    i18n: { language },\n  } = useTranslation();\n\n  useEffect(() => {\n    if (calendarSlotsVisible) {\n      if (mouseDelta?.delta === 0) return;\n      let placeholderDatetime = getTimeFromOffset(\n        mouseDelta.initialPosition,\n        getI18nSpacetimeLng(language, day, selectedTimezone || getUserTimeZone()),\n      );\n\n      let placeholderDuration = getDurationFromOffset(mouseDelta.delta);\n      if (placeholderDuration < 0) {\n        placeholderDatetime = spacetime(placeholderDatetime)\n          .goto(selectedTimezone || getUserTimeZone())\n          .subtract(-placeholderDuration, 'minute')\n          .format('iso-utc') as TDateISO;\n        placeholderDuration = -placeholderDuration;\n      }\n      if (typeof createPlaceholder === 'function') {\n        createPlaceholder(placeholderDatetime, placeholderDuration, 'dragging');\n      }\n\n      if (spacetime(placeholderDatetime).isBefore(new Date())) {\n        clickedOnPastDate();\n      }\n    }\n  }, [mouseDelta?.delta, mouseDelta?.initialPosition]);\n\n  function handleCalendarClick(event) {\n    const element = event.target;\n    if (element?.tagName !== 'DIV') return;\n    const div = this.getBoundingClientRect();\n    const mouseY = event.clientY - div.top;\n    const startTime = getTimeFromOffset(\n      mouseY,\n      getI18nSpacetimeLng(language, day, selectedTimezone || getUserTimeZone()),\n    );\n    const isPastEvent = spacetime(startTime).isBefore(new Date());\n\n    if (isPastEvent) {\n      return clickedOnPastDate();\n    }\n    createQuickLiveEvent({ initialPosition: mouseY }, day);\n  }\n\n  useEffect(() => {\n    if (mouseDelta.ref.current && calendarSlotsVisible) {\n      mouseDelta.ref.current.addEventListener('click', handleCalendarClick);\n    }\n    return () => {\n      mouseDelta.ref.current?.removeEventListener('click', handleCalendarClick);\n    };\n    //TODO check if this can be done without depending on liveEvents\n  }, [mouseDelta.ref.current, calendarSlotsVisible, liveEvents, slotDuration]);\n\n  return (\n    <div\n      key={`column-${day}`}\n      className={columnClasses}\n      onMouseUp={event => {\n        mouseDelta.dragging.current = false;\n        settlePlaceholder(event);\n      }}\n    >\n      <div className={styles.calendar_gridcell_hidden} ref={mouseDelta.ref} />\n      {isToday((day as unknown) as Date, selectedTimezone || getUserTimeZone()) && (\n        <div\n          className={styles.calendar_now_marker}\n          ref={hourMarkerRef}\n          style={{ top: currentTimePadding + 'px' }}\n        />\n      )}\n      {events[day]?.map(event => (\n        <CalendarEvent\n          type=\"settledEvent\"\n          event={event}\n          key={event.id + event?.calendarId}\n          selectedTimezone={selectedTimezone}\n        />\n      ))}\n      {eventPlaceholder?.day === day && (\n        <CalendarEvent\n          type=\"placeholderEvent\"\n          key={eventPlaceholder.startTime.format('time')}\n          event={eventPlaceholder as LiveEvent}\n          selectedTimezone={selectedTimezone}\n        />\n      )}\n      {liveEvents?.[day] && (\n        <CalendarEvent\n          key={liveEvents[day][0]?.startTime.format('time')}\n          type=\"liveEvent\"\n          event={liveEvents[day]}\n          selectedTimezone={selectedTimezone}\n        />\n      )}\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { Button, Dropdown, Icon, Radio, Text, useVisible } from '@bloobirds-it/flamingo-ui';\nimport spacetime from 'spacetime';\n\nconst ESP_Dates = {\n  days: {\n    long: ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n    short: ['dom', 'lun', 'mar', 'mié', 'jue', 'vie', 'sáb'],\n  },\n  months: {\n    long: [\n      'enero',\n      'febrero',\n      'marzo',\n      'abril',\n      'mayo',\n      'junio',\n      'julio',\n      'agosto',\n      'septiembre',\n      'octubre',\n      'noviembre',\n      'diciembre',\n    ],\n    short: ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'],\n  },\n};\n\nconst ENG_Dates = {\n  days: {\n    long: ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'],\n    short: ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'],\n  },\n  months: {\n    long: [\n      'january',\n      'february',\n      'march',\n      'april',\n      'may',\n      'june',\n      'july',\n      'august',\n      'september',\n      'october',\n      'november',\n      'december',\n    ],\n    short: ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'],\n  },\n};\n\nexport const TranslationDropdown = ({ language, setLanguage }) => {\n  const { visible, setVisible } = useVisible();\n  const { t } = useTranslation();\n  const languages = ['en', 'es'];\n\n  useEffect(() => {\n    if (window.navigator.language?.includes('es')) {\n      setLanguage('es');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (language === 'es') {\n      spacetime.now().i18n({\n        ...ESP_Dates,\n        useTitleCase: true, // automatically in .format()\n      });\n    } else {\n      spacetime.now().i18n({\n        ...ENG_Dates,\n        useTitleCase: true, // automatically in .format()\n      });\n    }\n  }, [language]);\n\n  return (\n    <Dropdown\n      position=\"top\"\n      visible={visible}\n      anchor={\n        <Button\n          variant=\"secondary\"\n          size=\"small\"\n          uppercase={false}\n          onClick={() => setVisible(!visible)}\n        >\n          <Icon name=\"language\" />\n        </Button>\n      }\n    >\n      <div\n        style={{\n          width: '321px',\n          height: '175px',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          padding: '24px',\n          gap: '8px',\n          boxSizing: 'border-box',\n        }}\n      >\n        <Text size=\"m\" color=\"peanut\">\n          {t('languages.selectALanguage')}\n        </Text>\n        <div style={{ display: 'flex', flexDirection: 'column' }}>\n          {languages.map(lng => (\n            <Radio\n              key={lng}\n              size=\"small\"\n              value={lng}\n              checked={language === lng}\n              onClick={() => setLanguage(lng)}\n            >\n              {t(`languages.${lng}`)}\n            </Radio>\n          ))}\n        </div>\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer',\n          }}\n          onClick={() => setVisible(false)}\n        >\n          <Icon name=\"save\" color=\"bloobirds\" size={16} />\n          <Text size=\"m\" color=\"bloobirds\">\n            {t('common.save')}\n          </Text>\n        </div>\n      </div>\n    </Dropdown>\n  );\n};\n","import React, { useEffect, Fragment, useState, useMemo } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport {\n  Button,\n  Icon,\n  IconButton,\n  Input,\n  Item,\n  Modal,\n  ModalCloseIcon,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalTitle,\n  Select,\n  Text,\n} from '@bloobirds-it/flamingo-ui';\nimport { useActiveUserSettings, useTimeZones } from '@bloobirds-it/hooks';\nimport {\n  COMPANY_FIELDS_LOGIC_ROLE,\n  LEAD_FIELDS_LOGIC_ROLE,\n  LinkedInLead,\n  MIXPANEL_EVENTS,\n  SlotsData,\n} from '@bloobirds-it/types';\nimport { getUserTimeZone, getValueFromLogicRole } from '@bloobirds-it/utils';\nimport clsx from 'clsx';\nimport mixpanel from 'mixpanel-browser';\nimport spacetime from 'spacetime';\n\nimport { useCalendarContext } from '../calendar';\nimport { TranslationDropdown } from '../components/translationDropdown';\nimport styles from './slotsForm.module.css';\n\nconst ConfirmationModal = ({ open, handleClose, handleCancel }) => {\n  const { t } = useTranslation();\n  return (\n    <Modal width={600} open={open} onClose={handleCancel}>\n      <ModalHeader variant=\"primary\">\n        <ModalTitle size=\"small\" color=\"veryLightBloobirds\">\n          <Icon name=\"cross\" className={styles._icon} color=\"peanut\" />\n          <Text size=\"m\" inline>\n            {t('calendar.events.close')}\n          </Text>\n        </ModalTitle>\n        <ModalCloseIcon color=\"black\" size=\"small\" onClick={handleCancel} />\n      </ModalHeader>\n      <ModalContent className={styles.modalContent}>\n        <Text size=\"m\" align=\"center\">\n          <Trans i18nKey=\"calendar.events.closeConfirmation\" />\n        </Text>\n      </ModalContent>\n      <ModalFooter>\n        <Button variant=\"tertiary\" onClick={handleCancel} color=\"bloobirds\">\n          {t('common.cancel')}\n        </Button>\n        <Button variant=\"primary\" color=\"tomato\" onClick={handleClose}>\n          {t('common.close')}\n        </Button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nfunction ParsedSlots({\n  liveEvents,\n  language,\n  selectedTimezone,\n}: {\n  selectedTimezone: string;\n  liveEvents: ReturnType<typeof useCalendarContext>['liveEvents'];\n  language: 'en' | 'es';\n}) {\n  const allTimeZones = useTimeZones();\n  const { t } = useTranslation();\n\n  const orderedEvents =\n    liveEvents &&\n    Object.entries(liveEvents || {}).reduce((acc, [day, dayEvents]) => {\n      const sortedDays = (dayEvents as any[]).sort((a, b) => {\n        const aDate = spacetime(a.startTime);\n        const bDate = spacetime(b.startTime);\n        return aDate.isBefore(bDate) ? -1 : 1;\n      });\n      return { ...acc, [day]: sortedDays };\n    }, {} as ReturnType<typeof useCalendarContext>['liveEvents']);\n  const isSpanish = language === 'es';\n  const formatString = isSpanish\n    ? '{day-short}, {date-pad} {month-short}'\n    : '{day-short} {date-pad}, {month-short}';\n  let idSlots = 0;\n\n  return (\n    <div className={styles.parsedSlots} id=\"slots-block\">\n      {!liveEvents || Object.values(liveEvents).flatMap(e => e).length === 0 ? (\n        <Text size=\"s\" color=\"softPeanut\">\n          {t('calendar.description')}\n        </Text>\n      ) : (\n        <>\n          {Object.entries(orderedEvents).map(([, dayEvents]) => {\n            const dayString =\n              dayEvents[0]?.startTime && spacetime(dayEvents[0].startTime).format('iso-utc');\n            return (\n              dayEvents &&\n              (dayEvents as any[]).length > 0 && (\n                <Fragment key={dayEvents[0]?.startTime && dayString}>\n                  <Text size=\"xs\" color=\"peanut\" weight=\"bold\">\n                    {dayEvents[0]?.startTime &&\n                      spacetime(dayEvents[0].startTime).format(formatString)}\n                  </Text>\n                  {(dayEvents as any[])\n                    .flatMap(e => e)\n                    .map(event => {\n                      const startDate = spacetime(event.startTime).goto(\n                        selectedTimezone || getUserTimeZone(),\n                      );\n\n                      const linkProps = {\n                        id: `slots-link-${event.id}`,\n                        ['data-slot-' + idSlots]: true,\n                      };\n                      idSlots++;\n\n                      return (\n                        <a key={event.id} {...linkProps}>\n                          <Text color=\"bloobirds\" size=\"xs\">\n                            {startDate.format(isSpanish ? 'time-24' : 'time') +\n                              ' - ' +\n                              startDate\n                                .goto(selectedTimezone || getUserTimeZone())\n                                .add(event?.minuteSpan, 'minute')\n                                .format(isSpanish ? 'time-24' : 'time') +\n                              ' (' +\n                              allTimeZones?.find(\n                                ({ abbreviation, location }) =>\n                                  abbreviation === selectedTimezone ||\n                                  location === selectedTimezone,\n                              )?.abbreviation +\n                              ')'}\n                          </Text>\n                        </a>\n                      );\n                    })}\n                </Fragment>\n              )\n            );\n          })}\n        </>\n      )}\n    </div>\n  );\n}\n\nexport const SlotsForm = () => {\n  const { t } = useTranslation();\n  const [isDeleteModalVisible, setDeleteModalVisible] = React.useState(false);\n  const {\n    previousLiveEvents,\n    discardLiveEvents,\n    discardChanges,\n    setSlotDuration,\n    slotDuration,\n    liveEvents,\n    contextItems: { Company, Lead },\n    handleSlots,\n    setLiveEvents,\n    setPreviousLiveEvents,\n    slotsModified,\n    slotsData: { selectedTimezone, meetingTitle },\n    setSlotsData,\n  } = useCalendarContext();\n\n  const { settings } = useActiveUserSettings();\n  const [title, setTitle] = React.useState(meetingTitle);\n  const [displayForm, setDisplayForm] = React.useState(false);\n  const isCreating = useMemo(() => !previousLiveEvents?.current, [previousLiveEvents?.current]);\n\n  const handleDiscardChanges = () => {\n    setSlotsData((prevSlotsData: SlotsData) => ({\n      ...prevSlotsData,\n      calendarSlotsVisible: false,\n    }));\n    discardChanges();\n  };\n\n  useEffect(() => {\n    // If there is no title, set it to the default name\n    if (!title) {\n      if (Company && !title) {\n        if ('fields' in Company) {\n          setTitle(\n            `${getValueFromLogicRole(Company, COMPANY_FIELDS_LOGIC_ROLE.NAME)} <> ${\n              settings?.account?.name\n            }`,\n          );\n        } else {\n          setTitle(`${Company?.name || ''} <> ${settings?.account?.name}`);\n        }\n      } else if (Lead && !title) {\n        if ('fields' in Lead) {\n          setTitle(\n            `${getValueFromLogicRole(Lead, LEAD_FIELDS_LOGIC_ROLE.FULL_NAME)} <> ${\n              settings?.account?.name\n            }`,\n          );\n        } else {\n          setTitle(`${(Lead as LinkedInLead)?.fullName || ''} <> ${settings?.account?.name}`);\n        }\n      }\n    }\n  }, [Company, Lead]);\n\n  useEffect(() => {\n    setSlotsData((prevSlotsData: SlotsData) => ({\n      ...prevSlotsData,\n      meetingTitle: title,\n    }));\n  }, [title]);\n\n  const [language, setLanguage] = useState<'en' | 'es'>('en');\n\n  return (\n    <div className={styles.slotsForm}>\n      <div className={clsx(styles.slotsFormBody, { [styles.slotsFormBodyHidden]: !displayForm })}>\n        <header className={styles.slotsFormHeader}>\n          <div style={{ display: 'flex' }}>\n            <IconButton\n              name={displayForm ? 'chevronDown' : 'chevronUp'}\n              size={14}\n              color=\"bloobirds\"\n              className={styles.arrowButton}\n              onClick={() => {\n                setDisplayForm(!displayForm);\n              }}\n            />\n            <Text size=\"s\" className={styles.formTitle}>\n              {t('calendar.selectedSlots')}\n            </Text>\n          </div>\n          <div className={styles.timeSelector}>\n            <Text size=\"xs\">{t('calendar.meetingDuration')}</Text>\n            <Select size=\"small\" value={slotDuration} onChange={setSlotDuration} width=\"48px\">\n              <Item value={15}>15</Item>\n              <Item value={30}>30</Item>\n              <Item value={45}>45</Item>\n              <Item value={60}>60</Item>\n            </Select>\n            <Text size=\"xs\">{t('calendar.minutes')}</Text>\n          </div>\n        </header>\n        <section\n          className={clsx(styles.timeSlotForm, { [styles.timeSlotFormHidden]: !displayForm })}\n        >\n          <div className={styles.sectionHeader}>\n            <Icon name=\"calendar\" size={24} color=\"bloobirds\" />\n            <Input\n              placeholder={t('calendar.meetingTitlePlaceholder')}\n              value={title}\n              onChange={setTitle}\n              width=\"100%\"\n              size=\"small\"\n            />\n          </div>\n          <ParsedSlots\n            liveEvents={liveEvents}\n            language={language}\n            selectedTimezone={selectedTimezone}\n          />\n        </section>\n      </div>\n      <footer className={styles.slotsFormFooter}>\n        {isCreating ? (\n          <div>\n            <Button\n              variant=\"secondary\"\n              size=\"small\"\n              color=\"tomato\"\n              uppercase={false}\n              onClick={handleDiscardChanges}\n              iconLeft=\"trashEmpty\"\n            >\n              {t('common.discard')}\n            </Button>\n          </div>\n        ) : (\n          <div style={{ display: 'flex', gap: '8px' }}>\n            <Button\n              variant=\"secondary\"\n              size=\"small\"\n              color=\"tomato\"\n              uppercase={false}\n              onClick={() => {\n                setDeleteModalVisible(true);\n                mixpanel.track(MIXPANEL_EVENTS.DELETE_CALENDAR_SLOTS);\n              }}\n              iconLeft=\"trashEmpty\"\n            >\n              {t('common.delete')}\n            </Button>\n            {slotsModified && (\n              <Button\n                variant=\"clear\"\n                size=\"small\"\n                color=\"bloobirds\"\n                uppercase={false}\n                onClick={handleDiscardChanges}\n              >\n                {t('calendar.discardChanges')}\n              </Button>\n            )}\n          </div>\n        )}\n        <div className={styles.footerRight} style={{ display: 'flex', gap: '8px' }}>\n          <TranslationDropdown language={language} setLanguage={setLanguage} />\n          <Button\n            variant=\"primary\"\n            size=\"small\"\n            uppercase={false}\n            disabled={!liveEvents}\n            onClick={() => {\n              handleSlots(\n                <ParsedSlots\n                  liveEvents={liveEvents}\n                  language={language}\n                  selectedTimezone={selectedTimezone}\n                />,\n                value => {\n                  setLiveEvents(value);\n                  setPreviousLiveEvents(value);\n                },\n              );\n              mixpanel.track(MIXPANEL_EVENTS.ADD_CALENDAR_SLOTS);\n            }}\n          >\n            {t('common.save')}\n          </Button>\n        </div>\n      </footer>\n      <ConfirmationModal\n        open={isDeleteModalVisible}\n        handleClose={() => {\n          discardLiveEvents();\n          handleSlots(undefined, undefined);\n          setDeleteModalVisible(false);\n          setSlotsData((prevSlotsData: SlotsData) => ({\n            ...prevSlotsData,\n            calendarSlotsVisible: false,\n          }));\n        }}\n        handleCancel={() => setDeleteModalVisible(false)}\n      />\n    </div>\n  );\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { getI18nSpacetimeLng } from '@bloobirds-it/internationalization';\nimport {\n  EventsType,\n  LiveEvent,\n  ServerSideCalendarSlots,\n  SlotsData,\n  TDateISO,\n  TDateISODate,\n} from '@bloobirds-it/types';\nimport { getTimeFromOffset, getUserTimeZone } from '@bloobirds-it/utils';\nimport throttle from 'lodash/throttle';\nimport spacetime from 'spacetime';\nimport { v4 as uuid } from 'uuid';\n\nimport { BannerStates } from './calendar';\nimport {\n  createArrayOfLength,\n  getLiveEventPadding,\n  isSlotCreated,\n  updatedCreatedSectionsOnDelete,\n  mergeExistingPlaceholders,\n} from './utils/calendar.utils';\n\nfunction onlyUnique(value, index, array) {\n  return array.indexOf(value) === index;\n}\n\nfunction slicePlaceholder({\n  eventPlaceholder,\n  selectedTimezone,\n  language,\n}: {\n  eventPlaceholder: LiveEvent;\n  selectedTimezone: string;\n  language: string;\n}): LiveEvent[] {\n  if (!eventPlaceholder) return;\n  const numberOfSlots =\n    eventPlaceholder.duration >= eventPlaceholder.minuteSpan\n      ? Math.floor(eventPlaceholder.duration / eventPlaceholder.minuteSpan)\n      : 1;\n\n  return createArrayOfLength(numberOfSlots).map((_, i) => {\n    const startTime =\n      i === 0\n        ? getI18nSpacetimeLng(\n            language,\n            eventPlaceholder.startTime,\n            selectedTimezone || getUserTimeZone(),\n          )\n        : getI18nSpacetimeLng(\n            language,\n            eventPlaceholder.startTime,\n            selectedTimezone || getUserTimeZone(),\n          ).add(i * eventPlaceholder.minuteSpan, 'minutes');\n\n    const id1 = uuid();\n    const id2 = uuid();\n\n    const paddingTop = getLiveEventPadding(startTime);\n    return {\n      id: id1.replaceAll('-', '') + id2.replaceAll('-', ''),\n      paddingTop,\n      day: eventPlaceholder.day,\n      startTime,\n\n      endTime: startTime.add(eventPlaceholder.minuteSpan, 'minutes'),\n      collisions: eventPlaceholder.collisions,\n      type: 'dragging',\n      minuteSpan: eventPlaceholder.minuteSpan,\n      duration: eventPlaceholder.duration,\n      collisionNumber: eventPlaceholder.collisionNumber,\n    };\n  });\n}\n\nexport const useEventPlaceholder = (\n  slotsData: SlotsData,\n  setCalendarSlotsBannerVisible: React.Dispatch<React.SetStateAction<BannerStates>>,\n  setCalendarSlotsInEmailContext: (value: { [day: string]: LiveEvent[] }) => void,\n) => {\n  const { selectedTimezone } = slotsData || {};\n  const [eventPlaceholder, setEventPlaceholder] = useState<LiveEvent>();\n  const [liveEvents, setLiveEvents] = useState<ServerSideCalendarSlots | []>(\n    slotsData.calendarSlots,\n  );\n  const [slotDuration, setSlotDuration] = useState(30);\n  const [slotsModified, setSlotsModified] = useState(false);\n  const previousLiveEvents = useRef<{ [day: string]: LiveEvent[] } | undefined>(undefined);\n  const isDraggingController = useRef(false);\n  const createdSections = useRef<LiveEvent[]>([]);\n\n  function discardLiveEvents() {\n    setLiveEvents(undefined);\n    previousLiveEvents.current = undefined;\n    setSlotsModified(false);\n    createdSections.current = [];\n  }\n\n  function discardChanges() {\n    setLiveEvents(previousLiveEvents?.current);\n    setSlotsModified(false);\n    createdSections.current = [];\n  }\n\n  useEffect(() => {\n    const timeZonedLiveEvents =\n      liveEvents &&\n      Object.keys(liveEvents || {}).reduce((acc, key: string) => {\n        return {\n          ...acc,\n          [key]: liveEvents[key].map((event: LiveEvent) => {\n            const startTimeInSelectedTimezone = getI18nSpacetimeLng(\n              language,\n              event.startTime,\n              selectedTimezone || getUserTimeZone(),\n            );\n            const paddingTop = getLiveEventPadding(startTimeInSelectedTimezone);\n\n            return {\n              ...event,\n              startTime: startTimeInSelectedTimezone,\n              paddingTop: paddingTop,\n            };\n          }),\n        };\n      }, {});\n    setLiveEvents(timeZonedLiveEvents);\n  }, [selectedTimezone]);\n\n  useEffect(() => {\n    const liveEventsN =\n      (liveEvents &&\n        Object.values(liveEvents || {}).reduce(\n          (total: number, dayEvents: any[]) => total + dayEvents?.length,\n          0,\n        )) ||\n      0;\n\n    const initialLiveEventsN =\n      (previousLiveEvents?.current &&\n        Object.values(previousLiveEvents?.current || {}).reduce(\n          (total, dayEvents) => total + (dayEvents as any[])?.length,\n          0,\n        )) ||\n      0;\n    setCalendarSlotsInEmailContext(liveEvents as ServerSideCalendarSlots);\n    setSlotsModified(liveEventsN !== initialLiveEventsN);\n  }, [liveEvents, previousLiveEvents?.current]);\n\n  const {\n    i18n: { language },\n  } = useTranslation();\n\n  useEffect(() => {\n    if (createdSections.current.length > 0) {\n      const newLiveEvents = [];\n      //TODO find where the duplicates are coming from\n      const uniqueSections = createdSections?.current?.filter(onlyUnique);\n      uniqueSections?.forEach(ph => {\n        const newDuration = Math.floor(ph.duration / slotDuration) * slotDuration;\n        newLiveEvents.push(\n          ...slicePlaceholder({\n            language,\n            eventPlaceholder: {\n              ...ph,\n              minuteSpan: slotDuration,\n              duration: newDuration,\n              endTime: ph.startTime.add(newDuration, 'minutes'),\n            },\n            selectedTimezone,\n          }).reduce((acc, curr) => {\n            if (\n              curr.duration <= 0 ||\n              acc.some(storedEvent =>\n                curr.startTime.isBetween(storedEvent.startTime, storedEvent.endTime),\n              ) ||\n              newLiveEvents.some(storedEvent =>\n                curr.startTime.isBetween(storedEvent.startTime, storedEvent.endTime, true),\n              )\n            ) {\n              return acc;\n            }\n            if (curr.duration < curr.minuteSpan) {\n              return [...acc, { ...curr, minuteSpan: curr.duration }];\n            }\n            return [...acc, curr];\n          }, []),\n        );\n      });\n      addLiveEvents(newLiveEvents, true);\n    }\n  }, [slotDuration]);\n\n  function addLiveEvents(events: LiveEvent[], overwrite = false) {\n    if (!events) return;\n    const futureEvents = events?.filter(e => e?.startTime?.isAfter(new Date()));\n    const eventDay = events?.[0]?.day;\n    if (futureEvents.length === 0) return;\n\n    if (overwrite) {\n      setLiveEvents({ [eventDay]: events });\n      return;\n    }\n    if (futureEvents.length > 0 && liveEvents && liveEvents[eventDay]) {\n      //insert the new event in the correct position\n      const insertEventInTimeline = () => {\n        const orderedEvents = [];\n        let hasPushed = false;\n        for (let i = 0; i < liveEvents[eventDay].length; i++) {\n          const liveEvent = liveEvents[eventDay][i];\n          if (\n            liveEvent.startTime.isBetween(futureEvents[0].startTime, futureEvents.at(-1).endTime)\n          ) {\n            if (!hasPushed) {\n              orderedEvents.push(...futureEvents);\n              hasPushed = true;\n            }\n          } else {\n            orderedEvents.push(liveEvent);\n          }\n        }\n        // new events happen after all the live events\n        if (\n          orderedEvents.length === liveEvents[eventDay].length &&\n          !orderedEvents.some(orderedEvent => {\n            return (\n              futureEvents[0].startTime.isBetween(\n                orderedEvent.startTime,\n                orderedEvent.endTime,\n                false,\n              ) || orderedEvent.startTime.isEqual(futureEvents[0].startTime)\n            );\n          })\n        ) {\n          orderedEvents.push(...futureEvents);\n        }\n\n        return orderedEvents;\n      };\n\n      const orderedFutureEvents = insertEventInTimeline();\n      setLiveEvents({ ...liveEvents, [eventDay]: orderedFutureEvents });\n    } else {\n      const existingLiveEvents = Object.entries(liveEvents || {});\n      const orderedUpdatedEvents =\n        existingLiveEvents.length > 0\n          ? existingLiveEvents.reduce((acc, [key, value], currentIndex) => {\n              const dateIsBeforeNewEvent = spacetime(key).isBefore(spacetime(eventDay));\n              const hasBeenAdded = Object.entries(acc).some(([k]) => k === eventDay);\n              if (!dateIsBeforeNewEvent && !hasBeenAdded) {\n                return { ...acc, [eventDay]: futureEvents, [key]: value };\n              }\n              const isLastIteration = currentIndex === existingLiveEvents.length - 1;\n              return {\n                ...acc,\n                [key]: value,\n                ...(isLastIteration && !hasBeenAdded ? { [eventDay]: futureEvents } : {}),\n              };\n            }, {})\n          : { [eventDay]: futureEvents };\n      //if there's not other events that day, just add the new event\n      setLiveEvents(orderedUpdatedEvents);\n    }\n    setCalendarSlotsBannerVisible(BannerStates.EDIT);\n  }\n\n  function settlePlaceholder(event: React.MouseEvent<HTMLDivElement>) {\n    if (!eventPlaceholder) return;\n    const roundedDuration = Math.floor(eventPlaceholder.duration / slotDuration) * slotDuration;\n    const roundedPlaceholder = { ...eventPlaceholder, duration: roundedDuration };\n    const segmentedLiveEvents = slicePlaceholder({\n      eventPlaceholder: roundedPlaceholder,\n      language,\n      selectedTimezone,\n    });\n    addLiveEvents(segmentedLiveEvents);\n    if (event && eventPlaceholder) {\n      createdSections.current = mergeExistingPlaceholders(\n        createdSections.current,\n        roundedPlaceholder,\n      ) as LiveEvent[];\n    }\n    setEventPlaceholder(undefined);\n    setTimeout(() => (isDraggingController.current = false), 500);\n  }\n\n  function createQuickLiveEvent(mouseDelta, day) {\n    if (mouseDelta.initialPosition === 0 || isDraggingController.current) return;\n    const id = uuid();\n    const startTime = getTimeFromOffset(\n      mouseDelta.initialPosition,\n      spacetime(day).goto(selectedTimezone || getUserTimeZone()),\n    );\n    const startDatetimeSpaceTime = getI18nSpacetimeLng(\n      language,\n      startTime,\n      selectedTimezone || getUserTimeZone(),\n    );\n    const slotCreated = isSlotCreated(liveEvents?.[day] ?? [], startDatetimeSpaceTime);\n    if (!slotCreated) {\n      const paddingTop = getLiveEventPadding(startDatetimeSpaceTime);\n      const newEvent: LiveEvent = {\n        id,\n        paddingTop,\n        day,\n        startTime: startDatetimeSpaceTime,\n        endTime: startDatetimeSpaceTime.add(slotDuration, 'minutes'),\n        collisions: 0,\n        minuteSpan: slotDuration,\n        type: 'dragging',\n        duration: slotDuration,\n        collisionNumber: 0,\n      };\n      addLiveEvents([newEvent]);\n      createdSections.current = mergeExistingPlaceholders(\n        createdSections.current,\n        newEvent,\n      ) as LiveEvent[];\n    }\n  }\n  function deleteLiveEvent(day, id) {\n    const currentEvents = liveEvents[day];\n    const newEvents = currentEvents.filter(event => event.id !== id);\n    const deletedEvent = liveEvents[day].find(event => event.id === id);\n    createdSections.current = updatedCreatedSectionsOnDelete(createdSections.current, deletedEvent);\n    if (newEvents?.length === 0) {\n      createdSections.current = [];\n      setCalendarSlotsBannerVisible(BannerStates.ACTIVE);\n    }\n    setLiveEvents({ ...liveEvents, [day]: newEvents } as ServerSideCalendarSlots);\n  }\n\n  const createPlaceholder = throttle(\n    (date: TDateISO, duration: number, type: EventsType = 'placeholder') => {\n      setEventPlaceholder({\n        duration,\n        type,\n        startTime: getI18nSpacetimeLng(language, date, selectedTimezone || getUserTimeZone()),\n        endTime: getI18nSpacetimeLng(language, date, selectedTimezone || getUserTimeZone()).add(\n          duration,\n          'minutes',\n        ),\n        minuteSpan: slotDuration,\n        id: 'event-placeholder',\n        collisions: 0,\n        collisionNumber: 0,\n        day: spacetime(date).format('iso-short') as TDateISODate,\n      });\n      isDraggingController.current = true;\n    },\n    250,\n  );\n\n  return {\n    slotDuration,\n    deleteLiveEvent,\n    setSlotDuration,\n    eventPlaceholder,\n    createPlaceholder,\n    addLiveEvent: addLiveEvents,\n    discardLiveEvents,\n    discardChanges,\n    settlePlaceholder,\n    previousLiveEvents,\n    setPreviousLiveEvents: value => {\n      previousLiveEvents.current = value;\n    },\n    slotsModified,\n    liveEvents,\n    setLiveEvents,\n    createQuickLiveEvent,\n  };\n};\n","import React, { createContext, JSX, useContext, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n  Avatar,\n  ColorType,\n  CompoundIcon,\n  Icon,\n  IconButton,\n  IconType,\n  Label,\n  Text,\n  Tooltip,\n} from '@bloobirds-it/flamingo-ui';\nimport { useCalendar } from '@bloobirds-it/hooks';\nimport {\n  Bobject,\n  EventsPerDay,\n  ExtensionBobject,\n  Invitee,\n  LiveEvent,\n  MainBobjectTypes,\n  SlotsData,\n  TDateISODate,\n} from '@bloobirds-it/types';\nimport { getUserTimeZone, isToday } from '@bloobirds-it/utils';\nimport clsx from 'clsx';\nimport spacetime from 'spacetime';\n\nimport styles from './calendar.module.css';\nimport { CalendarBanner } from './calendarBanner/calendarBanner';\nimport { CalendarNotConnected } from './calendarNotConnected/calendarNotConnected';\nimport { CalendarColumn } from './components/calendarColumn';\nimport { SlotsForm } from './slotsForm/slotsForm';\nimport { useEventPlaceholder } from './useEventPlaceholder';\nimport { createArrayOfLength } from './utils/calendar.utils';\n\nconst randomColors: ColorType[] = [\n  'bloobirds',\n  'softPeanut',\n  'verySoftTangerine',\n  'softTangerine',\n  'verySoftTomato',\n  'softTomato',\n  'softBanana',\n  'verySoftBanana',\n  'verySoftMelon',\n  'softMelon',\n  'lightBloobirds',\n  'verySoftBloobirds',\n  'verySoftPurple',\n  'lightPurple',\n  'verySoftPeanut',\n  'lightPeanut',\n  'lighterGray',\n  'gray',\n];\n\ninterface CalendarContextInterface extends ReturnType<typeof useEventPlaceholder> {\n  slotsData: SlotsData;\n  setSlotsData: (value: SlotsData | ((prev: SlotsData) => SlotsData)) => void;\n  calendarSlotsBannerVisible: BannerStates;\n  setCalendarSlotsBannerVisible: (state: BannerStates) => void;\n  slotDuration: number;\n  setSlotDuration: (value: number) => void;\n  clickedOnPastDate: () => void;\n  hideSlotsBanner: () => void;\n  contextItems: CalendarProps['contextItems'];\n  handleSlots?: (\n    slots: any,\n    handleClick: (liveEvents: { [day: string]: LiveEvent[] }) => void,\n  ) => void;\n}\n\nfunction getStatusAvatar(\n  status: 'yes' | 'no' | 'noreply',\n): { bagdeColor: ColorType; icon: IconType; iconColor: ColorType } {\n  switch (status) {\n    case 'yes':\n      return { bagdeColor: 'lightestCall', icon: 'check', iconColor: 'extraCall' };\n    case 'no':\n      return { bagdeColor: 'lightestMeeting', icon: 'cross', iconColor: 'extraMeeting' };\n    default:\n      return { bagdeColor: 'verySoftPeanut', icon: 'arrowRight', iconColor: 'softPeanut' };\n  }\n}\n\nfunction getColorFromType(\n  type: 'Lead' | 'AE' | 'Organizer' | 'Company' | 'User' | undefined,\n): ColorType | 'random' {\n  switch (type) {\n    case 'Organizer':\n      return 'purple';\n    case 'AE':\n    case 'User':\n      return 'grape';\n    case 'Company':\n      return 'extraMeeting';\n    case 'Lead':\n      return 'extraMeeting';\n    default:\n      return 'random';\n  }\n}\n\n/**\n * This component is duplicated in activity feed component in components folder\n * so we should copy for now from one place to another\n * @param invitee\n * @param handleRemoveInvitee\n * @param readOnly\n * @param width\n * @param shouldShowStatus\n * @constructor\n */\nexport function InviteeCard({\n  invitee,\n  handleRemoveInvitee,\n  readOnly,\n  width,\n  shouldShowStatus,\n}: {\n  invitee: Invitee;\n  handleRemoveInvitee?: (email: string) => void;\n  readOnly?: boolean;\n  width?: string;\n  shouldShowStatus: boolean;\n}) {\n  const [randomColor] = useState<ColorType>(\n    randomColors[Math.floor(Math.random() * (randomColors.length + 1))],\n  );\n\n  const calculatedColor = getColorFromType(invitee?.type);\n  const colorToUse = calculatedColor === 'random' ? randomColor : calculatedColor;\n  const statusAvatar = getStatusAvatar(invitee?.status);\n  const { t } = useTranslation();\n\n  const parentRef = useRef();\n\n  return (\n    <>\n      {(invitee?.email || invitee?.name) && (\n        <>\n          <div className={styles._invitee_card} style={{ width: width || null }}>\n            <CompoundIcon\n              parent={\n                <Avatar size=\"tiny\" color={colorToUse} ref={parentRef}>\n                  {invitee?.email?.slice(0, 2).toUpperCase() ||\n                    invitee?.name?.slice(0, 2).toUpperCase()}\n                </Avatar>\n              }\n              parentRef={parentRef}\n            >\n              {shouldShowStatus && (\n                <Avatar size=\"supertiny\" color={statusAvatar.bagdeColor}>\n                  <Icon name={statusAvatar.icon} color={statusAvatar.iconColor} size={10} />\n                </Avatar>\n              )}\n            </CompoundIcon>\n            <div className={styles._invitee_info}>\n              {invitee?.name && <Text size=\"s\">{invitee?.name}</Text>}\n              {invitee?.type === 'Lead' && !invitee?.email && (\n                <Text size=\"xs\" color=\"tomato\" decoration=\"underscore\">\n                  {t('calendar.inviteeCard.noEmail')}\n                </Text>\n              )}\n              <Text\n                size=\"xs\"\n                color={invitee?.name ? 'softPeanut' : 'peanut'}\n                decoration=\"underscore\"\n              >\n                {invitee?.email}\n              </Text>\n            </div>\n            {invitee?.type && (\n              <Label size=\"small\" uppercase={false}>\n                {invitee?.type}\n              </Label>\n            )}\n            {!readOnly && (\n              <IconButton\n                name=\"cross\"\n                size={24}\n                color=\"softPeanut\"\n                onClick={() => handleRemoveInvitee(invitee?.email)}\n              />\n            )}\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n\nconst weekArray = createArrayOfLength(7);\nconst dayArray = createArrayOfLength(24);\n\nfunction generateWeek(day: TDateISODate): TDateISODate[] {\n  const firstDay = spacetime(day).startOf('week');\n  return weekArray.map(i => firstDay.add(i, 'day').format('iso-date') as TDateISODate);\n}\n\nconst CalendarContext = createContext(null);\n\nexport enum BannerStates {\n  INACTIVE,\n  ACTIVE,\n  PAST,\n  EDIT,\n}\n\nconst CalendarProvider = ({ slotsData, setSlotsData, contextItems, handleSlots, children }) => {\n  const [calendarSlotsBannerVisible, setCalendarSlotsBannerVisible] = useState<BannerStates>(\n    BannerStates.ACTIVE,\n  );\n  const eventManagement = useEventPlaceholder(slotsData, setCalendarSlotsBannerVisible, value =>\n    setSlotsData((prevSlotsData: SlotsData) => {\n      return {\n        ...prevSlotsData,\n        ...(value ? { calendarSlots: value } : {}),\n      };\n    }),\n  );\n  const prevBannerState = useRef(BannerStates.ACTIVE);\n\n  function clickedOnPastDate() {\n    setCalendarSlotsBannerVisible(BannerStates.PAST);\n    setTimeout(() => setCalendarSlotsBannerVisible(prevBannerState.current), 3000);\n  }\n\n  return (\n    <CalendarContext.Provider\n      value={{\n        clickedOnPastDate,\n        handleSlots,\n        calendarSlotsBannerVisible,\n        hideSlotsBanner: () => {\n          prevBannerState.current = BannerStates.INACTIVE;\n          setCalendarSlotsBannerVisible(BannerStates.INACTIVE);\n        },\n        ...eventManagement,\n        slotsData,\n        setSlotsData,\n        contextItems,\n      }}\n    >\n      {children}\n    </CalendarContext.Provider>\n  );\n};\n\nexport const useCalendarContext = () => {\n  const context = useContext<CalendarContextInterface>(CalendarContext);\n\n  if (!context) {\n    throw new Error(`useCalendarContext must be used within a CalendarProvider`);\n  }\n  return context;\n};\n\ninterface CalendarProps {\n  day: TDateISODate;\n  mode: 'day' | 'week' | 'month';\n  events: EventsPerDay;\n  notConnected: boolean;\n  contextItems: { [K in MainBobjectTypes]: Bobject<K> | ExtensionBobject };\n  slotsData: SlotsData;\n  setSlotsData: (value: SlotsData) => void;\n  onCalendarReconnect: () => void;\n  handleSlots?: (\n    slots: any,\n    callback: (liveEvents: { [day: string]: LiveEvent[] }) => void,\n  ) => void;\n  liveEvents?: { [day: string]: LiveEvent[] };\n}\n\nconst withProvider = (Component: (props) => JSX.Element) => (props: CalendarProps) => {\n  const { slotsData, setSlotsData, handleSlots, ...rest } = props;\n\n  return (\n    <CalendarProvider\n      handleSlots={handleSlots}\n      slotsData={slotsData}\n      setSlotsData={setSlotsData}\n      contextItems={props.contextItems}\n    >\n      <Component {...rest} />\n    </CalendarProvider>\n  );\n};\n\nconst Calendar = ({\n  day,\n  mode = 'week',\n  events,\n  notConnected = false,\n  onCalendarReconnect,\n}: {\n  day: TDateISODate;\n  mode: 'week' | 'day';\n  events: EventsPerDay;\n  notConnected?: boolean;\n  onCalendarReconnect?: () => void;\n}) => {\n  const { slotsData, calendarSlotsBannerVisible, hideSlotsBanner } = useCalendarContext();\n  const hourMarkerRef = useRef(null);\n  const days: TDateISODate[] = mode === 'week' ? generateWeek(day) : [day];\n  const defaultUserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  const { setEventTypesSelected } = useCalendar();\n  const { calendarSlotsVisible, selectedTimezone } = slotsData || {};\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // @ts-ignore\n    hourMarkerRef?.current?.scrollIntoView({ block: 'center' });\n  }, [day]);\n\n  useEffect(() => {\n    if (notConnected) setEventTypesSelected('bloobirds');\n  }, [notConnected]);\n\n  return (\n    <>\n      {calendarSlotsVisible && (\n        <CalendarBanner\n          bannerState={calendarSlotsBannerVisible}\n          hideSlotsBanner={hideSlotsBanner}\n          t={t}\n        />\n      )}\n      {notConnected ? (\n        <CalendarNotConnected mode={mode} onCalendarReconnect={onCalendarReconnect} />\n      ) : (\n        <>\n          {mode !== 'day' && (\n            <div className={styles.calendar_column_headers}>\n              {days.map(day => {\n                const today = isToday(\n                  spacetime(day).toNativeDate(),\n                  selectedTimezone || getUserTimeZone(),\n                );\n                const nameClasses = clsx(styles.calendar_column_header_name, {\n                  [styles.calendar_column_header_name_today]: today,\n                });\n                const dateClasses = clsx(styles.calendar_column_header_date, {\n                  [styles.calendar_column_header_date_today]: today,\n                });\n                return (\n                  <div className={styles.calendar_column_header} key={`header-${day}`}>\n                    <span className={nameClasses}>{spacetime(day).format('day-short')}</span>\n                    <span className={dateClasses}>{spacetime(day).format('date')}</span>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n          <div className={styles.calendar_container}>\n            <div className={styles.calendar_timestrings_container}>\n              <div className={styles.calendar_timestrings}>\n                {dayArray.map(hour => (\n                  <div className={styles.calendar_timestring_container} key={`timestring_${hour}`}>\n                    <div className={styles.calendar_timestring}>\n                      {hour.toString().padStart(2, '0')}:00{' '}\n                      {defaultUserTimezone !== selectedTimezone && (\n                        <Tooltip title={t('calendar.days.timezoneTooltip')} position=\"top\">\n                          <Text size=\"xxs\" align=\"right\">\n                            (\n                            {spacetime()\n                              .goto(selectedTimezone)\n                              .hour(hour)\n                              .goto(defaultUserTimezone)\n                              .hour()}\n                            :00)\n                          </Text>\n                        </Tooltip>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className={styles.calendar_grid_container}>\n              <div className={styles.calendar_grid}>\n                <div className={styles.calendar_grid_tiles}>\n                  {dayArray.map(h => (\n                    <div className={styles.calendar_grid_tile} key={`tile_${h}`}></div>\n                  ))}\n                </div>\n                <div className={styles.calendar_gridcell_container}>\n                  {days.map(day => {\n                    return (\n                      <CalendarColumn\n                        key={`column-${day}`}\n                        mode={mode}\n                        day={day}\n                        events={events}\n                        hourMarkerRef={hourMarkerRef}\n                        selectedTimezone={selectedTimezone}\n                      />\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n      {calendarSlotsVisible && <SlotsForm />}\n    </>\n  );\n};\n\nexport default withProvider(Calendar);\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","CalendarsSelector","_ref","_calendarsAvailable$d","_calendarsAvailable$d2","_calendarsAvailable$d3","_calendarsAvailable$d4","_connections$list","connections","disabled","anchor","_useVisible","useVisible","visible","setVisible","_useCalendar","useCalendar","calendarSelected","setSelectedCalendar","calendarsAvailable","accountSelected","setAccountSelected","calendarsWithColor","_useTranslation","useTranslation","keyPrefix","t","myCalendars","data","filter","calendar","primary","otherCalendars","openLearnHow","_connections$list$","_connections$list$2","list","provider","window","open","handleClickCalendar","value","id","prevSelected","concat","_toConsumableArray","c","_jsx","Dropdown","_jsxs","className","clsx","styles","_select_anchor","_defineProperty","_select_disabled","onClick","children","display","_icon_container","Icon","name","size","color","Text","_select_text","length","toLowerCase","find","marginRight","_calendars_container","_accounts_selector","Select","onChange","borderless","width","map","connection","Item","email","_Fragment","_calendars_list","_calendarsWithColor$f","Checkbox","checked","v","calendarId","_calendarsWithColor$f2","_help_container","cursor","BloobirdsCalendarsSelector","accountId","userId","usersSelected","setUsersSelected","accountExecutivesSelected","setAccountExecutivesSelected","dataModel","useDataModel","isFullSalesEnabled","useFullSalesEnabled","userResponse","useUserSearch","users","sortedUsers","reduce","acc","user","activityAccountExecutiveField","findValuesByFieldLogicRole","ACTIVITY_FIELDS_LOGIC_ROLE","ACCOUNT_EXECUTIVE","totalCalendarsSelected","accountExecutivePicklistValues","ae","enabled","handleSelectUser","curr","handleSelectAccountExecutive","count","isSelfUser","GoogleSignIn","_google__button","_icon","_text","MicrosoftSignIn","_ms__button","CalendarNotConnected","mode","onCalendarReconnect","_useState","useState","_useState2","_slicedToArray","signInClicked","setSignInClicked","calendar_not_connected","align","calendar_buttons","fetchAndOpenNylasUrl","link","decoration","day_calendar_not_connected_container","src","DayCalendarBackground","alt","_background_image","day_calendar_not_connected","weight","day_calendar_buttons","Button","uppercase","Calendar","height","variant","Outlook","getBannerText","bannerState","BannerStates","PAST","EDIT","CalendarBanner","hideSlotsBanner","isCreatingPastSlots","INACTIVE","_slots_callout","_slots_callout_past","IconButton","useMouseDelta","result","setResult","dragging","useRef","previousClientY","element","initialPosition","handleMouseMove","useCallback","e","current","change","offsetY","Math","abs","handleMouseDown","handleMouseUp","useEffect","_element$current","_element$current2","_element$current3","addEventListener","_element$current4","_element$current5","_element$current6","removeEventListener","delta","getPxPaddingSinceMidnight","date","selectedTimezone","dateToUse","spacetime","Date","hour","minute","getLiveEventPadding","createArrayOfLength","Array","from","_","i","updatedCreatedSectionsOnDelete","createdSections","selectedEvent","updatedCreatedSections","selectedEventStart","startTime","selectedEventEnd","endTime","forEach","eventBlock","isBefore","isAfter","push","reducedDuration","duration","minuteSpan","isEqual","_objectSpread","newDurationFirstBlock","diff","newDurationSecondBlock","mergeExistingPlaceholders","selectedPlaceholder","add","day","nextBlock","numOfOverridenEvents","overridenEvents","timeDifference","usableTime","floor","subtract","isSlotCreated","events","startDate","some","section","getColors","event","backgroundColor","barColor","SlotsDisplay","gap","flexDirection","index","borderRadius","borderBottom","DraggingBlock","_ref2","_getColors","startDatetimeSpaceTime","calculatePosition","left","zIndex","isPastEvent","now","cellClassName","calendar_cell","calendar_cell_small","calendar_cell_45","calendar_cell_placeholder","top","border","boxShadow","padding","calendar_cell_title","calendar_cell_time","SolidBlock","_ref3","_event$participants","_getColors2","_getColors3","_useTranslation2","language","i18n","timeSlot","format","topPosition","getI18nSpacetimeLng","getUserTimeZone","participantsWithOrganizer","participants","participant","_event$owner","_event$owner$replaceA","ownerEmail","owner","replaceAll","trim","isOwner","orderedParticipants","invitee","position","fallbackPositions","arrow","customStyles","right","borderLeft","preventDefault","stopPropagation","title","event_details_container","event_details_header","event_details_title_name","event_details_icon","event_details_title_text","event_details_title","toTitleCase","dayName","monthName","event_details_body","attendees_details","attendees_title","attendees_list_container","InviteeCard","readOnly","shouldShowStatus","LiveEventBlock","_ref4","dailyLiveEvents","_useCalendarContext","useCalendarContext","deleteLiveEvent","calendarSlotsVisible","slotsData","liveEvent","idx","_liveEvent$endTime","collisions","eventHeight","paddingTop","justifyContent","alignItems","WebkitUserSelect","userSelect","small_slot","mixpanel","track","MIXPANEL_EVENTS","REMOVE_CALENDAR_SLOT","CalendarEvent","React","memo","_ref5","_spacetime","_useTranslation3","initialEvent","isArray","collisionNumber","CalendarColumn","_mouseDelta$dragging","_events$day","_liveEvents$day$","hourMarkerRef","mouseDelta","eventPlaceholder","createPlaceholder","liveEvents","createQuickLiveEvent","clickedOnPastDate","settlePlaceholder","slotDuration","currentTimePadding","dayNumber","isWeekend","columnClasses","calendar_gridcell","calendar_gridcell_weekend","calendar_creating_slots","placeholderDatetime","getTimeFromOffset","placeholderDuration","getDurationFromOffset","handleCalendarClick","target","tagName","div","getBoundingClientRect","mouseY","clientY","_mouseDelta$ref$curre","onMouseUp","calendar_gridcell_hidden","isToday","calendar_now_marker","ESP_Dates","days","months","ENG_Dates","TranslationDropdown","setLanguage","languages","_window$navigator$lan","navigator","includes","useTitleCase","boxSizing","lng","Radio","ConfirmationModal","handleClose","handleCancel","Modal","onClose","ModalHeader","ModalTitle","inline","ModalCloseIcon","ModalContent","modalContent","Trans","i18nKey","ModalFooter","ParsedSlots","allTimeZones","useTimeZones","orderedEvents","Object","entries","dayEvents","sortedDays","sort","a","b","aDate","bDate","isSpanish","formatString","idSlots","parsedSlots","values","flatMap","_dayEvents$","_dayEvents$2","_dayEvents$3","_ref6","dayString","Fragment","_allTimeZones$find","linkProps","_ref7","abbreviation","location","SlotsForm","_React$useState","_React$useState2","isDeleteModalVisible","setDeleteModalVisible","previousLiveEvents","discardLiveEvents","discardChanges","setSlotDuration","_useCalendarContext$c","contextItems","Company","Lead","handleSlots","setLiveEvents","setPreviousLiveEvents","slotsModified","_useCalendarContext$s","meetingTitle","setSlotsData","_useActiveUserSetting","useActiveUserSettings","settings","_React$useState3","_React$useState4","setTitle","_React$useState5","_React$useState6","displayForm","setDisplayForm","isCreating","useMemo","handleDiscardChanges","prevSlotsData","_settings$account","getValueFromLogicRole","COMPANY_FIELDS_LOGIC_ROLE","NAME","account","_settings$account2","_settings$account3","LEAD_FIELDS_LOGIC_ROLE","FULL_NAME","_settings$account4","fullName","slotsForm","slotsFormBody","slotsFormBodyHidden","slotsFormHeader","arrowButton","formTitle","timeSelector","timeSlotForm","timeSlotFormHidden","sectionHeader","Input","placeholder","slotsFormFooter","iconLeft","DELETE_CALENDAR_SLOTS","footerRight","ADD_CALENDAR_SLOTS","undefined","onlyUnique","array","indexOf","slicePlaceholder","numberOfSlots","id1","uuid","id2","useEventPlaceholder","setCalendarSlotsBannerVisible","setCalendarSlotsInEmailContext","setEventPlaceholder","_useState3","calendarSlots","_useState4","_useState5","_useState6","_useState7","_useState8","setSlotsModified","isDraggingController","timeZonedLiveEvents","keys","key","startTimeInSelectedTimezone","liveEventsN","total","initialLiveEventsN","_createdSections$curr","newLiveEvents","uniqueSections","ph","newDuration","apply","storedEvent","isBetween","addLiveEvents","_events$","overwrite","arguments","futureEvents","_e$startTime","eventDay","insertEventInTimeline","hasPushed","at","orderedEvent","orderedFutureEvents","existingLiveEvents","orderedUpdatedEvents","currentIndex","dateIsBeforeNewEvent","hasBeenAdded","k","isLastIteration","roundedDuration","roundedPlaceholder","segmentedLiveEvents","setTimeout","_liveEvents$day","slotCreated","newEvent","currentEvents","newEvents","deletedEvent","ACTIVE","throttle","addLiveEvent","randomColors","getStatusAvatar","status","bagdeColor","icon","iconColor","getColorFromType","_invitee$email","_invitee$name","handleRemoveInvitee","random","randomColor","calculatedColor","colorToUse","statusAvatar","parentRef","_invitee_card","CompoundIcon","parent","Avatar","slice","toUpperCase","_invitee_info","Label","weekArray","dayArray","generateWeek","firstDay","startOf","CalendarContext","createContext","CalendarProvider","calendarSlotsBannerVisible","eventManagement","prevBannerState","Provider","context","useContext","Error","withProvider","Component","props","rest","_objectWithoutProperties","_excluded","_ref3$mode","_ref3$notConnected","notConnected","defaultUserTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","setEventTypesSelected","_hourMarkerRef$curren","scrollIntoView","block","calendar_column_headers","today","toNativeDate","nameClasses","calendar_column_header_name","calendar_column_header_name_today","dateClasses","calendar_column_header_date","calendar_column_header_date_today","calendar_column_header","calendar_container","calendar_timestrings_container","calendar_timestrings","calendar_timestring_container","calendar_timestring","toString","padStart","Tooltip","calendar_grid_container","calendar_grid","calendar_grid_tiles","h","calendar_grid_tile","calendar_gridcell_container"],"mappings":"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"}