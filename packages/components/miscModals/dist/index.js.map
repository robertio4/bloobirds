{"version":3,"file":"index.js","sources":["../../../../node_modules/style-inject/dist/style-inject.es.js","../src/changeTimezoneModal/changeTimezoneModal.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as React from 'react';\nimport { useState } from 'react';\nimport groupBy from 'lodash/groupBy';\nimport { Button, IconButton, Item, Modal, Section, Select, Text } from '@bloobirds-it/flamingo-ui';\nimport { compose } from 'redux';\nimport styles from './changeTimezoneModal.module.css';\nimport { useTimeZones, useUserTimeZone, TimezoneType } from '@bloobirds-it/hooks';\nimport { useTranslation } from \"react-i18next\";\n\ninterface ChangeTimezoneModalProps {\n  defaultTimezone?: string;\n  onChange: (timezone: string) => void;\n  onClose: () => void;\n}\n\nconst removeContinent = (value: string) => value?.replace(/\\s([A-z]*)\\//, ' ');\nconst replaceUnderscores = (value: string) => value?.replace('_', ':');\nconst cleanTimezoneName = compose(removeContinent, replaceUnderscores);\n\nexport const ChangeTimezoneModal = ({\n  defaultTimezone,\n  onChange,\n  onClose,\n}: ChangeTimezoneModalProps) => {\n  const userTimeZone = useUserTimeZone();\n  const [selectedTimeZone, setSelectedTimeZone] = useState(defaultTimezone || userTimeZone);\n  const allTimeZones = useTimeZones();\n  const userDefaultTimezone = allTimeZones?.find(\n    (timezone: TimezoneType) => timezone?.location === userTimeZone,\n  )?.name;\n  const {t} = useTranslation('translation', {keyPrefix: \"changeTzModal\"});\n\n  const handleChange = () => {\n    onChange(selectedTimeZone);\n  };\n\n  const continentTimeZones = groupBy(allTimeZones, ({ location }) =>\n    location?.split('/')[0].trim(),\n  );\n\n  return (\n    <Modal className={styles.modal} open onClose={onClose}>\n      <header className={styles.header}>\n        <Text size=\"xl\">{t('title')}</Text>\n        <IconButton size={40} name=\"cross\" color=\"bloobirds\" onClick={onClose} />\n      </header>\n      <main className={styles.content}>\n        <Select\n          width=\"100%\"\n          borderless={false}\n          value={selectedTimeZone}\n          onChange={setSelectedTimeZone}\n          size=\"small\"\n          autocomplete\n        >\n          {userTimeZone && <Section id=\"my-timezone\">{t('myTimezone')}</Section>}\n          {userTimeZone && (\n            <Item section=\"my-timezone\" label={userTimeZone} value={userTimeZone}>\n              {userDefaultTimezone ? cleanTimezoneName(userDefaultTimezone) : null}\n            </Item>\n          )}\n          <Section id=\"america-timezone\">{t('america')}</Section>\n          {continentTimeZones['America']?.map(({ location, name }) => (\n            <Item section=\"america-timezone\" key={location} label={location} value={location}>\n              {cleanTimezoneName(name)}\n            </Item>\n          ))}\n          <Section id=\"europe-timezone\">{t('europe')}</Section>\n          {continentTimeZones['Europe']?.map(({ location, name }) => (\n            <Item section=\"europe-timezone\" key={location} label={location} value={location}>\n              {cleanTimezoneName(name)}\n            </Item>\n          ))}\n          <Section id=\"africa-timezone\">{t('africa')}</Section>\n          {continentTimeZones['Africa']?.map(({ location, name }) => (\n            <Item section=\"africa-timezone\" key={location} label={location} value={location}>\n              {cleanTimezoneName(name)}\n            </Item>\n          ))}\n          <Section id=\"asia-timezone\">{t('asia')}</Section>\n          {continentTimeZones['Asia']?.map(({ location, name }) => (\n            <Item section=\"asia-timezone\" key={location} label={location} value={location}>\n              {cleanTimezoneName(name)}\n            </Item>\n          ))}\n          <Section id=\"australia-timezone\">{t('australia')}</Section>\n          {continentTimeZones['Australia']?.map(({ location, name }) => (\n            <Item section=\"australia-timezone\" key={location} label={location} value={location}>\n              {cleanTimezoneName(name)}\n            </Item>\n          ))}\n          <Section id=\"antarctica-timezone\">{t('america')}</Section>\n          {continentTimeZones['Antarctica']?.map(({ location, name }) => (\n            <Item section=\"antarctica-timezone\" key={location} label={location} value={location}>\n              {cleanTimezoneName(name)}\n            </Item>\n          ))}\n        </Select>\n        <Button\n          className={styles.customButton}\n          expand={true}\n          variant=\"tertiary\"\n          uppercase={true}\n          iconLeft=\"calendar\"\n          onClick={handleChange}\n        >\n          {t('change')}\n        </Button>\n      </main>\n    </Modal>\n  );\n};\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","removeContinent","value","replace","replaceUnderscores","cleanTimezoneName","compose","ChangeTimezoneModal","_ref","_allTimeZones$find","_continentTimeZones$A","_continentTimeZones$E","_continentTimeZones$A2","_continentTimeZones$A3","_continentTimeZones$A4","_continentTimeZones$A5","defaultTimezone","onChange","onClose","userTimeZone","useUserTimeZone","_useState","useState","_useState2","_slicedToArray","selectedTimeZone","setSelectedTimeZone","allTimeZones","useTimeZones","userDefaultTimezone","find","timezone","location","name","_useTranslation","useTranslation","keyPrefix","t","handleChange","continentTimeZones","groupBy","_ref2","split","trim","_jsxs","Modal","className","styles","modal","open","children","header","_jsx","Text","size","IconButton","color","onClick","content","Select","width","borderless","autocomplete","Section","id","Item","section","label","map","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","Button","customButton","expand","variant","uppercase","iconLeft"],"mappings":"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"}