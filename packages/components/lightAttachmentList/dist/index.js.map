{"version":3,"file":"index.js","sources":["../../../../node_modules/style-inject/dist/style-inject.es.js","../src/lightAttachmentList/lightAttachmentItem.tsx","../src/lightAttachmentList/lightAttachmentList.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import styles from './lightAttachmentList.module.css';\nimport { Icon, IconButton, Text, Tooltip } from '@bloobirds-it/flamingo-ui';\nimport React from 'react';\nimport { api } from '@bloobirds-it/utils';\n\nexport function LightAttachmentItem({\n  name,\n  url,\n  id,\n}: {\n  name: string;\n  url?: string;\n  id?: string;\n}) {\n  return (\n    <div className={styles.item} role=\"listitem\">\n      <div className={styles.content}>\n        <Icon name=\"file\" size={16} color=\"softPeanut\" />\n        <Tooltip title={name} position=\"top\">\n          <Text size=\"xs\" color=\"softPeanut\">\n            {name}\n          </Text>\n        </Tooltip>\n        {url && (\n          <IconButton\n            name=\"download\"\n            size={16}\n            color=\"bloobirds\"\n            onClick={event => {\n              event.stopPropagation();\n              api\n                .get('/messaging/mediaFiles/download', {\n                  params: {\n                    file_id: id,\n                  },\n                  responseType: 'blob',\n                })\n                .then(res => {\n                  const blobUrl = URL.createObjectURL(res.data);\n                  const link = document.createElement('a');\n                  link.download = name;\n                  link.href = blobUrl;\n                  link.click();\n                  link.remove();\n                });\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport styles from './lightAttachmentList.module.css';\nimport { LightAttachmentItem } from './lightAttachmentItem';\n\nexport function LightAttachmentList({\n  files,\n  betterAttachments,\n}: {\n  files: string[];\n  betterAttachments?: { name: string; url: string; id: string }[];\n}) {\n  const listClasses = clsx(styles.list, {\n    [styles.wrappedList]: files.length > 5,\n  });\n\n  return (\n    <div className={listClasses} role=\"list\">\n      {betterAttachments\n        ? betterAttachments.map(\n            file =>\n              !!file && (\n                <LightAttachmentItem key={file.id} name={file.name} url={file.url} id={file.id} />\n              ),\n          )\n        : files.map(file => !!file && <LightAttachmentItem key={file} name={file} />)}\n    </div>\n  );\n}\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","LightAttachmentItem","_ref","name","url","id","_jsx","className","styles","item","role","children","_jsxs","content","Icon","size","color","Tooltip","title","position","Text","IconButton","onClick","event","stopPropagation","api","get","params","file_id","responseType","then","res","blobUrl","URL","createObjectURL","data","link","download","href","click","remove","LightAttachmentList","files","betterAttachments","listClasses","clsx","list","_defineProperty","wrappedList","length","map","file"],"mappings":"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"}