{"version":3,"file":"index.js","sources":["../src/settingsDetector.tsx","../src/i18n.ts","../src/spacetime.ts"],"sourcesContent":["import { CustomDetector, DetectorOptions } from 'i18next-browser-languagedetector';\n\ninterface SettingsDetectorOptions extends DetectorOptions {\n  lookupSettings?: string;\n}\n\nconst settingsDetector: CustomDetector = {\n  name: 'settingsDetector',\n\n  lookup(options: SettingsDetectorOptions) {\n    if (options.lookupSettings) {\n      return options.lookupSettings;\n    }\n    return undefined;\n  },\n};\n\nexport default settingsDetector;\n","import { useEffect } from 'react';\nimport { initReactI18next } from 'react-i18next';\n\nimport { en, es } from '@bloobirds-it/locales';\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport ChainedBackend from 'i18next-chained-backend';\nimport HttpBackend from 'i18next-http-backend';\nimport resourcesToBackend from 'i18next-resources-to-backend';\n\nimport settingsDetector from './settingsDetector';\n\nconst bundledResources = {\n  en: {\n    translation: en,\n  },\n  es: {\n    translation: es,\n  },\n};\n\nconst init = (languageDetector, language = null) => {\n  const isDevelopment =\n    process.env.FORCE_DEVELOPMENT || !process.env.ENV || process.env.ENV === 'development';\n\n  const backends = isDevelopment\n    ? [resourcesToBackend(bundledResources), HttpBackend]\n    : [HttpBackend, resourcesToBackend(bundledResources)];\n\n  // @ts-ignore\n  i18n\n    .use(initReactI18next)\n    .use(ChainedBackend)\n    .use(languageDetector)\n    .init({\n      detection: {\n        order: [\n          'settingsDetector',\n          'querystring',\n          'cookie',\n          'localStorage',\n          'sessionStorage',\n          'navigator',\n          'htmlTag',\n          'path',\n          'subdomain',\n        ],\n        lookupSettings: language,\n      },\n      fallbackLng: 'en',\n      debug: isDevelopment,\n      interpolation: {\n        escapeValue: false,\n      },\n      backend: {\n        backends: backends,\n        backendOptions: [\n          {\n            loadPath:\n              'https://delivery.localazy.com/_a7714004326121177803f2a33b98/_e0/7684805d1d0d77475387cb607c3d31032d89424d/{{lng}}/{{ns}}.json',\n          },\n        ],\n      },\n      load: 'currentOnly',\n    });\n};\n\nconst useInternationalizationSettings = (language?: string) => {\n  const languageDetector = new LanguageDetector();\n  languageDetector.addDetector(settingsDetector);\n\n  useEffect(() => {\n    init(languageDetector, language);\n  }, [language]);\n};\n\nconst initInternationalizationSettings = () => {\n  const languageDetector = new LanguageDetector();\n  languageDetector.addDetector(settingsDetector);\n\n  init(languageDetector);\n};\n\nexport { useInternationalizationSettings, initInternationalizationSettings };\n","import { useTranslation } from 'react-i18next';\n\nimport i18next from 'i18next';\nimport spacetime, { Spacetime } from 'spacetime';\n\nspacetime.extend(i18next.t);\nconst spacetimeInstance: Spacetime = spacetime();\n\nexport default spacetimeInstance;\n\nexport const getUserTimeZone = () => Intl.DateTimeFormat().resolvedOptions().timeZone;\n\nconst getI18n = (spaceTimeInstance, language): Spacetime => {\n  switch (language) {\n    //FIX: Temporal approach\n    case 'es' as string:\n      spaceTimeInstance.i18n({\n        distance: {\n          past: 'pasado',\n          future: 'futuro',\n          present: 'presente',\n          now: 'ahora',\n          almost: 'casi',\n          over: 'pasan',\n          pastDistance: value => `hace ${value}`,\n          futureDistance: value => `en ${value}`,\n        },\n        units: {\n          second: 'segundo',\n          seconds: 'segundos',\n          minute: 'minuto',\n          minutes: 'minutos',\n          hour: 'hora',\n          hours: 'horas',\n          day: 'dia',\n          days: 'dias',\n          month: 'mes',\n          months: 'meses',\n          year: 'año',\n          years: 'años',\n        },\n        days: {\n          long: ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'],\n          short: ['dom', 'lun', 'mar', 'mié', 'jue', 'vie', 'sáb'],\n        },\n        months: {\n          long: [\n            'enero',\n            'febrero',\n            'marzo',\n            'abril',\n            'mayo',\n            'junio',\n            'julio',\n            'agosto',\n            'septiembre',\n            'octubre',\n            'noviembre',\n            'diciembre',\n          ],\n          short: [\n            'ene',\n            'feb',\n            'mar',\n            'abr',\n            'may',\n            'jun',\n            'jul',\n            'ago',\n            'sep',\n            'oct',\n            'nov',\n            'dic',\n          ],\n        },\n        ampm: {\n          am: 'AM',\n          pm: 'PM',\n        },\n      });\n      break;\n    default:\n      spaceTimeInstance.i18n({\n        distance: {\n          past: 'past',\n          future: 'future',\n          present: 'present',\n          now: 'now',\n          almost: 'almost',\n          over: 'over',\n          pastDistance: value => `${value} ago`,\n          futureDistance: value => `in ${value}`,\n        },\n        units: {\n          second: 'second',\n          secondPlural: 'second',\n          minute: 'minute',\n          minutePlural: 'minutes',\n          hour: 'hour',\n          hourPlural: 'hours',\n          day: 'day',\n          dayPlural: 'seconds',\n          month: 'month',\n          monthPlural: 'months',\n          year: 'year',\n          yearPlural: 'years',\n        },\n        days: {\n          long: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n          short: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        },\n        months: {\n          long: [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December',\n          ],\n          short: [\n            'Jan',\n            'Feb',\n            'Mar',\n            'Apr',\n            'May',\n            'Jun',\n            'Jul',\n            'Aug',\n            'Sep',\n            'Oct',\n            'Nov',\n            'Dec',\n          ],\n        },\n        ampm: {\n          am: 'AM',\n          pm: 'PM',\n        },\n      });\n      break;\n  }\n\n  return spaceTimeInstance;\n};\n\nconst useGetI18nSpacetime = (date?, timezone = getUserTimeZone()): Spacetime => {\n  const spaceTimeInstance = (date ? spacetime(date) : spacetime.now()).goto(timezone);\n\n  const { i18n } = useTranslation();\n  const language = i18n.language || 'en';\n\n  return getI18n(spaceTimeInstance, language);\n};\n\nconst getI18nSpacetimeLng = (lng, date?, timezone = getUserTimeZone()): Spacetime => {\n  const spaceTimeInstance = (date ? spacetime(date) : spacetime.now()).goto(timezone);\n  const language = lng || 'en';\n\n  return getI18n(spaceTimeInstance, language);\n};\n\nexport { useGetI18nSpacetime, getI18nSpacetimeLng };\n"],"names":["settingsDetector","name","lookup","options","lookupSettings","undefined","bundledResources","en","translation","es","init","languageDetector","language","arguments","length","isDevelopment","process","env","FORCE_DEVELOPMENT","ENV","backends","resourcesToBackend","HttpBackend","i18n","use","initReactI18next","ChainedBackend","detection","order","fallbackLng","debug","interpolation","escapeValue","backend","backendOptions","loadPath","load","useInternationalizationSettings","LanguageDetector","addDetector","useEffect","initInternationalizationSettings","spacetime","extend","i18next","t","getUserTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","getI18n","spaceTimeInstance","distance","past","future","present","now","almost","over","pastDistance","value","concat","futureDistance","units","second","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","ampm","am","pm","secondPlural","minutePlural","hourPlural","dayPlural","monthPlural","yearPlural","useGetI18nSpacetime","date","timezone","_useTranslation","useTranslation","getI18nSpacetimeLng","lng"],"mappings":";;;;;;;;;;AAMA,IAAMA,gBAAgC,GAAG;AACvCC,EAAAA,IAAI,EAAE,kBAAkB;EAExBC,MAAM,EAAA,SAAAA,MAACC,CAAAA,OAAgC,EAAE;IACvC,IAAIA,OAAO,CAACC,cAAc,EAAE;MAC1B,OAAOD,OAAO,CAACC,cAAc,CAAA;AAC/B,KAAA;AACA,IAAA,OAAOC,SAAS,CAAA;AAClB,GAAA;AACF,CAAC;;ACHD,IAAMC,gBAAgB,GAAG;AACvBC,EAAAA,EAAE,EAAE;AACFC,IAAAA,WAAW,EAAED,EAAAA;GACd;AACDE,EAAAA,EAAE,EAAE;AACFD,IAAAA,WAAW,EAAEC,EAAAA;AACf,GAAA;AACF,CAAC,CAAA;AAED,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAIC,gBAAgB,EAAsB;AAAA,EAAA,IAApBC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAR,SAAA,GAAAQ,SAAA,CAAA,CAAA,CAAA,GAAG,IAAI,CAAA;EAC7C,IAAME,aAAa,GACjBC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,CAACF,OAAO,CAACC,GAAG,CAACE,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,KAAK,aAAa,CAAA;EAExF,IAAMC,QAAQ,GAAGL,aAAa,GAC1B,CAACM,kBAAkB,CAACf,gBAAgB,CAAC,EAAEgB,WAAW,CAAC,GACnD,CAACA,WAAW,EAAED,kBAAkB,CAACf,gBAAgB,CAAC,CAAC,CAAA;;AAEvD;AACAiB,EAAAA,IAAI,CACDC,GAAG,CAACC,gBAAgB,CAAC,CACrBD,GAAG,CAACE,cAAc,CAAC,CACnBF,GAAG,CAACb,gBAAgB,CAAC,CACrBD,IAAI,CAAC;AACJiB,IAAAA,SAAS,EAAE;AACTC,MAAAA,KAAK,EAAE,CACL,kBAAkB,EAClB,aAAa,EACb,QAAQ,EACR,cAAc,EACd,gBAAgB,EAChB,WAAW,EACX,SAAS,EACT,MAAM,EACN,WAAW,CACZ;AACDxB,MAAAA,cAAc,EAAEQ,QAAAA;KACjB;AACDiB,IAAAA,WAAW,EAAE,IAAI;AACjBC,IAAAA,KAAK,EAAEf,aAAa;AACpBgB,IAAAA,aAAa,EAAE;AACbC,MAAAA,WAAW,EAAE,KAAA;KACd;AACDC,IAAAA,OAAO,EAAE;AACPb,MAAAA,QAAQ,EAAEA,QAAQ;AAClBc,MAAAA,cAAc,EAAE,CACd;AACEC,QAAAA,QAAQ,EACN,8HAAA;OACH,CAAA;KAEJ;AACDC,IAAAA,IAAI,EAAE,aAAA;AACR,GAAC,CAAC,CAAA;AACN,CAAC,CAAA;AAED,IAAMC,+BAA+B,GAAG,SAAlCA,+BAA+BA,CAAIzB,QAAiB,EAAK;AAC7D,EAAA,IAAMD,gBAAgB,GAAG,IAAI2B,gBAAgB,EAAE,CAAA;AAC/C3B,EAAAA,gBAAgB,CAAC4B,WAAW,CAACvC,gBAAgB,CAAC,CAAA;AAE9CwC,EAAAA,SAAS,CAAC,YAAM;AACd9B,IAAAA,IAAI,CAACC,gBAAgB,EAAEC,QAAQ,CAAC,CAAA;AAClC,GAAC,EAAE,CAACA,QAAQ,CAAC,CAAC,CAAA;AAChB,EAAC;AAED,IAAM6B,gCAAgC,GAAG,SAAnCA,gCAAgCA,GAAS;AAC7C,EAAA,IAAM9B,gBAAgB,GAAG,IAAI2B,gBAAgB,EAAE,CAAA;AAC/C3B,EAAAA,gBAAgB,CAAC4B,WAAW,CAACvC,gBAAgB,CAAC,CAAA;EAE9CU,IAAI,CAACC,gBAAgB,CAAC,CAAA;AACxB;;AC5EA+B,SAAS,CAACC,MAAM,CAACC,IAAO,CAACC,CAAC,CAAC,CAAA;AACUH,SAAS,GAAE;AAInCI,IAAAA,eAAe,GAAG,SAAlBA,eAAeA,GAAA;EAAA,OAASC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ,CAAA;AAAA,EAAA;AAErF,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAIC,iBAAiB,EAAExC,QAAQ,EAAgB;AAC1D,EAAA,QAAQA,QAAQ;AACd;AACA,IAAA,KAAK,IAAI;MACPwC,iBAAiB,CAAC7B,IAAI,CAAC;AACrB8B,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,QAAQ;AACdC,UAAAA,MAAM,EAAE,QAAQ;AAChBC,UAAAA,OAAO,EAAE,UAAU;AACnBC,UAAAA,GAAG,EAAE,OAAO;AACZC,UAAAA,MAAM,EAAE,MAAM;AACdC,UAAAA,IAAI,EAAE,OAAO;UACbC,YAAY,EAAE,SAAAA,YAAAA,CAAAC,KAAK,EAAA;YAAA,OAAAC,OAAAA,CAAAA,MAAA,CAAYD,KAAK,CAAA,CAAA;WAAE;UACtCE,cAAc,EAAE,SAAAA,cAAAA,CAAAF,KAAK,EAAA;YAAA,OAAAC,KAAAA,CAAAA,MAAA,CAAUD,KAAK,CAAA,CAAA;AAAA,WAAA;SACrC;AACDG,QAAAA,KAAK,EAAE;AACLC,UAAAA,MAAM,EAAE,SAAS;AACjBC,UAAAA,OAAO,EAAE,UAAU;AACnBC,UAAAA,MAAM,EAAE,QAAQ;AAChBC,UAAAA,OAAO,EAAE,SAAS;AAClBC,UAAAA,IAAI,EAAE,MAAM;AACZC,UAAAA,KAAK,EAAE,OAAO;AACdC,UAAAA,GAAG,EAAE,KAAK;AACVC,UAAAA,IAAI,EAAE,MAAM;AACZC,UAAAA,KAAK,EAAE,KAAK;AACZC,UAAAA,MAAM,EAAE,OAAO;AACfC,UAAAA,IAAI,EAAE,KAAK;AACXC,UAAAA,KAAK,EAAE,MAAA;SACR;AACDJ,QAAAA,IAAI,EAAE;AACJ,UAAA,MAAA,EAAM,CAAC,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC;AAChF,UAAA,OAAA,EAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAA;SACxD;AACDE,QAAAA,MAAM,EAAE;UACN,MAAM,EAAA,CACJ,OAAO,EACP,SAAS,EACT,OAAO,EACP,OAAO,EACP,MAAM,EACN,OAAO,EACP,OAAO,EACP,QAAQ,EACR,YAAY,EACZ,SAAS,EACT,WAAW,EACX,WAAW,CACZ;UACD,OAAO,EAAA,CACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,CAAA;SAER;AACDG,QAAAA,IAAI,EAAE;AACJC,UAAAA,EAAE,EAAE,IAAI;AACRC,UAAAA,EAAE,EAAE,IAAA;AACN,SAAA;AACF,OAAC,CAAC,CAAA;AACF,MAAA,MAAA;AACF,IAAA;MACE3B,iBAAiB,CAAC7B,IAAI,CAAC;AACrB8B,QAAAA,QAAQ,EAAE;AACRC,UAAAA,IAAI,EAAE,MAAM;AACZC,UAAAA,MAAM,EAAE,QAAQ;AAChBC,UAAAA,OAAO,EAAE,SAAS;AAClBC,UAAAA,GAAG,EAAE,KAAK;AACVC,UAAAA,MAAM,EAAE,QAAQ;AAChBC,UAAAA,IAAI,EAAE,MAAM;UACZC,YAAY,EAAE,SAAAA,YAAAA,CAAAC,KAAK,EAAA;YAAA,OAAAC,EAAAA,CAAAA,MAAA,CAAOD,KAAK,EAAA,MAAA,CAAA,CAAA;WAAM;UACrCE,cAAc,EAAE,SAAAA,cAAAA,CAAAF,KAAK,EAAA;YAAA,OAAAC,KAAAA,CAAAA,MAAA,CAAUD,KAAK,CAAA,CAAA;AAAA,WAAA;SACrC;AACDG,QAAAA,KAAK,EAAE;AACLC,UAAAA,MAAM,EAAE,QAAQ;AAChBe,UAAAA,YAAY,EAAE,QAAQ;AACtBb,UAAAA,MAAM,EAAE,QAAQ;AAChBc,UAAAA,YAAY,EAAE,SAAS;AACvBZ,UAAAA,IAAI,EAAE,MAAM;AACZa,UAAAA,UAAU,EAAE,OAAO;AACnBX,UAAAA,GAAG,EAAE,KAAK;AACVY,UAAAA,SAAS,EAAE,SAAS;AACpBV,UAAAA,KAAK,EAAE,OAAO;AACdW,UAAAA,WAAW,EAAE,QAAQ;AACrBT,UAAAA,IAAI,EAAE,MAAM;AACZU,UAAAA,UAAU,EAAE,OAAA;SACb;AACDb,QAAAA,IAAI,EAAE;AACJ,UAAA,MAAA,EAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;AACpF,UAAA,OAAA,EAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAA;SACxD;AACDE,QAAAA,MAAM,EAAE;UACN,MAAM,EAAA,CACJ,SAAS,EACT,UAAU,EACV,OAAO,EACP,OAAO,EACP,KAAK,EACL,MAAM,EACN,MAAM,EACN,QAAQ,EACR,WAAW,EACX,SAAS,EACT,UAAU,EACV,UAAU,CACX;UACD,OAAO,EAAA,CACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,CAAA;SAER;AACDG,QAAAA,IAAI,EAAE;AACJC,UAAAA,EAAE,EAAE,IAAI;AACRC,UAAAA,EAAE,EAAE,IAAA;AACN,SAAA;AACF,OAAC,CAAC,CAAA;AACF,MAAA,MAAA;AACJ,GAAA;AAEA,EAAA,OAAO3B,iBAAiB,CAAA;AAC1B,CAAC,CAAA;AAED,IAAMkC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,IAAK,EAA8C;AAAA,EAAA,IAA5CC,QAAQ,GAAA3E,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAR,CAAAA,CAAAA,KAAAA,SAAA,GAAAQ,SAAA,CAAGiC,CAAAA,CAAAA,GAAAA,eAAe,EAAE,CAAA;AAC9D,EAAA,IAAMM,iBAAiB,GAAG,CAACmC,IAAI,GAAG7C,SAAS,CAAC6C,IAAI,CAAC,GAAG7C,SAAS,CAACe,GAAG,EAAE,EAAM,MAAA,CAAA,CAAC+B,QAAQ,CAAC,CAAA;AAEnF,EAAA,IAAAC,eAAA,GAAiBC,cAAc,EAAE;IAAzBnE,IAAI,GAAAkE,eAAA,CAAJlE,IAAI,CAAA;AACZ,EAAA,IAAMX,QAAQ,GAAGW,IAAI,CAACX,QAAQ,IAAI,IAAI,CAAA;AAEtC,EAAA,OAAOuC,OAAO,CAACC,iBAAiB,EAAExC,QAAQ,CAAC,CAAA;AAC7C,EAAC;AAEK+E,IAAAA,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,GAAG,EAAEL,IAAK,EAA8C;AAAA,EAAA,IAA5CC,QAAQ,GAAA3E,SAAA,CAAAC,MAAA,GAAAD,CAAAA,IAAAA,SAAA,CAAAR,CAAAA,CAAAA,KAAAA,SAAA,GAAAQ,SAAA,CAAGiC,CAAAA,CAAAA,GAAAA,eAAe,EAAE,CAAA;AACnE,EAAA,IAAMM,iBAAiB,GAAG,CAACmC,IAAI,GAAG7C,SAAS,CAAC6C,IAAI,CAAC,GAAG7C,SAAS,CAACe,GAAG,EAAE,EAAM,MAAA,CAAA,CAAC+B,QAAQ,CAAC,CAAA;AACnF,EAAA,IAAM5E,QAAQ,GAAGgF,GAAG,IAAI,IAAI,CAAA;AAE5B,EAAA,OAAOzC,OAAO,CAACC,iBAAiB,EAAExC,QAAQ,CAAC,CAAA;AAC7C;;;;"}